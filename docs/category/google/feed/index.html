<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Google &#8211; 有组织在!</title>
	<atom:link href="https://uzzz.org/category/google/feed" rel="self" type="application/rss+xml" />
	<link>https://uzzz.org/</link>
	<description></description>
	<lastBuildDate>Tue, 16 Aug 2016 02:37:59 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.2.4</generator>

<image>
	<url>https://uzzz.org/wp-content/uploads/2019/10/cropped-icon-32x32.png</url>
	<title>Google &#8211; 有组织在!</title>
	<link>https://uzzz.org/</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>国内国外主要搜索引擎网址登录、收录、录入、入口及说明</title>
		<link>https://uzzz.org/article/2648.html</link>
				<pubDate>Tue, 16 Aug 2016 02:37:59 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[Google]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/2648.html</guid>
				<description><![CDATA[本文是作者对自己使用各大搜索引擎的经验分享，专业术语叫SEO啦,希望对广大博客爱好者，SEO专家有所帮助 以下是主要中文搜索引擎的收录、录入、登录地址入口， 百度 说明：中文搜索引擎老大，收录速度一般，~排~名~据说很黑很暗，通常1~2周， 喜欢收录中文和拼音为主的关键字，使用网络蜘蛛大范围检索收录，比较占服务器资源 内容整理较少，收录内容比较乱，BLOG方面特别喜欢收录blog的TAG，分类的链接，不 喜欢作者，例如本人，当然对.cn结尾的域名特别照顾，拼音域名更佳。 http://www.baidu.com/search/url_submit.html google 中文搜索引擎 说明：比较科学公平地收录，通常先查看网站的sitemap，然后再 访问更新索引，如果网站更新快，索引更新也快，一般1~2周，但是收录较慢，拼音的或 者汉字的收录不太好，火星文往往有歧义的搜索，喜欢博客的TAG，分类，评论，就不喜 欢你的文章，（电脑不喜欢你的文采），不喜欢h1，偏偏喜欢h2，不喜欢跟X开头 的单词，通过网站认证的除外，对网站质量、内容检查较为严格，本站用了10天，5条收录， 有一最大大缺点，就是冷不丁因为某些“热门”关键字清除你所有的收录（911啦，（LA）？ 登？啦），不留任何情面，切记，切忌。 http://www.google.cn/intl/zh-CN/add_url.html Yahoo!中国 说明：中国第三大搜索引擎，比较喜欢非盈利的网站，目前已近跟Google 合作，同时自己有收录系统，站长工具，喜欢收录网上商店系统，博客系统，喜欢.org .net，.me，.name之类的个人网站，速度可以1~4周，本站12月5号提交，目前未收 录，最大的优点，喜欢跟淘宝，阿里巴巴，有点关系的网站，跟google共享一部分搜索 数据，做网店的可以考虑优化Yahoo，缺点，通常yahoo需要人工审核，编订索引，内 容方面要注意。 http://cn.yahoo.com/docs/info/suggest.html 搜狐/搜狗 说明：目前最难找的收录入口了，至今据说关闭了，搜狗现在开始使用google 的搜索结果，基本被google收录sogou就可以搜到，比较喜欢生僻字，火星文，因为他有 最牛B的输入法，以下入口以前我用过，现在可能无效。 http://db.sohu.com/regurl/regform.asp?Step 新浪/爱问/iask 说明：国内注册用户最多的门户，爱问搜索是国内最早提供交互式问题搜索的 搜索引擎，目前使用的是google的搜索结果，跟google共享，但是iask还是提供爱问的登录 入口支持录入，一般1~2周会有收录，一般喜欢加了“？”的标题收录，记得在标题末尾加上 可爱的“？”一般会提高收录率，毕竟iask喜欢人问问题嘛 http://iask.com/guest/add_url.php 网易/有道 说明：163网易的搜索引擎，标榜新技术，博客搜索，翻译都是很快的，个人比较 喜欢博客搜索功能，个人博客用户可以考虑添加，优点。完全独立的搜索引擎，引用部分搜索 引擎结果，速度较快（内容较少），速度还是可以的，以前我的博客（非163）大概一周就收 录，缺点，先天起步较早，用户较少，带来的访问量不多，但质量优良 http://tellbot.youdao.com/report 腾讯/soso 说明：差！标准的山寨货SE，尽然还有这么高市场份额，内容全部来自google， 没有独立的收录入口，不过优点在于腾讯QQ拥有世界最多的IM用户，讨厌的QQ迷你首页提 供搜索功能，还有点利用价值吧，一般只要被google收录即可搜索得到 收录地址：没有发现 以下是主要的英文搜索引擎收录录入地址 Google 说明：这个具体介绍就不说了，上面的中文google已经说明，站长必登录 http://www.google.com/addurl.html MSN live 说明：微软的搜索引擎，技术比较牛，也很老牌，但是大部分用户还只是知道MSN 是聊天工具，但是MS有着N多的操作系统用户可是不容小视的，IE和navigater的斗争结果大家 应该知道的，何况是在中国相信N多的D版XP吧，MSN是默认放IE的搜索引擎，很流氓，不过 很有用收录速度超慢，不过据说可以发Email联系管理员，E文不行就等吧。 http://search.msn.com/docs/submit.aspx?FORM=WSDD2 Alexa 说明：最权威的网站排名网站了，也提供搜索功能，不过我个人只是关注它提供的排 名信息登录速度很快，不过索引更新很慢，慢慢等吧 http://www.alexa.com/site/help/webmasters Yahoo！说明：是目前世界第二大搜索引擎，也是世界注册用户最多的世界级门户网站，世 界人均一个yahoo账号，收录速度很慢，据说要人工检索你的网站，目前已经实现跟google 分享结果，一般google收录的yahoo都可搜到，登录速度未知，反正就是等，如果你需要国 外用户的话，记得登录 http://siteexplorer.search.yahoo.com/submit AOL 说明：美国在线，是最大的用户定制搜索引擎提供商，简单的就是它创造了N多的小型搜 索引擎，收录还是很快的，不区分是否是垃圾信息，网络蜘蛛直接抓取，如果要自己的网站被 较多的国外用户搜到的话，记得登录，不过目前在中国国内AOL的SE还是较少的，垃圾信息多 了，什么人，什么话都有，国内目前已近禁止了AOL的部分访问，不过国外用户还是很多的 http://search.aol.com/add.adp 欢迎在 《共同创作协议》下转载、修改，发布本文，转载请注明作者出处，谢谢，CG &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211; &#8211; 版权声明： &#8211; 如在本页面内无特别说明，本文内容均为[李大仁博客]原创，本文版权归[李大仁博客]所有。 &#8211; 欢迎转载，转载请务必在文章页面明显位置提供原文链接并注明出处。欢迎您在转载本文时保留本段声明。 &#8211; 文章标题： 国内国外主要搜索引擎网址登录、收录、录入入口及说明，最强，分享！ &#8211; 独立博客： 李大仁博客 &#8211; 永久链接：http://www.lidaren.com/archives/112 &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211; 以上内容由博客自动发布工具自动发布，最终显示内容和效果会与原文内容有所偏差，敬请谅解。]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div class="htmledit_views" id="content_views">
<div class="bct fc05 fc11 nbw-blog ztag">
   本文是作者对自己使用各大搜索引擎的经验分享，专业术语叫SEO啦,希望对广大博客爱好者，SEO专家有所帮助</p>
<p>以下是主要中文搜索引擎的收录、录入、登录地址入口，</p>
<p>   <strong>百度</strong> 说明：中文搜索引擎老大，收录速度一般，~排~名~据说很黑很暗，通常1~2周，</p>
<p>喜欢收录中文和拼音为主的关键字，使用网络蜘蛛大范围检索收录，比较占服务器资源</p>
<p>内容整理较少，收录内容比较乱，BLOG方面特别喜欢收录blog的TAG，分类的链接，不</p>
<p>喜欢作者，例如本人，当然对.cn结尾的域名特别照顾，拼音域名更佳。</p>
<p>   <a href="http://www.baidu.com/search/url_submit.html" rel="nofollow" data-token="90789ad509c5093fa6af75238a73095a"><span style="color:#0000ff;">http://www.baidu.com/search/url_submit.html</span></a></p>
<p>   <strong>google</strong> 中文搜索引擎 说明：比较科学公平地收录，通常先查看网站的sitemap，然后再</p>
<p>访问更新索引，如果网站更新快，索引更新也快，一般1~2周，但是收录较慢，拼音的或</p>
<p>者汉字的收录不太好，火星文往往有歧义的搜索，喜欢博客的TAG，分类，评论，就不喜</p>
<p>欢你的文章，（电脑不喜欢你的文采），不喜欢h1，偏偏喜欢h2，不喜欢跟X开头</p>
<p>的单词，通过网站认证的除外，对网站质量、内容检查较为严格，本站用了10天，5条收录，</p>
<p>有一最大大缺点，就是冷不丁因为某些“热门”关键字清除你所有的收录（911啦，（LA）？</p>
<p>登？啦），不留任何情面，切记，切忌。</p>
<p>   <a href="http://www.google.cn/intl/zh-CN/add_url.html" rel="nofollow" data-token="8e888aa35b7a3d1d53f6dede8025e4d7"><span style="color:#0000ff;">http://www.google.cn/intl/zh-CN/add_url.html</span></a></p>
<p>   <strong>Yahoo!中国</strong> 说明：中国第三大搜索引擎，比较喜欢非盈利的网站，目前已近跟Google</p>
<p>合作，同时自己有收录系统，站长工具，喜欢收录网上商店系统，博客系统，喜欢.org</p>
<p>.net，.me，.name之类的个人网站，速度可以1~4周，本站12月5号提交，目前未收</p>
<p>录，最大的优点，喜欢跟淘宝，阿里巴巴，有点关系的网站，跟google共享一部分搜索</p>
<p>数据，做网店的可以考虑优化Yahoo，缺点，通常yahoo需要人工审核，编订索引，内</p>
<p>容方面要注意。</p>
<p>   <a href="http://cn.yahoo.com/docs/info/suggest.html" rel="nofollow" data-token="3a42b75d1e0881e0bee4ced1e5be1e3f"><span style="color:#0000ff;">http://cn.yahoo.com/docs/info/suggest.html</span></a></p>
<p>   <strong>搜狐/搜狗</strong> 说明：目前最难找的收录入口了，至今据说关闭了，搜狗现在开始使用google</p>
<p>的搜索结果，基本被google收录sogou就可以搜到，比较喜欢生僻字，火星文，因为他有</p>
<p>最牛B的输入法，以下入口以前我用过，现在可能无效。</p>
<p>   <a href="http://db.sohu.com/regurl/regform.asp?Step" rel="nofollow" data-token="14eaa7885c6099590584e5b899ad963d"><span style="color:#0000ff;">http://db.sohu.com/regurl/regform.asp?Step</span></a></p>
<p>新浪/爱问/iask 说明：国内注册用户最多的门户，爱问搜索是国内最早提供交互式问题搜索的</p>
<p>搜索引擎，目前使用的是google的搜索结果，跟google共享，但是iask还是提供爱问的登录</p>
<p>入口支持录入，一般1~2周会有收录，一般喜欢加了“？”的标题收录，记得在标题末尾加上</p>
<p>可爱的“？”一般会提高收录率，毕竟iask喜欢人问问题嘛</p>
<p>   <a href="http://iask.com/guest/add_url.php" rel="nofollow" data-token="1278f88a1706ab25fdd0d0cbf22b8f9f"><span style="color:#0000ff;">http://iask.com/guest/add_url.php</span></a></p>
<p>网易/有道 说明：163网易的搜索引擎，标榜新技术，博客搜索，翻译都是很快的，个人比较</p>
<p>喜欢博客搜索功能，个人博客用户可以考虑添加，优点。完全独立的搜索引擎，引用部分搜索</p>
<p>引擎结果，速度较快（内容较少），速度还是可以的，以前我的博客（非163）大概一周就收</p>
<p>录，缺点，先天起步较早，用户较少，带来的访问量不多，但质量优良</p>
<p>   <a href="http://tellbot.youdao.com/report" rel="nofollow" data-token="ae0218a5cd9e3704d708020f1ebd9b24"><span style="color:#0000ff;">http://tellbot.youdao.com/report</span></a></p>
<p>   <strong>腾讯/soso</strong> 说明：差！标准的山寨货SE，尽然还有这么高市场份额，内容全部来自google，</p>
<p>没有独立的收录入口，不过优点在于腾讯QQ拥有世界最多的IM用户，讨厌的QQ迷你首页提</p>
<p>供搜索功能，还有点利用价值吧，一般只要被google收录即可搜索得到</p>
<p>   <span style="color:#0000ff;">收录地址：没有发现</span></p>
<p>以下是主要的英文搜索引擎收录录入地址</p>
<p>   <strong>Google </strong>说明：这个具体介绍就不说了，上面的中文google已经说明，站长必登录</p>
<p>   <a href="http://www.google.com/addurl.html" rel="nofollow" data-token="eac121b1c8529b8f5464eb3adca69b54"><span style="color:#0000ff;">http://www.google.com/addurl.html</span></a><br />
   <span style="color:#0000ff;"> </span></p>
<p>   <strong>MSN live</strong> 说明：微软的搜索引擎，技术比较牛，也很老牌，但是大部分用户还只是知道MSN</p>
<p>是聊天工具，但是MS有着N多的操作系统用户可是不容小视的，IE和navigater的斗争结果大家</p>
<p>应该知道的，何况是在中国相信N多的D版XP吧，MSN是默认放IE的搜索引擎，很流氓，不过</p>
<p>很有用收录速度超慢，不过据说可以发Email联系管理员，E文不行就等吧。</p>
<p>   <a href="http://search.msn.com/docs/submit.aspx?FORM=WSDD2" rel="nofollow" data-token="c55c92893681055e1eab56a1f4227600"><span style="color:#0000ff;">http://search.msn.com/docs/submit.aspx?FORM=WSDD2</span></a></p>
<p>   <strong>Alexa </strong>说明：最权威的网站排名网站了，也提供搜索功能，不过我个人只是关注它提供的排</p>
<p>名信息登录速度很快，不过索引更新很慢，慢慢等吧</p>
<p>   <a href="http://www.alexa.com/site/help/webmasters" rel="nofollow" data-token="c124c50964dd40c1fa8bfa5c68084995"><span style="color:#0000ff;">http://www.alexa.com/site/help/webmasters</span></a></p>
<p>   <strong>Yahoo！</strong>说明：是目前世界第二大搜索引擎，也是世界注册用户最多的世界级门户网站，世</p>
<p>界人均一个yahoo账号，收录速度很慢，据说要人工检索你的网站，目前已经实现跟google</p>
<p>分享结果，一般google收录的yahoo都可搜到，登录速度未知，反正就是等，如果你需要国</p>
<p>外用户的话，记得登录</p>
<p>   <a href="http://siteexplorer.search.yahoo.com/submit" rel="nofollow" data-token="26efef37519a7160ce2636109a1698e0">http://siteexplorer.search.yahoo.com/submit</a></p>
<p>   <strong>AOL</strong> 说明：美国在线，是最大的用户定制搜索引擎提供商，简单的就是它创造了N多的小型搜</p>
<p>索引擎，收录还是很快的，不区分是否是垃圾信息，网络蜘蛛直接抓取，如果要自己的网站被</p>
<p>较多的国外用户搜到的话，记得登录，不过目前在中国国内AOL的SE还是较少的，垃圾信息多</p>
<p>了，什么人，什么话都有，国内目前已近禁止了AOL的部分访问，不过国外用户还是很多的</p>
<p>   <a href="http://search.aol.com/add.adp" rel="nofollow" data-token="dc329da156aa2b893b5ddbecacecd51e">http://search.aol.com/add.adp</a></p>
<p>欢迎在<br />
   <a title="共同创作协议" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.en_GB" rel="nofollow" data-token="170a8a376acdc86114241401ecbf6766"><span style="color:#2255aa;">《共同创作协议》</span></a>下转载、修改，发布本文，转载请注明作者出处，谢谢，CG<br />
   <br />&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;<br />
   <br />&#8211; 版权声明：<br />
   <br />&#8211; 如在本页面内无特别说明，本文内容均为[李大仁博客]原创，本文版权归[李大仁博客]所有。<br />
   <br />&#8211; 欢迎转载，转载请务必在文章页面明显位置提供原文链接并注明出处。欢迎您在转载本文时保留本段声明。<br />
   <br />&#8211; 文章标题：<br />
   <a href="http://www.lidaren.com/archives/112" rel="nofollow" data-token="081ce507b0e7ef1e7f8bc9b34a76a93a">国内国外主要搜索引擎网址登录、收录、录入入口及说明，最强，分享！</a><br />
   <br />&#8211; 独立博客：<br />
   <a href="http://www.lidaren.com" rel="nofollow" data-token="5812c10c63e31951cf24639662845de4">李大仁博客</a><br />
   <br />&#8211; 永久链接：http://www.lidaren.com/archives/112<br />
   <br />&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;<br />
   <br />以上内容由博客自动发布工具自动发布，最终显示内容和效果会与原文内容有所偏差，敬请谅解。<br />
   
  </div>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>Android Zxing 扫描器 扫描框、扫描线定制样式</title>
		<link>https://uzzz.org/article/2962.html</link>
				<pubDate>Fri, 08 Jul 2016 02:59:04 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[Google]]></category>
		<category><![CDATA[移动开发]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/2962.html</guid>
				<description><![CDATA[###一、概述 相信Adnroid开发都知道，世界上有四款扫描器，Zxing 、Zbar ，Barcode4J、OkapiBarcode 前二者应用较广泛，至于介绍与区别就在此阐述，网上有很多。此文主要介绍在在使用过程中，官方客户端各种达不到需求。相信很多童鞋都有此体会，所以借此机会就在Zxing 官方客户端基础上修改，去除无用功能并二次封装达到可扩展。 官方客户端目前问题汇总 设置功能多余 竖屏后不能正向扫描条形码 扫描框大小、颜色、扫描线配置不够灵活 无生成二维码、主动识别二维码功能 介于以上问题，于是该库就华丽的诞生 修复竖屏不能正向扫描条形码 可定制扫描框与扫描线样式 加入创建二维码、识别图片中的二维码功能 ###二、效果图 本库地址：https://github.com/mylhyl/Android-Zxing ###三、代码说明 Zxing 核心代码 https://github.com/zxing/zxing/tree/master/core 不作任何修改也不需要修改，只管用就行主要修改客户端代码。你可以自己编译成 jar 或者直接下源码拷到工程，可以参考Zxing编译。也可以到github下载本库，利用gradle编译 如下图双击 makeJar 等待控制出现 BUILD SUCCESSFUL 即编译完成，zxing 工程目录build将出libs目录 精简后的代码，去掉资源文件、扫描历史记录、分享等，目录结构如下 camera 摄像头相关 common 全局静态常量相关 decode 解析二维码相关 encode 生成二维码相关 OnScannerCompletionListener 扫描成功接口 ViewfinderView 扫描预览视图 ScannerView 新增自定义View，包括 ViewfinderView 、SurfaceView，公开一些样式设置方法，具体使用后面介绍 样式定义上来说，其实就在darw方法中，与平时自定义View一样，废话不多说来看一下干货 定义所用的变量 private int laserColor = Scanner.color.VIEWFINDER_LASER;//扫描线颜色 private int laserFrameBoundColor = laserColor;//扫描框4角颜色 private int laserLineTop;// 扫描线最顶端位置 private int laserLineHeight;//扫描线默认高度 private int laserMoveSpeed;// 扫描线默认移动距离px private int laserFrameCornerWidth;//扫描框4角宽 private int laserFrameCornerLength;//扫描框4角高 private int laserLineResId;//扫描线图片资源 private String drawText = "将二维码放入框内，即可自动扫描";//提示文字 private int drawTextSize;//提示文字大小 private int drawTextColor = Color.WHITE;//提示文字颜色 private boolean drawTextGravityBottom = true;//提示文字位置 private int drawTextMargin;//提示文字与扫描框距离 darw方法 @Override public void onDraw(Canvas canvas) { if (cameraManager == null) { return; } Rect frame = cameraManager.getFramingRect();//取扫描框 //取屏幕预览 Rect previewFrame = cameraManager.getFramingRectInPreview(); if (frame == null &#124;&#124; previewFrame == null) { return; } // 绘制扫描框以外4个区域 drawMask(canvas, frame); // 如果有二维码结果的Bitmap，在扫取景框内绘制不透明的result Bitmap if (resultBitmap != null) { paint.setAlpha(CURRENT_POINT_OPACITY); canvas.drawBitmap(resultBitmap, null, frame, paint); } else { drawFrame(canvas, frame);//绘制扫描框 drawFrameCorner(canvas, frame);//绘制扫描框4角 drawText(canvas, frame);// 画扫描框下面的字 drawLaserLine(canvas, frame);//绘制扫描线 drawResultPoint(canvas, frame, previewFrame);//绘制扫描点标记 moveLaserSpeed(frame);//计算移动位置 } } 扫描框的4个角 /** * 绘制扫描框4角 * * @param canvas * @param]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div id="content_views" class="markdown_views prism-atom-one-dark">
  <!-- flowchart 箭头图标 勿删 --><br />
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> </p>
<p>###一、概述</p>
<p>相信Adnroid开发都知道，世界上有四款扫描器，<a href="https://github.com/zxing/zxing" rel="nofollow" data-token="19e9494b2eebb4fdf119174850093732">Zxing</a> 、<a href="https://github.com/zbar/zbar" rel="nofollow" data-token="e5a1e4c24092f2a75bf5cef14fc1eba1">Zbar</a> ，<a href="https://sourceforge.net/projects/barcode4j/files/" rel="nofollow" data-token="530c2bb085b5adad20c7eedda367b83d">Barcode4J</a>、<a href="https://github.com/woo-j/OkapiBarcode" rel="nofollow" data-token="d97fe04efd4fc3b64e5b5f8818904e3f">OkapiBarcode</a> 前二者应用较广泛，至于介绍与区别就在此阐述，网上有很多。此文主要介绍在在使用过程中，官方客户端各种达不到需求。相信很多童鞋都有此体会，所以借此机会就在Zxing 官方客户端基础上修改，去除无用功能并二次封装达到可扩展。</p>
<ul>
<li>官方客户端目前问题汇总</li>
<li>设置功能多余</li>
<li>竖屏后不能正向扫描条形码</li>
<li>扫描框大小、颜色、扫描线配置不够灵活</li>
<li>无生成二维码、主动识别二维码功能</li>
<li>介于以上问题，于是该库就华丽的诞生</li>
<li>修复竖屏不能正向扫描条形码</li>
<li>可定制扫描框与扫描线样式</li>
<li>加入创建二维码、识别图片中的二维码功能</li>
</ul>
<p>###二、效果图<br /> <img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTYwNzA4MTEwOTUxMDky?x-oss-process=image/format,png" alt="这里写图片描述"></p>
<p>本库地址：<a href="https://github.com/mylhyl/Android-Zxing" rel="nofollow" data-token="dd3b439f718f49cf97c40e3b4fa4003a">https://github.com/mylhyl/Android-Zxing</a><br /> ###三、代码说明</p>
<ul>
<li>Zxing 核心代码 https://github.com/zxing/zxing/tree/master/core 不作任何修改也不需要修改，只管用就行主要修改客户端代码。你可以自己编译成 jar 或者直接下源码拷到工程，可以参考<a href="http://blog.csdn.net/hupei/article/details/51879927" rel="nofollow" data-token="45a5f34332fe9ea88ee603c52ca5a067">Zxing编译</a>。也可以到<a href="https://github.com/mylhyl/Android-Zxing" rel="nofollow" data-token="dd3b439f718f49cf97c40e3b4fa4003a">github</a>下载本库，利用gradle编译</li>
</ul>
<ol>
<li>
<p>如下图双击 makeJar<br /> <img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTYwNzExMTM1NjE1NTg3?x-oss-process=image/format,png" alt="这里写图片描述"></p>
</li>
<li>
<p>等待控制出现 BUILD SUCCESSFUL 即编译完成，zxing 工程目录build将出libs目录<br /> <img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTYwNzExMTQwMjIxMTU3?x-oss-process=image/format,png" alt="这里写图片描述"></p>
</li>
</ol>
<ul>
<li>精简后的代码，去掉资源文件、扫描历史记录、分享等，目录结构如下<br /> <img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTYwNzA4MTExMjI2MTgz?x-oss-process=image/format,png" alt="这里写图片描述"></li>
<li><a href="https://github.com/mylhyl/Android-Zxing/tree/master/zxingscanner/src/main/java/com/mylhyl/zxing/scanner/camera" rel="nofollow" data-token="53a1162168406d261da97733b32c499b">camera</a> 摄像头相关</li>
<li><a href="https://github.com/mylhyl/Android-Zxing/tree/master/zxingscanner/src/main/java/com/mylhyl/zxing/scanner/common" rel="nofollow" data-token="b494549e9d88caa3d076bb143bd2d9c0">common</a> 全局静态常量相关</li>
<li><a href="https://github.com/mylhyl/Android-Zxing/tree/master/zxingscanner/src/main/java/com/mylhyl/zxing/scanner/decode" rel="nofollow" data-token="a1ddd86b9b151737a710126628803498">decode</a> 解析二维码相关</li>
<li><a href="https://github.com/mylhyl/Android-Zxing/tree/master/zxingscanner/src/main/java/com/mylhyl/zxing/scanner/encode" rel="nofollow" data-token="e325862c2d6b461829749321a324080a">encode</a> 生成二维码相关</li>
<li><a href="https://github.com/mylhyl/Android-Zxing/blob/master/zxingscanner/src/main/java/com/mylhyl/zxing/scanner/OnScannerCompletionListener.java" rel="nofollow" data-token="ab05fb4a3809b30830716fde8237cf0d">OnScannerCompletionListener</a> 扫描成功接口</li>
<li><a href="https://github.com/mylhyl/Android-Zxing/blob/master/zxingscanner/src/main/java/com/mylhyl/zxing/scanner/ViewfinderView.java" rel="nofollow" data-token="df4bff80793954786d4eefcc8360067e">ViewfinderView</a> 扫描预览视图</li>
<li><a href="https://github.com/mylhyl/Android-Zxing/blob/master/zxingscanner/src/main/java/com/mylhyl/zxing/scanner/ScannerView.java" rel="nofollow" data-token="72cf93822673adfc0b754c4976aa227b">ScannerView</a> 新增自定义View，包括 ViewfinderView 、SurfaceView，公开一些样式设置方法，具体使用后面介绍</li>
<li>样式定义上来说，其实就在darw方法中，与平时自定义View一样，废话不多说来看一下干货</li>
</ul>
<p><strong>定义所用的变量</strong></p>
<pre><code class="prism language-java"><span class="token keyword">private</span> <span class="token keyword">int</span> laserColor <span class="token operator">=</span> Scanner<span class="token punctuation">.</span>color<span class="token punctuation">.</span>VIEWFINDER_LASER<span class="token punctuation">;</span><span class="token comment">//扫描线颜色</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> laserFrameBoundColor <span class="token operator">=</span> laserColor<span class="token punctuation">;</span><span class="token comment">//扫描框4角颜色</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> laserLineTop<span class="token punctuation">;</span><span class="token comment">// 扫描线最顶端位置</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> laserLineHeight<span class="token punctuation">;</span><span class="token comment">//扫描线默认高度</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> laserMoveSpeed<span class="token punctuation">;</span><span class="token comment">// 扫描线默认移动距离px</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> laserFrameCornerWidth<span class="token punctuation">;</span><span class="token comment">//扫描框4角宽</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> laserFrameCornerLength<span class="token punctuation">;</span><span class="token comment">//扫描框4角高</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> laserLineResId<span class="token punctuation">;</span><span class="token comment">//扫描线图片资源</span>
<span class="token keyword">private</span> String drawText <span class="token operator">=</span> <span class="token string">"将二维码放入框内，即可自动扫描"</span><span class="token punctuation">;</span><span class="token comment">//提示文字</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> drawTextSize<span class="token punctuation">;</span><span class="token comment">//提示文字大小</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> drawTextColor <span class="token operator">=</span> Color<span class="token punctuation">.</span>WHITE<span class="token punctuation">;</span><span class="token comment">//提示文字颜色</span>
<span class="token keyword">private</span> <span class="token keyword">boolean</span> drawTextGravityBottom <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//提示文字位置</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> drawTextMargin<span class="token punctuation">;</span><span class="token comment">//提示文字与扫描框距离</span>
</code></pre>
<p><strong>darw方法</strong></p>
<pre><code>@Override
public void onDraw(Canvas canvas) {
    if (cameraManager == null) {
        return;
    }
    Rect frame = cameraManager.getFramingRect();//取扫描框
    //取屏幕预览
    Rect previewFrame = cameraManager.getFramingRectInPreview();
    if (frame == null || previewFrame == null) {
        return;
    }
    // 绘制扫描框以外4个区域
    drawMask(canvas, frame);
    // 如果有二维码结果的Bitmap，在扫取景框内绘制不透明的result Bitmap
    if (resultBitmap != null) {
        paint.setAlpha(CURRENT_POINT_OPACITY);
        canvas.drawBitmap(resultBitmap, null, frame, paint);
    } else {
        drawFrame(canvas, frame);//绘制扫描框
        drawFrameCorner(canvas, frame);//绘制扫描框4角
        drawText(canvas, frame);// 画扫描框下面的字
        drawLaserLine(canvas, frame);//绘制扫描线
        drawResultPoint(canvas, frame, previewFrame);//绘制扫描点标记
        moveLaserSpeed(frame);//计算移动位置
    }
}
</code></pre>
<p><strong>扫描框的4个角</strong></p>
<pre><code class="prism language-java"><span class="token comment">/** * 绘制扫描框4角 * * @param canvas * @param frame */</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">drawFrameCorner</span><span class="token punctuation">(</span>Canvas canvas<span class="token punctuation">,</span> Rect frame<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    paint<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>laserFrameBoundColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paint<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span>Paint<span class="token punctuation">.</span>Style<span class="token punctuation">.</span>FILL<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 左上角</span>
    canvas<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>frame<span class="token punctuation">.</span>left <span class="token operator">-</span> laserFrameCornerWidth<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>top<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>left<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>top
            <span class="token operator">+</span> laserFrameCornerLength<span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>frame<span class="token punctuation">.</span>left <span class="token operator">-</span> laserFrameCornerWidth<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>top <span class="token operator">-</span> laserFrameCornerWidth<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>left
            <span class="token operator">+</span> laserFrameCornerLength<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>top<span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 右上角</span>
    canvas<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>frame<span class="token punctuation">.</span>right<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>top<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>right <span class="token operator">+</span> laserFrameCornerWidth<span class="token punctuation">,</span>
            frame<span class="token punctuation">.</span>top <span class="token operator">+</span> laserFrameCornerLength<span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>frame<span class="token punctuation">.</span>right <span class="token operator">-</span> laserFrameCornerLength<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>top <span class="token operator">-</span> laserFrameCornerWidth<span class="token punctuation">,</span>
            frame<span class="token punctuation">.</span>right <span class="token operator">+</span> laserFrameCornerWidth<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>top<span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 左下角</span>
    canvas<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>frame<span class="token punctuation">.</span>left <span class="token operator">-</span> laserFrameCornerWidth<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>bottom <span class="token operator">-</span> laserFrameCornerLength<span class="token punctuation">,</span>
            frame<span class="token punctuation">.</span>left<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>bottom<span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>frame<span class="token punctuation">.</span>left <span class="token operator">-</span> laserFrameCornerWidth<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>bottom<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>left
            <span class="token operator">+</span> laserFrameCornerLength<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>bottom <span class="token operator">+</span> laserFrameCornerWidth<span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 右下角</span>
    canvas<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>frame<span class="token punctuation">.</span>right<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>bottom <span class="token operator">-</span> laserFrameCornerLength<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>right
            <span class="token operator">+</span> laserFrameCornerWidth<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>bottom<span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>frame<span class="token punctuation">.</span>right <span class="token operator">-</span> laserFrameCornerLength<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>bottom<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>right
            <span class="token operator">+</span> laserFrameCornerWidth<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>bottom <span class="token operator">+</span> laserFrameCornerWidth<span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>图片画与画笔扫描线</strong></p>
<pre><code class="prism language-java"><span class="token comment">/** * 画扫描线 * * @param canvas * @param frame */</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">drawLaserLine</span><span class="token punctuation">(</span>Canvas canvas<span class="token punctuation">,</span> Rect frame<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>laserLineResId <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        paint<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span>Paint<span class="token punctuation">.</span>Style<span class="token punctuation">.</span>FILL<span class="token punctuation">)</span><span class="token punctuation">;</span>
        paint<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>laserColor<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 设置扫描线颜色</span>
        canvas<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>frame<span class="token punctuation">.</span>left<span class="token punctuation">,</span> laserLineTop<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>right<span class="token punctuation">,</span> laserLineTop <span class="token operator">+</span> laserLineHeight<span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>laserLineBitmap <span class="token operator">==</span> null<span class="token punctuation">)</span><span class="token comment">//图片资源文件转为 Bitmap</span>
            laserLineBitmap <span class="token operator">=</span> BitmapFactory<span class="token punctuation">.</span><span class="token function">decodeResource</span><span class="token punctuation">(</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> laserLineResId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> height <span class="token operator">=</span> laserLineBitmap<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//取原图高</span>
        <span class="token comment">//网格图片</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isLaserGridLine<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            RectF dstRectF <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RectF</span><span class="token punctuation">(</span>frame<span class="token punctuation">.</span>left<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>top<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>right<span class="token punctuation">,</span> laserLineTop<span class="token punctuation">)</span><span class="token punctuation">;</span>
            Rect srcRect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>height <span class="token operator">-</span> dstRectF<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> laserLineBitmap<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
            canvas<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span>laserLineBitmap<span class="token punctuation">,</span> srcRect<span class="token punctuation">,</span> dstRectF<span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//线条图片</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">//如果没有设置线条高度，则用图片原始高度</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>laserLineHeight <span class="token operator">==</span> Scanner<span class="token punctuation">.</span><span class="token function">dp2px</span><span class="token punctuation">(</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> DEFAULT_LASER_LINE_HEIGHT<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                laserLineHeight <span class="token operator">=</span> laserLineBitmap<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            Rect laserRect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rect</span><span class="token punctuation">(</span>frame<span class="token punctuation">.</span>left<span class="token punctuation">,</span> laserLineTop<span class="token punctuation">,</span> frame<span class="token punctuation">.</span>right<span class="token punctuation">,</span> laserLineTop <span class="token operator">+</span> laserLineHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
            canvas<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span>laserLineBitmap<span class="token punctuation">,</span> null<span class="token punctuation">,</span> laserRect<span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>扫描提示文字</strong></p>
<pre><code class="prism language-java"><span class="token comment">/** * 绘制提示文字 * * @param canvas * @param frame */</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">drawText</span><span class="token punctuation">(</span>Canvas canvas<span class="token punctuation">,</span> Rect frame<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> width <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paint<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>drawTextColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paint<span class="token punctuation">.</span><span class="token function">setTextSize</span><span class="token punctuation">(</span>drawTextSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token keyword">float</span> textWidth <span class="token operator">=</span> paint<span class="token punctuation">.</span><span class="token function">measureText</span><span class="token punctuation">(</span>drawText<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//取出文字宽度</span>
    <span class="token keyword">float</span> x <span class="token operator">=</span> <span class="token punctuation">(</span>width <span class="token operator">-</span> textWidth<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//文字开始位置</span>
    <span class="token comment">//根据 drawTextGravityBottom 文字在扫描框上方还是下文，默认下方</span>
    <span class="token keyword">float</span> y <span class="token operator">=</span> drawTextGravityBottom <span class="token operator">?</span> frame<span class="token punctuation">.</span>bottom <span class="token operator">+</span> drawTextMargin <span class="token operator">:</span> frame<span class="token punctuation">.</span>top <span class="token operator">-</span> drawTextMargin<span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span><span class="token function">drawText</span><span class="token punctuation">(</span>drawText<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>###三、使用<br /> 直接在<code>layout xml</code>使用<code>ScannerView</code>即可</p>
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>com.mylhyl.zxing.scanner.ScannerView</span> <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/scanner_view<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre>
<p>重写<code>onResume</code>调用<code>mScannerView.onResume();</code></p>
<pre><code class="prism language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    mScannerView<span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>注册扫描成功监听器<code>setOnScannerCompletionListener</code></p>
<pre><code class="prism language-java"><span class="token comment">/** * 扫描成功后将调用 * * @param rawResult 扫描结果 * @param parsedResult 结果类型 * @param barcode 扫描后的图像 */</span>
<span class="token keyword">void</span> <span class="token function">OnScannerCompletion</span><span class="token punctuation">(</span>Result rawResult<span class="token punctuation">,</span> ParsedResult parsedResult<span class="token punctuation">,</span> Bitmap barcode<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>调用如下方法获取类型</p>
<pre><code class="prism language-java">ParsedResultType type <span class="token operator">=</span> parsedResult<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>可根据<code>type</code>强转为相应的对象，按项目需求处理。每个项目都有不同的需求，所以此库将最终处理结果丢给你们自己咯，想怎么玩就怎么玩，下面代码是在 sample 中</p>
<pre><code class="prism language-java"><span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> ADDRESSBOOK<span class="token operator">:</span>
		AddressBookParsedResult addressResult <span class="token operator">=</span> <span class="token punctuation">(</span>AddressBookParsedResult<span class="token punctuation">)</span> parsedResult<span class="token punctuation">;</span>
		bundle<span class="token punctuation">.</span><span class="token function">putStringArray</span><span class="token punctuation">(</span>Intents<span class="token punctuation">.</span>AddressBookConnect<span class="token punctuation">.</span>NAME<span class="token punctuation">,</span> addressResult<span class="token punctuation">.</span><span class="token function">getNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		bundle<span class="token punctuation">.</span><span class="token function">putStringArray</span><span class="token punctuation">(</span>Intents<span class="token punctuation">.</span>AddressBookConnect<span class="token punctuation">.</span>NUMBER<span class="token punctuation">,</span> addressResult<span class="token punctuation">.</span><span class="token function">getPhoneNumbers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		bundle<span class="token punctuation">.</span><span class="token function">putStringArray</span><span class="token punctuation">(</span>Intents<span class="token punctuation">.</span>AddressBookConnect<span class="token punctuation">.</span>EMAIL<span class="token punctuation">,</span> addressResult<span class="token punctuation">.</span><span class="token function">getEmails</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> URI<span class="token operator">:</span>
        URIParsedResult uriParsedResult <span class="token operator">=</span> <span class="token punctuation">(</span>URIParsedResult<span class="token punctuation">)</span> parsedResult<span class="token punctuation">;</span>
        bundle<span class="token punctuation">.</span><span class="token function">putString</span><span class="token punctuation">(</span>Intents<span class="token punctuation">.</span>URIContents<span class="token punctuation">.</span>URI<span class="token punctuation">,</span> uriParsedResult<span class="token punctuation">.</span><span class="token function">getURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> TEXT<span class="token operator">:</span>
        bundle<span class="token punctuation">.</span><span class="token function">putString</span><span class="token punctuation">(</span>Intents<span class="token punctuation">.</span>Scan<span class="token punctuation">.</span>RESULT<span class="token punctuation">,</span> rawResult<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>生成二维码</p>
<pre><code class="prism language-java">Bitmap bitmap <span class="token operator">=</span> QREncode<span class="token punctuation">.</span><span class="token function">encodeQR</span><span class="token punctuation">(</span>MainActivity<span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">QREncode<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getColor</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>color<span class="token punctuation">.</span>colorPrimary<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//二维码颜色</span>
                <span class="token punctuation">.</span><span class="token function">setParsedResultType</span><span class="token punctuation">(</span>ParsedResultType<span class="token punctuation">.</span>URI<span class="token punctuation">)</span><span class="token comment">//二维码类型</span>
                <span class="token punctuation">.</span><span class="token function">setContents</span><span class="token punctuation">(</span><span class="token string">"https://github.com/mylhyl"</span><span class="token punctuation">)</span><span class="token comment">//二维码内容</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
imageView<span class="token punctuation">.</span><span class="token function">setImageBitmap</span><span class="token punctuation">(</span>bitmap<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>###四、样式设置</p>
<table>
<thead>
<tr>
<th>方法名</th>
<th>说明</th>
<th align="right">默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>toggleLight</td>
<td>切换闪光灯</td>
<td align="right">关 false</td>
</tr>
<tr>
<td>setMediaResId</td>
<td>设置扫描完成播放声音</td>
<td align="right">无</td>
</tr>
<tr>
<td>setLaserFrameBoundColor</td>
<td>扫描框4角颜色</td>
<td align="right">绿色 0xff00ff00</td>
</tr>
<tr>
<td>setLaserFrameCornerLength</td>
<td>扫描框4角长度</td>
<td align="right">15dp</td>
</tr>
<tr>
<td>setLaserFrameCornerWidth</td>
<td>扫描框4角宽度</td>
<td align="right">2dp</td>
</tr>
<tr>
<td>setLaserColor</td>
<td>扫描线颜色</td>
<td align="right">绿色 0xff00ff00</td>
</tr>
<tr>
<td>setLaserLineResId</td>
<td>条形扫描线图片资源</td>
<td align="right">无</td>
</tr>
<tr>
<td>setLaserGridLineResId</td>
<td>网格扫描线资源</td>
<td align="right">无</td>
</tr>
<tr>
<td>setLaserLineHeight</td>
<td>扫描线高度</td>
<td align="right">2dp</td>
</tr>
<tr>
<td>setLaserFrameSize</td>
<td>设置扫描框大小</td>
<td align="right">屏幕5/8</td>
</tr>
<tr>
<td>setLaserFrameTopMargin</td>
<td>设置扫描框与屏幕距离</td>
<td align="right">屏幕5/8-状态</td>
</tr>
<tr>
<td>setDrawText</td>
<td>text -&gt; 内容 <br />textSize -&gt; 文字大小 <br />textColor -&gt; 文字颜色 <br />isBottom -&gt; 是否在扫描框下方 <br /> textMargin -&gt; 离扫描框间距</td>
<td align="right">text -&gt; 将二维码放入框内，即可自动扫描 <br />textSize -&gt; 16sp <br />textColor -&gt; 白色 <br />isBottom -&gt; true <br /> textMargin -&gt; 20dp</td>
</tr>
</tbody>
</table>
<h4><a id="_264"></a>欢迎关注公众号，每天为您推送“人生感悟、说话技巧、职场规则、职场成长”</h4>
<p><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190912105453645.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h1cGVp,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
</p></div>
<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-526ced5128.css" rel="stylesheet">
</div>
]]></content:encoded>
										</item>
	</channel>
</rss>
