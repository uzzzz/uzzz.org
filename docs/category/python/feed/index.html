<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Python &#8211; 有组织在!</title>
	<atom:link href="https://uzzz.org/category/python/feed" rel="self" type="application/rss+xml" />
	<link>https://uzzz.org/</link>
	<description></description>
	<lastBuildDate>Thu, 05 Sep 2019 06:46:06 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.2.4</generator>

<image>
	<url>https://uzzz.org/wp-content/uploads/2019/10/cropped-icon-32x32.png</url>
	<title>Python &#8211; 有组织在!</title>
	<link>https://uzzz.org/</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>在scrapy使用Tor代理Ip的两种方法</title>
		<link>https://uzzz.org/article/1068.html</link>
				<pubDate>Thu, 05 Sep 2019 06:46:06 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[Python]]></category>

		<guid isPermaLink="false">http://wp.uzzz.org/article/1068.html</guid>
				<description><![CDATA[第一个：按照https://www.cnblogs.com/kylinlin/archive/2016/03/04/5242266.html 大佬的写法，实现了 1、首先将本地的代理服务器进行设置，，这一步是为了与polipo对接。。 2、因为我们在polipo的配置文件中写了 洋葱头代理的地址和端口（9050），我们使用socks请求端口9150发出每次请求。 socksParentProxy = “localhost:9050” socksProxyType = socks5 diskCacheRoot = “” http://zhihan.me/network/2017/09/24/socks5-protocol/ 这个是关于sockes5的介绍。。 3、然后在中间件中写入 4、在stttings中 我是在start_requests() 中加了一个检测ip的语句 这样是可以运行的。。但是他的IP不会换。。 第二种： 先把这个关掉。。 在spider中书写，， 这个IP地址会变化的。。更加稳定。。 这种方法，我暂时不会设置使用MySQL；会起冲突，我以为的是本地的localhost和本地ip4的地址配置问题]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div id="content_views" class="markdown_views prism-atom-one-dark">
  <!-- flowchart 箭头图标 勿删 --><br />
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> </p>
<p>第一个：按照https://www.cnblogs.com/kylinlin/archive/2016/03/04/5242266.html 大佬的写法，实现了<br /> 1、首先将本地的代理服务器进行设置，，这一步是为了与polipo对接。。<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190905144552932.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzM1MTkzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190905144704671.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzM1MTkzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br /> 2、因为我们在polipo的配置文件中写了 洋葱头代理的地址和端口（9050），我们使用socks请求端口9150发出每次请求。<br /> socksParentProxy = “localhost:9050”</p>
<p>socksProxyType = socks5</p>
<p>diskCacheRoot = “”<br /> http://zhihan.me/network/2017/09/24/socks5-protocol/ 这个是关于sockes5的介绍。。<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019090514524033.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzM1MTkzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br /> 3、然后在中间件中写入<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190905145358609.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzM1MTkzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br /> 4、在stttings中<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190905145446412.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzM1MTkzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br /> 我是在start_requests() 中加了一个检测ip的语句<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190905150026936.png" alt="在这里插入图片描述"><br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190905150052889.png" alt="在这里插入图片描述"><br /> 这样是可以运行的。。但是他的IP不会换。。<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190905151036943.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzM1MTkzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>第二种：<br /> 先把这个关掉。。<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190905150428188.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzM1MTkzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br /> 在spider中书写，，<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190905150544898.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzM1MTkzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190905150628422.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzM1MTkzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br /> 这个IP地址会变化的。。更加稳定。。<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019090515111274.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzM1MTkzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190905155350573.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzM1MTkzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190905155403827.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzM1MTkzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>这种方法，我暂时不会设置使用MySQL；会起冲突，我以为的是本地的localhost和本地ip4的地址配置问题</p>
</p></div>
<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-e9f16cbbc2.css" rel="stylesheet">
</div>
]]></content:encoded>
										</item>
		<item>
		<title>Dark web爬虫</title>
		<link>https://uzzz.org/article/795.html</link>
				<pubDate>Fri, 30 Aug 2019 07:39:16 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[Python]]></category>

		<guid isPermaLink="false">http://wp.uzzz.org/article/795.html</guid>
				<description><![CDATA[deep_web&#8211;python 如何进入 环境搭建 开始 demo 如何进入 url多以onion结尾，访问的方式与普通的域名访问方式也不相同，访问他们需要一款名叫Tor的浏览器。也叫洋葱浏览器 环境搭建 针对于win10系统: tor浏览器。 Vidalia控制器。 Tor控制器。 cow 。 还要有一款支持socks5协议的工具 开始 首先打开tor浏览器，点击配置，点击选择内置网桥，选择中国可用的选项。出现以下界面说明你的tor连接成功了。 打开Vidalia控制面板，如图说明你的连接洋葱浏览器成功。 点击设定在该目录中找到解压的tor控制器中的tor.exe文件 3.网络设置 4.打开socks5软件，端口监听1080,好像ssr之类的默认就是1080 5.打开cow文件夹中的rc.txt文件 修改为 以后打开cow.exe 到此环境搭建完成 demo import requests proxies = {'http': 'http://127.0.0.1:7777', 'https': 'http://127.0.0.1:7777'} s = requests.Session() r = s.get("http://anonymzn3twqpxq5.onion/list.php?2", proxies = proxies) print(r.text)]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div id="content_views" class="markdown_views prism-atom-one-dark">
  <!-- flowchart 箭头图标 勿删 --><br />
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> </p>
<div class="toc">
<h3>deep_web&#8211;python</h3>
<ul>
<li><a href="#_2" rel="nofollow" data-token="22f4fb37863c57e3f17343ed845db9e6">如何进入</a></li>
<ul>
<li><a href="#_6" rel="nofollow" data-token="c73bec32456401c45e0aa4e6fcc2948e">环境搭建</a></li>
<li><a href="#_15" rel="nofollow" data-token="f93e6c402fce0ccf2d5ff74e2b7d5e5c">开始</a></li>
<li><a href="#demo_32" rel="nofollow" data-token="06bd62ebcb94d7d2db73e99c0f7b1742">demo</a></li>
</ul>
</ul></div>
</p>
<h1><a id="_2"></a>如何进入</h1>
<p>url多以onion结尾，访问的方式与普通的域名访问方式也不相同，访问他们需要一款名叫Tor的浏览器。也叫洋葱浏览器</p>
<h2><a id="_6"></a>环境搭建</h2>
<p>针对于win10系统:</p>
<ol>
<li>tor浏览器。</li>
<li>Vidalia控制器。</li>
<li>Tor控制器。</li>
<li>cow 。</li>
<li>还要有一款支持socks5协议的工具</li>
</ol>
<h2><a id="_15"></a>开始</h2>
<ol>
<li>
<p>首先打开tor浏览器，点击配置，点击选择内置网桥，选择中国可用的选项。出现以下界面说明你的tor连接成功了。<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190426142422799.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDA0Njc4MQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
</li>
<li>
<p>打开Vidalia控制面板，如图说明你的连接洋葱浏览器成功。<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019042614262299.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDA0Njc4MQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br /> 点击设定在该目录中找到解压的tor控制器中的tor.exe文件<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/201904261428274.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDA0Njc4MQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br /> 3.网络设置<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190426143056868.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDA0Njc4MQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br /> 4.打开socks5软件，端口监听1080,好像ssr之类的默认就是1080<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190426143241954.png" alt="在这里插入图片描述"><br /> 5.打开cow文件夹中的rc.txt文件 修改为<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190426143418631.png" alt="在这里插入图片描述"><br /> 以后打开cow.exe<br /> 到此环境搭建完成</p>
</li>
</ol>
<h2><a id="demo_32"></a>demo</h2>
<pre><code class="prism language-javascript"><span class="token keyword">import</span> requests
proxies <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'http'</span><span class="token punctuation">:</span> <span class="token string">'http://127.0.0.1:7777'</span><span class="token punctuation">,</span> <span class="token string">'https'</span><span class="token punctuation">:</span> <span class="token string">'http://127.0.0.1:7777'</span><span class="token punctuation">}</span>
s <span class="token operator">=</span> requests<span class="token punctuation">.</span><span class="token function">Session</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
r <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"http://anonymzn3twqpxq5.onion/list.php?2"</span><span class="token punctuation">,</span> proxies <span class="token operator">=</span> proxies<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>text<span class="token punctuation">)</span>

</code></pre>
<p><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190915172025956.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDA0Njc4MQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
</p></div>
<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-e9f16cbbc2.css" rel="stylesheet">
</div>
]]></content:encoded>
										</item>
		<item>
		<title>Python 语言介绍、IDE安装、新建第一个Python程序</title>
		<link>https://uzzz.org/article/1733.html</link>
				<pubDate>Fri, 12 Jul 2019 14:59:27 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[Python]]></category>

		<guid isPermaLink="false">http://wp.uzzz.org/article/1733.html</guid>
				<description><![CDATA[Python&#160;能够用于开发哪些应用？ web开发 数据分析 machine learning algorithm deep learning&#160; 后台服务 数据可视化&#160; data visualization&#160; &#160; Python&#8217; s disadvantages: 运行速度慢 代码不能加密 &#160; Python开发环境安装： &#160;网页版可以安装anaconda&#160;使用 jupyter notebook进行开发 下载地址：&#160;https://www.anaconda.com/distribution/ 本地版可以安装pyCharm IDE&#160;集成环境 下载地址：&#160;http://www.jetbrains.com/pycharm/download/#section=windows 可以安装轻量级的Wing&#160;IDE 下载地址： wingware.com&#160;&#160; &#160; 创建一个Python程序： &#160;]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div class="htmledit_views" id="content_views">
<p><strong>Python&nbsp;能够用于开发哪些应用？</strong></p>
<ol>
<li>web开发</li>
<li>数据分析</li>
<li>machine learning algorithm</li>
<li><span style="color:#f33b45;">deep learning&nbsp;</span></li>
<li>后台服务</li>
<li>数据可视化&nbsp; data visualization&nbsp;</li>
</ol>
<p>&nbsp;</p>
<p><strong>Python&#8217; s disadvantages:</strong></p>
<ol>
<li>运行速度慢</li>
<li>代码不能加密</li>
</ol>
<p>&nbsp;</p>
<p><strong>Python开发环境安装：</strong></p>
<ul>
<li>&nbsp;网页版可以安装anaconda&nbsp;使用 jupyter notebook进行开发</li>
</ul>
<p>下载地址：&nbsp;<a href="https://www.anaconda.com/distribution/" rel="nofollow" data-token="cfe700da413e42008fc7a1fa2c5772ff">https://www.anaconda.com/distribution/</a></p>
<ul>
<li>本地版可以安装pyCharm IDE&nbsp;集成环境</li>
</ul>
<p>下载地址：&nbsp;<a href="http://www.jetbrains.com/pycharm/download/#section=windows" rel="nofollow" data-token="a08857c448557a08bdbbd14f3f216439">http://www.jetbrains.com/pycharm/download/#section=windows</a></p>
<ul>
<li>可以安装轻量级的Wing&nbsp;IDE</li>
</ul>
<p>下载地址： wingware.com&nbsp;&nbsp;</p>
<p>&nbsp;</p>
<p><strong>创建一个Python程序：</strong></p>
<p>&nbsp;</p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>python3爬虫~~应对反爬策略</title>
		<link>https://uzzz.org/article/2012.html</link>
				<pubDate>Wed, 26 Jun 2019 15:05:52 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[Python]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/2012.html</guid>
				<description><![CDATA[通常防止爬虫被反主要有以下几个策略： 一.BAN IP 原因：某一个某一个时刻IP访问量特别特别大 ，或者是超出正常用户使用权限，导致服务器会偶尔把该IP放入黑名单 ，过一段时间再将其放出来 解决办法：分布式爬虫（分布式【分散url的手动分布式，以及框架分布式】）以及购买代理IP（Tor代理~~能买暗网代理），转化成app有的也有效 二.BAN USERAGENT 原因：爬虫请求头就是默认的 python-requests/2.18.4 等等类型在headers的数据包，会直接拒绝访问，返回403错误 解决办法：伪装浏览器头 ，添加其请求头，再发送请求 三.BAN COOKIES 原因：服务器对每一个访问网页的人都set-cookie，给其一个cookies，当该cookies访问超过某一个阀值（请求次数或者timeout值）时就BAN掉该COOKIE 解决办法： 1,控制访问速度 , 2,在某宝上买多个账号，生成多个cookies，在每一次访问时带上cookies 3,手动获取页面返回cookies 4，解析js拿到其js生成的cookies再带入请求（超级稳） 5，再没有遇到逆天js加载情况下无所不能的selenuim 案例：亚马逊等大型电商平台，马蜂窝 四.验证码验证 原因：当某一用户访问次数过多后，就自动让请求跳转到一个验证码页面，只有在输入正确的验证码之后才能继续访问网站 解决办法：python可以通过一些第三方库如(pytesser,PIL)来对验证码进行处理，识别出正确的验证码，复杂的验证码可以通过机器学习让爬虫自动识别复杂验证码，让程序自动识别验证码并自动输入验证码继续抓取 ，还有最终手段打码平台（兔宝贝，超级鹰等）打码平台99%的能搞定，那1%也可以用打码平台的人工打码搞定。哈哈 短信验证：易码（专业手机短信验证好几年） 二维码验证：打码平台有支持扫码（神一样的验证，我没有遇到过，但听说过） 案例：淘宝，12306 五.javascript渲染 原因：网页开发者将重要信息放在网页中但不写入html标签中，而浏览器会自动渲染&#60;script&#62;标签的js代码将信息展现在浏览器当中，而爬虫是不具备执行js代码的能力，所以无法将js事件产生的信息读取出来 解决办法： 1，通过分析提取script中的js代码来通过正则匹配提取信息内容或通过webdriver+phantomjs直接进行无头浏览器渲染网页。 2，通过解析js获取正确的资源地址 案例：前程无忧网 ，信用中国 六.ajax异步传输 原因：访问网页的时候服务器将网页框架返回给客户端，在与客户端交互的过程中通过异步ajax技术传输数据包到客户端，呈现在网页上，爬虫直接抓取的话信息为空 解决办法：通过fiddler或是wireshark抓包分析ajax请求的界面，然后自己通过规律仿造服务器构造一个请求访问服务器得到返回的真实数据包。 案例：拉勾网 打开拉勾网的某一个工作招聘页，可以看到许许多多的招聘信息数据，点击下一页后发现页面框架不变化，url地址不变，而其中的每个招聘数据发生了变化，通过chrome开发者工具抓包找到了一个叫请求了一个叫做http://www.lagou.com/zhaopin/Java/2/?filterOption=3的网页，打开改网页发现为第二页真正的数据源，通过仿造请求可以抓取每一页的数据。 &#160;]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div class="htmledit_views" id="content_views">
<h3>通常防止爬虫被反主要有以下几个策略：</h3>
<h3><em>一.BAN IP</em></h3>
<p><u>原因：</u>某一个某一个时刻IP访问量特别特别大 ，或者是超出正常用户使用权限，导致服务器会偶尔把该IP放入黑名单 ，过一段时间再将其放出来</p>
<p><u>解决办法：</u>分布式爬虫（分布式【分散url的手动分布式，以及框架分布式】）以及购买代理IP（Tor代理~~能买<a href="https://cloud.tencent.com/developer/news/313473" rel="nofollow" data-token="92db766e7922b555c7acd27ff1e2b40e">暗网代理</a>），转化成app有的也有效</p>
<h3><strong>二.BAN USERAGENT</strong></h3>
<p><u>原因：</u>爬虫请求头就是默认的 python-requests/2.18.4 等等类型在headers的数据包，会直接拒绝访问，返回403错误</p>
<p><u>解决办法：伪装</u>浏览器头 ，添加其请求头，再发送请求</p>
<h3><strong>三.BAN COOKIES</strong></h3>
<p><u>原因：</u>服务器对每一个访问网页的人都set-cookie，给其一个cookies，当该cookies访问超过某一个阀值（请求次数或者timeout值）时就BAN掉该COOKIE</p>
<p><u>解决办法：</u></p>
<p>1,控制访问速度 ,</p>
<p>2,在某宝上买多个账号，生成多个cookies，在每一次访问时带上cookies</p>
<p>3,手动获取页面返回cookies</p>
<p>4，解析js拿到其js生成的cookies再带入请求（超级稳）</p>
<p>5，再没有遇到逆天js加载情况下无所不能的selenuim</p>
<p>案例：亚马逊等大型电商平台，马蜂窝</p>
<h3><strong>四.验证码验证</strong></h3>
<p><u>原因：</u>当某一用户访问次数过多后，就自动让请求跳转到一个验证码页面，只有在输入正确的验证码之后才能继续访问网站</p>
<p>解决办法：python可以通过一些第三方库如(pytesser,PIL)来对验证码进行处理，识别出正确的验证码，复杂的验证码可以通过机器学习让爬虫自动识别复杂验证码，让程序自动识别验证码并自动输入验证码继续抓取 ，还有最终手段打码平台（兔宝贝，超级鹰等）打码平台99%的能搞定，那1%也可以用打码平台的人工打码搞定。哈哈</p>
<p>短信验证：易码（专业手机短信验证好几年）</p>
<p>二维码验证：打码平台有支持扫码（神一样的验证，我没有遇到过，但听说过）</p>
<p>案例：淘宝，12306</p>
<h3><strong>五.javascript渲染</strong></h3>
<p><u>原因：</u>网页开发者将重要信息放在网页中但不写入html标签中，而浏览器会自动渲染&lt;script&gt;标签的js代码将信息展现在浏览器当中，而爬虫是不具备执行js代码的能力，所以无法将js事件产生的信息读取出来</p>
<p>解决办法：</p>
<p>1，通过分析提取script中的js代码来通过正则匹配提取信息内容或通过webdriver+phantomjs直接进行无头浏览器渲染网页。</p>
<p>2，通过解析js获取正确的资源地址</p>
<p>案例：前程无忧网 ，信用中国</p>
<h3><strong>六.ajax异步传输</strong></h3>
<p><u>原因：</u>访问网页的时候服务器将网页框架返回给客户端，在与客户端交互的过程中通过异步ajax技术传输数据包到客户端，呈现在网页上，爬虫直接抓取的话信息为空</p>
<p>解决办法：通过fiddler或是wireshark抓包分析ajax请求的界面，然后自己通过规律仿造服务器构造一个请求访问服务器得到返回的真实数据包。</p>
<p>案例：拉勾网</p>
<p>打开拉勾网的某一个工作招聘页，可以看到许许多多的招聘信息数据，点击下一页后发现页面框架不变化，url地址不变，而其中的每个招聘数据发生了变化，通过chrome开发者工具抓包找到了一个叫请求了一个叫做<a href="http://www.lagou.com/zhaopin/Java/2/?filterOption=3" rel="nofollow" data-token="57be332e22bc9fee020d07b1cf959651">http://www.lagou.com/zhaopin/Java/2/?filterOption=3</a>的网页，打开改网页发现为第二页真正的数据源，通过仿造请求可以抓取每一页的数据。</p>
<p>&nbsp;</p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>反反爬虫相关机制（面试必问，后续陆续添加）</title>
		<link>https://uzzz.org/article/933.html</link>
				<pubDate>Wed, 26 Jun 2019 15:05:52 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[Python]]></category>

		<guid isPermaLink="false">http://wp.uzzz.org/article/933.html</guid>
				<description><![CDATA[通常防止爬虫被反主要有以下几个策略： 一.BAN IP 原因：某一个某一个时刻IP访问量特别特别大 ，或者是超出正常用户使用权限，导致服务器会偶尔把该IP放入黑名单 ，过一段时间再将其放出来 解决办法：分布式爬虫（分布式【分散url的手动分布式，以及框架分布式】）以及购买代理IP（Tor代理~~能买暗网代理），转化成app有的也有效 二.BAN USERAGENT 原因：爬虫请求头就是默认的 python-requests/2.18.4 等等类型在headers的数据包，会直接拒绝访问，返回403错误 解决办法：伪装浏览器头 ，添加其请求头，再发送请求 三.BAN COOKIES 原因：服务器对每一个访问网页的人都set-cookie，给其一个cookies，当该cookies访问超过某一个阀值（请求次数或者timeout值）时就BAN掉该COOKIE 解决办法： 1,控制访问速度 , 2,在某宝上买多个账号，生成多个cookies，在每一次访问时带上cookies 3,手动获取页面返回cookies 4，解析js拿到其js生成的cookies再带入请求（超级稳） 5，再没有遇到逆天js加载情况下无所不能的selenuim 案例：亚马逊等大型电商平台，马蜂窝 四.验证码验证 原因：当某一用户访问次数过多后，就自动让请求跳转到一个验证码页面，只有在输入正确的验证码之后才能继续访问网站 解决办法：python可以通过一些第三方库如(pytesser,PIL)来对验证码进行处理，识别出正确的验证码，复杂的验证码可以通过机器学习让爬虫自动识别复杂验证码，让程序自动识别验证码并自动输入验证码继续抓取 ，还有最终手段打码平台（兔宝贝，超级鹰等）打码平台99%的能搞定，那1%也可以用打码平台的人工打码搞定。哈哈 短信验证：易码（专业手机短信验证好几年） 二维码验证：打码平台有支持扫码（神一样的验证，我没有遇到过，但听说过） 案例：淘宝，12306 五.javascript渲染 原因：网页开发者将重要信息放在网页中但不写入html标签中，而浏览器会自动渲染&#60;script&#62;标签的js代码将信息展现在浏览器当中，而爬虫是不具备执行js代码的能力，所以无法将js事件产生的信息读取出来 解决办法： 1，通过分析提取script中的js代码来通过正则匹配提取信息内容或通过webdriver+phantomjs直接进行无头浏览器渲染网页。 2，通过解析js获取正确的资源地址 案例：前程无忧网 ，信用中国 六.ajax异步传输 原因：访问网页的时候服务器将网页框架返回给客户端，在与客户端交互的过程中通过异步ajax技术传输数据包到客户端，呈现在网页上，爬虫直接抓取的话信息为空 解决办法：通过fiddler或是wireshark抓包分析ajax请求的界面，然后自己通过规律仿造服务器构造一个请求访问服务器得到返回的真实数据包。 案例：拉勾网 打开拉勾网的某一个工作招聘页，可以看到许许多多的招聘信息数据，点击下一页后发现页面框架不变化，url地址不变，而其中的每个招聘数据发生了变化，通过chrome开发者工具抓包找到了一个叫请求了一个叫做http://www.lagou.com/zhaopin/Java/2/?filterOption=3的网页，打开改网页发现为第二页真正的数据源，通过仿造请求可以抓取每一页的数据。 &#160;]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div class="htmledit_views" id="content_views">
<h3>通常防止爬虫被反主要有以下几个策略：</h3>
<h3><em>一.BAN IP</em></h3>
<p><u>原因：</u>某一个某一个时刻IP访问量特别特别大 ，或者是超出正常用户使用权限，导致服务器会偶尔把该IP放入黑名单 ，过一段时间再将其放出来</p>
<p><u>解决办法：</u>分布式爬虫（分布式【分散url的手动分布式，以及框架分布式】）以及购买代理IP（Tor代理~~能买<a href="https://cloud.tencent.com/developer/news/313473" rel="nofollow" data-token="92db766e7922b555c7acd27ff1e2b40e">暗网代理</a>），转化成app有的也有效</p>
<h3><strong>二.BAN USERAGENT</strong></h3>
<p><u>原因：</u>爬虫请求头就是默认的 python-requests/2.18.4 等等类型在headers的数据包，会直接拒绝访问，返回403错误</p>
<p><u>解决办法：伪装</u>浏览器头 ，添加其请求头，再发送请求</p>
<h3><strong>三.BAN COOKIES</strong></h3>
<p><u>原因：</u>服务器对每一个访问网页的人都set-cookie，给其一个cookies，当该cookies访问超过某一个阀值（请求次数或者timeout值）时就BAN掉该COOKIE</p>
<p><u>解决办法：</u></p>
<p>1,控制访问速度 ,</p>
<p>2,在某宝上买多个账号，生成多个cookies，在每一次访问时带上cookies</p>
<p>3,手动获取页面返回cookies</p>
<p>4，解析js拿到其js生成的cookies再带入请求（超级稳）</p>
<p>5，再没有遇到逆天js加载情况下无所不能的selenuim</p>
<p>案例：亚马逊等大型电商平台，马蜂窝</p>
<h3><strong>四.验证码验证</strong></h3>
<p><u>原因：</u>当某一用户访问次数过多后，就自动让请求跳转到一个验证码页面，只有在输入正确的验证码之后才能继续访问网站</p>
<p>解决办法：python可以通过一些第三方库如(pytesser,PIL)来对验证码进行处理，识别出正确的验证码，复杂的验证码可以通过机器学习让爬虫自动识别复杂验证码，让程序自动识别验证码并自动输入验证码继续抓取 ，还有最终手段打码平台（兔宝贝，超级鹰等）打码平台99%的能搞定，那1%也可以用打码平台的人工打码搞定。哈哈</p>
<p>短信验证：易码（专业手机短信验证好几年）</p>
<p>二维码验证：打码平台有支持扫码（神一样的验证，我没有遇到过，但听说过）</p>
<p>案例：淘宝，12306</p>
<h3><strong>五.javascript渲染</strong></h3>
<p><u>原因：</u>网页开发者将重要信息放在网页中但不写入html标签中，而浏览器会自动渲染&lt;script&gt;标签的js代码将信息展现在浏览器当中，而爬虫是不具备执行js代码的能力，所以无法将js事件产生的信息读取出来</p>
<p>解决办法：</p>
<p>1，通过分析提取script中的js代码来通过正则匹配提取信息内容或通过webdriver+phantomjs直接进行无头浏览器渲染网页。</p>
<p>2，通过解析js获取正确的资源地址</p>
<p>案例：前程无忧网 ，信用中国</p>
<h3><strong>六.ajax异步传输</strong></h3>
<p><u>原因：</u>访问网页的时候服务器将网页框架返回给客户端，在与客户端交互的过程中通过异步ajax技术传输数据包到客户端，呈现在网页上，爬虫直接抓取的话信息为空</p>
<p>解决办法：通过fiddler或是wireshark抓包分析ajax请求的界面，然后自己通过规律仿造服务器构造一个请求访问服务器得到返回的真实数据包。</p>
<p>案例：拉勾网</p>
<p>打开拉勾网的某一个工作招聘页，可以看到许许多多的招聘信息数据，点击下一页后发现页面框架不变化，url地址不变，而其中的每个招聘数据发生了变化，通过chrome开发者工具抓包找到了一个叫请求了一个叫做<a href="http://www.lagou.com/zhaopin/Java/2/?filterOption=3" rel="nofollow" data-token="57be332e22bc9fee020d07b1cf959651">http://www.lagou.com/zhaopin/Java/2/?filterOption=3</a>的网页，打开改网页发现为第二页真正的数据源，通过仿造请求可以抓取每一页的数据。</p>
<p>&nbsp;</p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>Anaconda安装完美避坑指南</title>
		<link>https://uzzz.org/article/2897.html</link>
				<pubDate>Mon, 03 Jun 2019 11:23:51 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[Python]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/2897.html</guid>
				<description><![CDATA[简单介绍下anaconda：简单来说，anaconda就是集合了python及其对应的几百种科学包和依赖项，同时还安装了ipython和spyder IDE。也就是说，安装了anaconda之后，就不用再安装numpy,pandas等库，也不用再额外安装IDE了。 &#160; 下面就介绍下安装时的注意事项，以免采坑。 &#160; &#160;&#160;&#160;&#160;&#160;&#160; 从官网上下载安装包后双击安装即可，到如下图 &#160; 在安装时第一项必须要打勾，虽然这里写了not recommended，但还是要勾选，否则后面会很痛苦。建议第二项也勾选，可以在安装其他第三方IDE时免去很多麻烦。 &#160; &#160; 如果第一项没打勾，在cmd中运行python, ipython，numpy，pandas等库都会提示无法启动。弹出如下提示：]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div class="htmledit_views" id="content_views">
<p style="margin-left:0cm;">简单介绍下anaconda：简单来说，anaconda就是集合了python及其对应的几百种科学包和依赖项，同时还安装了ipython和spyder IDE。也就是说，安装了anaconda之后，就不用再安装numpy,pandas等库，也不用再额外安装IDE了。</p>
<p style="margin-left:0cm;">&nbsp;</p>
<p style="margin-left:0cm;">下面就介绍下安装时的注意事项，以免采坑。</p>
<p style="margin-left:0cm;">&nbsp;</p>
<p style="margin-left:0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 从官网上下载安装包后双击安装即可，到如下图</p>
<p style="margin-left:0cm;">&nbsp;</p>
<p style="margin-left:0cm;">在安装时第一项必须要打勾，虽然这里写了not recommended，但还是要勾选，否则后面会很痛苦。建议第二项也勾选，可以在安装其他第三方IDE时免去很多麻烦。</p>
<p style="margin-left:0cm;">&nbsp;</p>
<p style="margin-left:0cm;"><img alt="https://images2018.cnblogs.com/blog/1274956/201802/1274956-20180226165549187-1676469245.png" class="has" height="343" src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWFnZXMyMDE4LmNuYmxvZ3MuY29tL2Jsb2cvMTI3NDk1Ni8yMDE4MDIvMTI3NDk1Ni0yMDE4MDIyNjE2NTU0OTE4Ny0xNjc2NDY5MjQ1LnBuZw" width="445"></p>
<p style="margin-left:0cm;">&nbsp;</p>
<p style="margin-left:0cm;">如果第一项没打勾，在cmd中运行python, ipython，numpy，pandas等库都会提示无法启动。弹出如下提示：</p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>基于opencv-python的车牌识别</title>
		<link>https://uzzz.org/article/3181.html</link>
				<pubDate>Thu, 16 May 2019 15:13:01 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[Python]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/3181.html</guid>
				<description><![CDATA[记一篇数字图像课程的实训 基于opencv-python的车牌识别，代码主要参考CSDN上几个版主的代码，对代码进行了一定的优化，一定程度上提高了识别的准确率。并重写了一个GUI界面，添加数据导出功能。 使用的模块： 主要模块：cv2 GUI 界面：PyQt5 其他模块：numpy os json time 版本： python：3.7.1 PyQt5：5.11.3 opencv-python：3.4.3.18 完整工程： GitHub：https://github.com/casuallyName/Python/tree/master/车牌识别 CSDN ：https://download.csdn.net/download/fairytale__/11184445 先放一张运行截图： 基本实现流程： 读取图像 使用cv2.imdecode()函数将图片文件转换成流数据，赋值到内存缓存中，便于后续图像操作。使用cv2.resize()函数对读取的图像进行缩放，以免图像过大导致识别耗时过长。 降噪 使用cv2.GaussianBlur()进行高斯去噪。使用cv2.morphologyEx()函数进行开运算，再使用cv2.addWeighted()函数将运算结果与原图像做一次融合，从而去掉孤立的小点，毛刺等噪声。 # 高斯去噪 if blur &#62; 0: img = cv2.GaussianBlur(img, (blur, blur), 0) oldimg = img img = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY) # cv2.imshow('GaussianBlur', img) kernel = np.ones((20, 20), np.uint8) img_opening = cv2.morphologyEx(img, cv2.MORPH_OPEN, kernel) # 开运算 img_opening = cv2.addWeighted(img, 1, img_opening, -1, 0); # 与上一次开运算结果融合 # cv2.imshow('img_opening', img_opening) 3. 二值化 使用cv2.threshold()函数进行二值化处理，再使用cv2.Canny()函数找到各区域边缘。 ret, img_thresh = cv2.threshold(img_opening, 0, 255, cv2.THRESH_BINARY + cv2.THRESH_OTSU) # 二值化 img_edge = cv2.Canny(img_thresh, 100, 200) # cv2.imshow('img_edge', img_edge) 将图像边缘连接为一个整体 使用cv2.morphologyEx()和cv2.morphologyEx()两个函数分别进行一次开运算（先腐蚀运算，再膨胀运算）和一个闭运算（先膨胀运算，再腐蚀运算），去掉较小区域，同时填平小孔，弥合小裂缝。将车牌位置凸显出来。 kernel = np.ones((self.cfg["morphologyr"], self.cfg["morphologyc"]), np.uint8) img_edge1 = cv2.morphologyEx(img_edge, cv2.MORPH_CLOSE, kernel) # 闭运算 img_edge2 = cv2.morphologyEx(img_edge1, cv2.MORPH_OPEN, kernel) # 开运算 # cv2.imshow('img_edge2', img_edge2) 查找车牌（矩形区域） 查找图像边缘整体形成的矩形区域，可能有很多，车牌就在其中一个矩形区域中，逐个排除不是车牌的矩形区域。车牌形成的矩形区域长宽比在2到5.5之间，因此使用cv2.minAreaRect()函数框选矩形区域计算长宽比，长宽比在2到5.5之间的可能是车牌，其余的矩形排除。最后使用cv2.drawContours()函数将可能是车牌的区域在原图中框选出来。（此处处理结果可能得到多个符合要求的矩形，而未必直接得到车牌位置，因此还需后续处理。） 图形修正 矩形区域可能是倾斜的矩形，需要矫正，以便使用颜色定位，从而进一步确认是否是车牌。类似下两图（仅列举出两个，可能有很多）。 颜色识别 使用颜色定位，排除不是车牌的矩形，目前只识别车牌的颜色主要为蓝、绿、黄三种颜色车牌。根据矩形的颜色不同从而选出最可能是车牌的矩形。同时匹配出车牌的类型（颜色类型）。使用参数为*cv2.COLOR_BGR2HSV*的cv2.cvtColor()函数将原始的RGB图像转换成HSV图像，以便定位颜色。 基于HSV颜色模型可知色调H的取值范围为0°～360°，从红色开始按逆时针方向计算，红色为0°，绿色为120°,蓝色为240°。它们的补色是：黄色为60°，青色为180°,品红为300°；查阅相关资料确定出下表: 黄色 绿色 蓝色 H 14-34 34-99 99-124 根据上表计算出每个矩形中各颜色的占有量，比较每个矩形三个颜色的占有量，即可确定最可能是车牌的矩形以及车牌颜色。 车牌部分二值化 利用参数为*cv2.COLOR_BGR2GRAY*的cv2.cvtColor()函数将定位到的车牌部分RGB图像转化为灰度图像，再利用cv2. threshold() 函数将灰度图像二值化。需要注意的是，黄、绿色车牌字符比背景暗、与蓝的车牌刚好相反，所以黄、绿车牌在二值化前需要利用cv2.bitwise_not( )函数取反向。 # 做一次锐化处理 kernel = np.array([[0, -1, 0], [-1, 5, -1], [0, -1, 0]], np.float32) # 锐化 card_img = cv2.filter2D(card_img, -1, kernel=kernel) # cv2.imshow("custom_blur", card_img) # RGB转GARY gray_img = cv2.cvtColor(card_img, cv2.COLOR_BGR2GRAY) # cv2.imshow('gray_img', gray_img) # 黄、绿车牌字符比背景暗、与蓝车牌刚好相反，所以黄、绿车牌需要反向 if color == "green" or color == "yellow": gray_img]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div id="content_views" class="markdown_views prism-atom-one-dark">
  <!-- flowchart 箭头图标 勿删 --><br />
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> </p>
<h1><a id="_0"></a>记一篇数字图像课程的实训</h1>
<p>基于<code>opencv-python</code>的车牌识别，代码主要参考CSDN上几个版主的代码，对代码进行了一定的优化，一定程度上提高了识别的准确率。并重写了一个GUI界面，添加数据导出功能。</p>
<ul>
<li>使用的模块：<br /> 主要模块：<code>cv2</code><br /> GUI 界面：<code>PyQt5</code><br /> 其他模块：<code>numpy</code> <code>os</code> <code>json</code> <code>time</code></li>
<li>版本：<br /> python：3.7.1<br /> PyQt5：5.11.3<br /> opencv-python：3.4.3.18</li>
<li>完整工程：<br /> GitHub：<a href="https://github.com/casuallyName/Python/tree/master/%E8%BD%A6%E7%89%8C%E8%AF%86%E5%88%AB" rel="nofollow" data-token="0c920342f6ebe6858a527d9d12b4c70a">https://github.com/casuallyName/Python/tree/master/车牌识别</a><br /> CSDN ：<a href="https://download.csdn.net/download/fairytale__/11184445/" rel="nofollow" data-token="ed4eecf44d5d296ba924e441b13d3d49">https://download.csdn.net/download/fairytale__/11184445</a></li>
</ul>
<p>先放一张运行截图：<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019051922525420.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZhaXJ5VGFsZV9f,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h2><a id="_21"></a>基本实现流程：</h2>
<ol>
<li>
<p>读取图像<br /> 使用<code>cv2.imdecode()</code>函数将图片文件转换成流数据，赋值到内存缓存中，便于后续图像操作。使用<code>cv2.resize()</code>函数对读取的图像进行缩放，以免图像过大导致识别耗时过长。</p>
</li>
<li>
<p>降噪<br /> 使用<code>cv2.GaussianBlur()</code>进行高斯去噪。使用<code>cv2.morphologyEx()</code>函数进行开运算，再使用<code>cv2.addWeighted()</code>函数将运算结果与原图像做一次融合，从而去掉孤立的小点，毛刺等噪声。</p>
</li>
</ol>
<pre><code class="prism language-python"><span class="token comment"># 高斯去噪 </span>
<span class="token keyword">if</span> blur <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>  
    img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>GaussianBlur<span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token punctuation">(</span>blur<span class="token punctuation">,</span> blur<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>  
oldimg <span class="token operator">=</span> img  
img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>img<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>COLOR_BGR2GRAY<span class="token punctuation">)</span>  
<span class="token comment"># cv2.imshow('GaussianBlur', img) </span>
kernel <span class="token operator">=</span> np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>  
img_opening <span class="token operator">=</span> cv2<span class="token punctuation">.</span>morphologyEx<span class="token punctuation">(</span>img<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>MORPH_OPEN<span class="token punctuation">,</span> kernel<span class="token punctuation">)</span>  <span class="token comment"># 开运算 </span>
img_opening <span class="token operator">=</span> cv2<span class="token punctuation">.</span>addWeighted<span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> img_opening<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment"># 与上一次开运算结果融合 </span>
<span class="token comment"># cv2.imshow('img_opening', img_opening) </span>
</code></pre>
<p><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019051622270049.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZhaXJ5VGFsZV9f,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190516222750449.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZhaXJ5VGFsZV9f,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br /> 3. 二值化<br /> 使用<code>cv2.threshold()</code>函数进行二值化处理，再使用<code>cv2.Canny()</code>函数找到各区域边缘。</p>
<pre><code class="prism language-python">ret<span class="token punctuation">,</span> img_thresh <span class="token operator">=</span> cv2<span class="token punctuation">.</span>threshold<span class="token punctuation">(</span>img_opening<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>THRESH_BINARY <span class="token operator">+</span> cv2<span class="token punctuation">.</span>THRESH_OTSU<span class="token punctuation">)</span>  <span class="token comment"># 二值化 </span>
img_edge <span class="token operator">=</span> cv2<span class="token punctuation">.</span>Canny<span class="token punctuation">(</span>img_thresh<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>  
<span class="token comment"># cv2.imshow('img_edge', img_edge) </span>
</code></pre>
<p><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190516223316918.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZhaXJ5VGFsZV9f,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<ol start="4">
<li>
<p>将图像边缘连接为一个整体<br /> 使用<code>cv2.morphologyEx()</code>和<code>cv2.morphologyEx()</code>两个函数分别进行一次开运算（先腐蚀运算，再膨胀运算）和一个闭运算（先膨胀运算，再腐蚀运算），去掉较小区域，同时填平小孔，弥合小裂缝。将车牌位置凸显出来。</p>
<pre><code class="prism language-python">kernel <span class="token operator">=</span> np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>cfg<span class="token punctuation">[</span><span class="token string">"morphologyr"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>cfg<span class="token punctuation">[</span><span class="token string">"morphologyc"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>  
img_edge1 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>morphologyEx<span class="token punctuation">(</span>img_edge<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>MORPH_CLOSE<span class="token punctuation">,</span> kernel<span class="token punctuation">)</span>  <span class="token comment"># 闭运算 </span>
img_edge2 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>morphologyEx<span class="token punctuation">(</span>img_edge1<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>MORPH_OPEN<span class="token punctuation">,</span> kernel<span class="token punctuation">)</span>  <span class="token comment"># 开运算 </span>
<span class="token comment"># cv2.imshow('img_edge2', img_edge2) </span>
</code></pre>
<p><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019051622365436.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZhaXJ5VGFsZV9f,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
</li>
<li>
<p>查找车牌（矩形区域）<br /> 查找图像边缘整体形成的矩形区域，可能有很多，车牌就在其中一个矩形区域中，逐个排除不是车牌的矩形区域。车牌形成的矩形区域长宽比在2到5.5之间，因此使用<code>cv2.minAreaRect()</code>函数框选矩形区域计算长宽比，长宽比在2到5.5之间的可能是车牌，其余的矩形排除。最后使用<code>cv2.drawContours()</code>函数将可能是车牌的区域在原图中框选出来。（此处处理结果可能得到多个符合要求的矩形，而未必直接得到车牌位置，因此还需后续处理。）<img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190516224219272.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZhaXJ5VGFsZV9f,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
</li>
<li>
<p>图形修正<br /> 矩形区域可能是倾斜的矩形，需要矫正，以便使用颜色定位，从而进一步确认是否是车牌。类似下两图（仅列举出两个，可能有很多）。<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190516224350399.png" alt="在这里插入图片描述"> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190516224435842.png" alt="在这里插入图片描述"></p>
</li>
<li>
<p>颜色识别<br /> 使用颜色定位，排除不是车牌的矩形，目前只识别车牌的颜色主要为蓝、绿、黄三种颜色车牌。根据矩形的颜色不同从而选出最可能是车牌的矩形。同时匹配出车牌的类型（颜色类型）。使用参数为*<code>cv2.COLOR_BGR2HSV</code>*的<code>cv2.cvtColor()</code>函数将原始的RGB图像转换成HSV图像，以便定位颜色。<br /> 基于HSV颜色模型可知色调H的取值范围为0°～360°，从红色开始按逆时针方向计算，红色为0°，绿色为120°,蓝色为240°。它们的补色是：黄色为60°，青色为180°,品红为300°；查阅相关资料确定出下表:</p>
<table>
<thead>
<tr>
<th></th>
<th>黄色</th>
<th>绿色</th>
<th>蓝色</th>
</tr>
</thead>
<tbody>
<tr>
<td>H</td>
<td>14-34</td>
<td>34-99</td>
<td>99-124</td>
</tr>
</tbody>
</table>
<p>根据上表计算出每个矩形中各颜色的占有量，比较每个矩形三个颜色的占有量，即可确定最可能是车牌的矩形以及车牌颜色。<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190516225312102.png" alt="在这里插入图片描述"> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190516225322592.png" alt="在这里插入图片描述"></p>
</li>
<li>
<p>车牌部分二值化<br /> 利用参数为*<code>cv2.COLOR_BGR2GRAY</code>*的<code>cv2.cvtColor()</code>函数将定位到的车牌部分RGB图像转化为灰度图像，再利用<code>cv2. threshold()</code> 函数将灰度图像二值化。需要注意的是，黄、绿色车牌字符比背景暗、与蓝的车牌刚好相反，所以黄、绿车牌在二值化前需要利用<code>cv2.bitwise_not( )</code>函数取反向。</p>
</li>
</ol>
<pre><code class="prism language-python"><span class="token comment"># 做一次锐化处理 </span>
kernel <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>float32<span class="token punctuation">)</span>  <span class="token comment"># 锐化 </span>
card_img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>filter2D<span class="token punctuation">(</span>card_img<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> kernel<span class="token operator">=</span>kernel<span class="token punctuation">)</span>  
<span class="token comment"># cv2.imshow("custom_blur", card_img) </span>
  
<span class="token comment"># RGB转GARY </span>
gray_img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>card_img<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>COLOR_BGR2GRAY<span class="token punctuation">)</span>  
<span class="token comment"># cv2.imshow('gray_img', gray_img) </span>
  
<span class="token comment"># 黄、绿车牌字符比背景暗、与蓝车牌刚好相反，所以黄、绿车牌需要反向 </span>
<span class="token keyword">if</span> color <span class="token operator">==</span> <span class="token string">"green"</span> <span class="token operator">or</span> color <span class="token operator">==</span> <span class="token string">"yellow"</span><span class="token punctuation">:</span>  
    gray_img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>bitwise_not<span class="token punctuation">(</span>gray_img<span class="token punctuation">)</span>  
<span class="token comment"># 二值化 </span>
ret<span class="token punctuation">,</span> gray_img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>threshold<span class="token punctuation">(</span>gray_img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>THRESH_BINARY <span class="token operator">+</span> cv2<span class="token punctuation">.</span>THRESH_OTSU<span class="token punctuation">)</span>  
<span class="token comment"># cv2.imshow('gray_img', gray_img)</span>
</code></pre>
<ol start="9">
<li>
<p>字符分割(投影法)<br /> 根据设定的阈值和图片直方图，找出波峰，利用找出的波峰，分隔图片。因为车牌中“ • ”也会产生一组波峰，因此将八组波峰中的第三组去除掉，即可得到每个字符的波峰，再根据每组波峰的宽度分割牌照图像得到每个字符的图像.<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190516225630908.png" alt="在这里插入图片描述"><br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/201905162259385.png" alt="在这里插入图片描述"></p>
</li>
<li>
<p>匹配模板<br /> 将分割后的每个图像逐个与已训练好的模板进行匹配，得到识别结果。<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190516230030621.png" alt="在这里插入图片描述"></p>
</li>
</ol>
<h2><a id="GUI__116"></a>GUI 部分</h2>
<p><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190517133003328.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZhaXJ5VGFsZV9f,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<ul>
<li>打开文件</li>
</ul>
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">__openimage</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    path<span class="token punctuation">,</span> filetype <span class="token operator">=</span> QFileDialog<span class="token punctuation">.</span>getOpenFileName<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token string">"选择文件"</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>ProjectPath<span class="token punctuation">,</span>  
                               <span class="token string">"JPEG Image (*.jpg);;PNG Image (*.png);;JFIF Image (*.jfif)"</span><span class="token punctuation">)</span>  <span class="token comment"># ;;All Files (*) </span>
    <span class="token keyword">if</span> path <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">:</span>  <span class="token comment"># 未选择文件 </span>
        <span class="token keyword">return</span>  
    filename <span class="token operator">=</span> path<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>  
  
    <span class="token comment"># 尺寸适配 </span>
    size <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cv2<span class="token punctuation">.</span>imdecode<span class="token punctuation">(</span>np<span class="token punctuation">.</span>fromfile<span class="token punctuation">(</span>path<span class="token punctuation">,</span> dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>IMREAD_COLOR<span class="token punctuation">)</span><span class="token punctuation">.</span>shape  
    <span class="token keyword">if</span> size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">/</span> size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">1.0907</span><span class="token punctuation">:</span>  
        w <span class="token operator">=</span> size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>  
        h <span class="token operator">=</span> self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        jpg <span class="token operator">=</span> QtGui<span class="token punctuation">.</span>QPixmap<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">.</span>scaled<span class="token punctuation">(</span>w<span class="token punctuation">,</span> h<span class="token punctuation">)</span>  
    <span class="token keyword">elif</span> size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">/</span> size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">1.0907</span><span class="token punctuation">:</span>  
        w <span class="token operator">=</span> self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        h <span class="token operator">=</span> size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  
        jpg <span class="token operator">=</span> QtGui<span class="token punctuation">.</span>QPixmap<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">.</span>scaled<span class="token punctuation">(</span>w<span class="token punctuation">,</span> h<span class="token punctuation">)</span>  
    <span class="token keyword">else</span><span class="token punctuation">:</span>  
        jpg <span class="token operator">=</span> QtGui<span class="token punctuation">.</span>QPixmap<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">.</span>scaled<span class="token punctuation">(</span>self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
  
    self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>jpg<span class="token punctuation">)</span>  
    result <span class="token operator">=</span> self<span class="token punctuation">.</span>__vlpr<span class="token punctuation">(</span>path<span class="token punctuation">)</span>  
    <span class="token keyword">if</span> result <span class="token keyword">is</span> <span class="token operator">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>  
        self<span class="token punctuation">.</span>Data<span class="token punctuation">.</span>append<span class="token punctuation">(</span>  
            <span class="token punctuation">[</span>filename<span class="token punctuation">,</span> result<span class="token punctuation">[</span><span class="token string">'InputTime'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> result<span class="token punctuation">[</span><span class="token string">'Number'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> result<span class="token punctuation">[</span><span class="token string">'Type'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">'UseTime'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'秒'</span><span class="token punctuation">,</span>  
             result<span class="token punctuation">[</span><span class="token string">'From'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>__show<span class="token punctuation">(</span>result<span class="token punctuation">,</span> filename<span class="token punctuation">)</span>  
    <span class="token keyword">else</span><span class="token punctuation">:</span>  
        QMessageBox<span class="token punctuation">.</span>warning<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token string">"Error"</span><span class="token punctuation">,</span> <span class="token string">"无法识别此图像！"</span><span class="token punctuation">,</span> QMessageBox<span class="token punctuation">.</span>Yes<span class="token punctuation">)</span>  
</code></pre>
<ul>
<li>界面显示</li>
</ul>
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">__show</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> result<span class="token punctuation">,</span> FileName<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    <span class="token comment"># 显示表格 </span>
    self<span class="token punctuation">.</span>RowLength <span class="token operator">=</span> self<span class="token punctuation">.</span>RowLength <span class="token operator">+</span> <span class="token number">1</span>  
    <span class="token keyword">if</span> self<span class="token punctuation">.</span>RowLength <span class="token operator">&gt;</span> <span class="token number">18</span><span class="token punctuation">:</span>  
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setColumnWidth<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">157</span><span class="token punctuation">)</span>  
    self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setRowCount<span class="token punctuation">(</span>self<span class="token punctuation">.</span>RowLength<span class="token punctuation">)</span>  
    self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setItem<span class="token punctuation">(</span>self<span class="token punctuation">.</span>RowLength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> QTableWidgetItem<span class="token punctuation">(</span>FileName<span class="token punctuation">)</span><span class="token punctuation">)</span>  
    self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setItem<span class="token punctuation">(</span>self<span class="token punctuation">.</span>RowLength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> QTableWidgetItem<span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">'InputTime'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
    self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setItem<span class="token punctuation">(</span>self<span class="token punctuation">.</span>RowLength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> QTableWidgetItem<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">'UseTime'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'秒'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
    self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setItem<span class="token punctuation">(</span>self<span class="token punctuation">.</span>RowLength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> QTableWidgetItem<span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">'Number'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
    self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setItem<span class="token punctuation">(</span>self<span class="token punctuation">.</span>RowLength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> QTableWidgetItem<span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">'Type'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
    <span class="token keyword">if</span> result<span class="token punctuation">[</span><span class="token string">'Type'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'蓝色牌照'</span><span class="token punctuation">:</span>  
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>item<span class="token punctuation">(</span>self<span class="token punctuation">.</span>RowLength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span>setBackground<span class="token punctuation">(</span>QBrush<span class="token punctuation">(</span>QColor<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
    <span class="token keyword">elif</span> result<span class="token punctuation">[</span><span class="token string">'Type'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'绿色牌照'</span><span class="token punctuation">:</span>  
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>item<span class="token punctuation">(</span>self<span class="token punctuation">.</span>RowLength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span>setBackground<span class="token punctuation">(</span>QBrush<span class="token punctuation">(</span>QColor<span class="token punctuation">(</span><span class="token number">98</span><span class="token punctuation">,</span> <span class="token number">198</span><span class="token punctuation">,</span> <span class="token number">148</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
    <span class="token keyword">elif</span> result<span class="token punctuation">[</span><span class="token string">'Type'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'黄色牌照'</span><span class="token punctuation">:</span>  
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>item<span class="token punctuation">(</span>self<span class="token punctuation">.</span>RowLength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span>setBackground<span class="token punctuation">(</span>QBrush<span class="token punctuation">(</span>QColor<span class="token punctuation">(</span><span class="token number">242</span><span class="token punctuation">,</span> <span class="token number">202</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
    self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setItem<span class="token punctuation">(</span>self<span class="token punctuation">.</span>RowLength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> QTableWidgetItem<span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">'From'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
  
    <span class="token comment"># 显示识别到的车牌位置 </span>
    size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>label_3<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>label_3<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
    shrink <span class="token operator">=</span> cv2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">'Picture'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> interpolation<span class="token operator">=</span>cv2<span class="token punctuation">.</span>INTER_AREA<span class="token punctuation">)</span>  
    shrink <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>shrink<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>COLOR_BGR2RGB<span class="token punctuation">)</span>  
    self<span class="token punctuation">.</span>QtImg <span class="token operator">=</span> QtGui<span class="token punctuation">.</span>QImage<span class="token punctuation">(</span>shrink<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> shrink<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> shrink<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> shrink<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">,</span>  
                              QtGui<span class="token punctuation">.</span>QImage<span class="token punctuation">.</span>Format_RGB888<span class="token punctuation">)</span>  
    self<span class="token punctuation">.</span>label_3<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>QtGui<span class="token punctuation">.</span>QPixmap<span class="token punctuation">.</span>fromImage<span class="token punctuation">(</span>self<span class="token punctuation">.</span>QtImg<span class="token punctuation">)</span><span class="token punctuation">)</span>  
</code></pre>
<ul>
<li>依赖文件检测</li>
</ul>
<pre><code class="prism language-python"><span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token string">'provinces.json'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
    <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token string">'cardtype.json'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token string">'Prefecture.json'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token string">'config.js'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                app <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>  
</code></pre>
</p></div>
<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-526ced5128.css" rel="stylesheet">
</div>
]]></content:encoded>
										</item>
		<item>
		<title>Python PIL库处理图片常用操作，图像识别数据增强的方法</title>
		<link>https://uzzz.org/article/2984.html</link>
				<pubDate>Sat, 11 May 2019 05:58:30 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[DeepLearning]]></category>
		<category><![CDATA[Python]]></category>
		<category><![CDATA[运维]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/2984.html</guid>
				<description><![CDATA[在博客AlexNet原理及tensorflow实现训练神经网络的时候，做了数据增强，对图片的处理采用的是PIL(Python Image Library), PIL是Python常用的图像处理库. 下面对PIL中常用到的操作进行整理： 1. 改变图片的大小 from PIL import Image, ImageFont, ImageDraw def image_resize(image, save, size=(100, 100)): """ :param image: 原图片 :param save: 保存地址 :param size: 大小 :return: """ image = Image.open(image) # 读取图片 image.convert("RGB") re_sized = image.resize(size, Image.BILINEAR) # 双线性法 re_sized.save(save) # 保存图片 return re_sized 2. 对图片进行旋转： from PIL import Image, ImageFont, ImageDraw import matplotlib.pyplot as plt def image_rotate(image_path, save_path, angle): """ 对图像进行一定角度的旋转 :param image_path: 图像路径 :param save_path: 保存路径 :param angle: 旋转角度 :return: """ image = Image.open(image_path) image_rotated = image.rotate(angle, Image.BICUBIC) image_rotated.save(save_path) return image_rotated 3. 对图片进行左右反转： from PIL import Image, ImageFont, ImageDraw import matplotlib.pyplot as plt def image_flip(image_path, save_path): """ 图图象进行左右反转 :param image_path: :param save_path: :return: """ image = Image.open(image_path) image_transpose = image.transpose(Image.FLIP_LEFT_RIGHT) # Image.FLIP_TOP_BOTTOM 上下反转 image_transpose.save(save_path) return image_transpose 4. 对图像进行裁剪： from PIL import Image, ImageFont, ImageDraw import matplotlib.pyplot as plt def image_crop(image_path, save_path, crop_region): """ 对图像进行裁剪 :param image_path: :param save_path: :param crop_region: 裁剪的区域 crop_window=(x_min, y_min, x_max, y_max) :return: """ image = Image.open(image_path) image_crop = image.crop(crop_region) # (width_min, height_min, width_max, height_max) 图像的原点是在左上角 image_crop.save(save_path) return image_crop 5. 在图片上添加文字 from PIL import Image, ImageFont, ImageDraw import matplotlib.pyplot as plt def]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div class="htmledit_views" id="content_views">
<p>在博客<a href="https://blog.csdn.net/zj1131190425/article/details/89881603" rel="nofollow" data-token="e9cc1739d5adf05a016598285947e602">AlexNet原理及tensorflow实现</a>训练神经网络的时候，做了数据增强，对图片的处理采用的是PIL(Python Image Library), PIL是Python常用的图像处理库.</p>
<p>下面对PIL中常用到的操作进行整理：<br /> 1. 改变图片的大小</p>
<pre class="has">
<code class="language-python">from PIL import Image, ImageFont, ImageDraw


def image_resize(image, save, size=(100, 100)):
    """
    :param image:  原图片 
    :param save:   保存地址
    :param size:    大小
    :return: 
    """
    image = Image.open(image)   # 读取图片
    image.convert("RGB")
    re_sized = image.resize(size, Image.BILINEAR)  # 双线性法
    re_sized.save(save)   # 保存图片
    return re_sized</code></pre>
<p>2. 对图片进行旋转：</p>
<pre class="has">
<code class="language-python">from PIL import Image, ImageFont, ImageDraw
import matplotlib.pyplot as plt


def image_rotate(image_path, save_path, angle):
    """
    对图像进行一定角度的旋转
    :param image_path:  图像路径
    :param save_path:   保存路径
    :param angle:       旋转角度
    :return:
    """
    image = Image.open(image_path)
    image_rotated = image.rotate(angle, Image.BICUBIC)
    image_rotated.save(save_path)
    return image_rotated
</code></pre>
<p><img alt="" class="has" height="250" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511105911187.jpg" width="250"><img alt="" class="has" height="245" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511105945368.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3pqMTEzMTE5MDQyNQ==,size_16,color_FFFFFF,t_70" width="293"></p>
<p>3. 对图片进行左右反转：</p>
<pre class="has">
<code class="language-python">from PIL import Image, ImageFont, ImageDraw
import matplotlib.pyplot as plt


def image_flip(image_path, save_path):
    """
    图图象进行左右反转
    :param image_path:
    :param save_path:
    :return:
    """
    image = Image.open(image_path)
    image_transpose = image.transpose(Image.FLIP_LEFT_RIGHT)   # Image.FLIP_TOP_BOTTOM 上下反转
    image_transpose.save(save_path)
    return image_transpose</code></pre>
<p><img alt="" class="has" height="250" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511110852837.jpg" width="250"><img alt="" class="has" height="243" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511110936872.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3pqMTEzMTE5MDQyNQ==,size_16,color_FFFFFF,t_70" width="266"></p>
<p>4. 对图像进行裁剪：</p>
<pre class="has">
<code class="language-python">from PIL import Image, ImageFont, ImageDraw
import matplotlib.pyplot as plt


def image_crop(image_path, save_path, crop_region):
    """
    对图像进行裁剪
    :param image_path:
    :param save_path:
    :param crop_region:  裁剪的区域  crop_window=(x_min, y_min, x_max, y_max)
    :return:
    """
    image = Image.open(image_path)
    image_crop = image.crop(crop_region)  # (width_min, height_min, width_max, height_max) 图像的原点是在左上角
    image_crop.save(save_path)
    return image_crop</code></pre>
<p><img alt="" class="has" height="250" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511111858399.jpg" width="250"><img alt="" class="has" height="251" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511111926592.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3pqMTEzMTE5MDQyNQ==,size_16,color_FFFFFF,t_70" width="276"></p>
<p>5. 在图片上添加文字</p>
<pre class="has">
<code class="language-python">from PIL import Image, ImageFont, ImageDraw
import matplotlib.pyplot as plt


def image_title(image_path, save_path, font_pos, font_size, text):
    """
     对图像添加文字
    :param image_path:
    :param save_path:
    :param font_pos:   文字位置(x, y)
    :param font_size:  文字大小
    :param text:        文字内容
    :return:
    """
    image = Image.open(image_path)
    font = ImageFont.truetype(font=r"C:\Windows\Fonts\Times New Roman\times.ttf", size=font_size)
    draw = ImageDraw.Draw(image)
    draw.text(xy=font_pos, text=text, fill=(255, 0, 0), font=font)
    image.save(save_path)
    return image
</code></pre>
<p><img alt="" class="has" height="250" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511131129400.jpg" width="250"><img alt="" class="has" height="241" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511131158375.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3pqMTEzMTE5MDQyNQ==,size_16,color_FFFFFF,t_70" width="270"></p>
<p>除以上之外，数据增强的方法还有对图像颜色进行抖动，和对图像进行高斯噪声处理</p>
<p>1. 颜色抖动：</p>
<pre class="has">
<code class="language-python">from PIL import Image, ImageFont, ImageDraw, ImageEnhance
import matplotlib.pyplot as plt
import numpy as np


def image_color(image_path, save_path):
    """
    对图像进行颜色抖动
    :param image_path:
    :param save_path:
    :return:
    """
    image = Image.open(image_path)
    print(type(image))
    random_factor = np.random.randint(low=0, high=31) / 10.0        # 随机的扰动因子
    color_image = ImageEnhance.Color(image).enhance(random_factor)    # 调整图像的饱和度
    random_factor = np.random.randint(low=10, high=21) / 10.0
    bright_image = ImageEnhance.Brightness(color_image).enhance(random_factor)   # 调整图像的亮度
    random_factor = np.random.randint(low=10, high=21) / 10.0
    contrast_image = ImageEnhance.Contrast(bright_image).enhance(random_factor)  # 调整图像的对比度
    random_factor = np.random.randint(low=0, high=31) / 10.0
    sharp_image = ImageEnhance.Sharpness(contrast_image).enhance(random_factor)  # 调整图像的锐度
    sharp_image.save(save_path)
    return sharp_image
</code></pre>
<p><img alt="" class="has" height="250" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511133338996.jpg" width="250"><img alt="" class="has" height="242" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511133357290.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3pqMTEzMTE5MDQyNQ==,size_16,color_FFFFFF,t_70" width="264"></p>
<p>2.高斯噪声处理：</p>
<pre class="has">
<code class="language-python">from PIL import Image, ImageFont, ImageDraw, ImageEnhance
import matplotlib.pyplot as plt
import numpy as np
import random


def image_gauss(image_path, save_path, mean, stddev):
    """
    对图像进行颜色抖动
    :param image_path:
    :param save_path:
    :return:
    """
    def gaussNoisy(pixel_array, mean, stddev):
        """
        对图像的单个通道进行高斯噪声处理
        :param pixel_array:
        :param mean:  均值
        :param stddev:  方差
        :return:
        """
        for x in pixel_array:
            x += random.gauss(mean, stddev)
        return pixel_array

    # 对图像进行数据转换
    image = Image.open(image_path)
    image.convert("RGB")
    img = np.asarray(image)   # 将PIL中的数据格式转化为array
    img.flags.writeable = True    # 将数组改为读写模式
    width, height = img.shape[: 2]
    img_r = img[:, :, 0].flatten()
    img_g = img[:, :, 1].flatten()
    img_b = img[:, :, 2].flatten()
    img_r_new = gaussNoisy(pixel_array=img_r, mean=mean, stddev=stddev)
    img_g_new = gaussNoisy(pixel_array=img_g, mean=mean, stddev=stddev)
    img_b_new = gaussNoisy(pixel_array=img_b, mean=mean, stddev=stddev)
    img[:, :, 0] = img_r_new.reshape([width, height])
    img[:, :, 1] = img_g_new.reshape([width, height])
    img[:, :, 2] = img_b_new.reshape([width, height])
    image_new = Image.fromarray(np.uint8(img))    # 将array中的数据格式转化为PIL中的数据格式
    image_new.save(save_path)    
    return image_new

</code></pre>
<p><img alt="" class="has" height="250" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511135546863.jpg" width="250"><img alt="" class="has" height="247" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511140320456.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3pqMTEzMTE5MDQyNQ==,size_16,color_FFFFFF,t_70" width="279"></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>“深网” &#038;&#038; “暗网”</title>
		<link>https://uzzz.org/article/742.html</link>
				<pubDate>Sat, 13 Apr 2019 08:40:36 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[Python]]></category>

		<guid isPermaLink="false">http://wp.uzzz.org/article/742.html</guid>
				<description><![CDATA[深网是网络的一部分，与浅网（surface Web）对立。浅网是互联网上搜索引擎可以抓到的那部分网络。据不完全统计，互联网中其实约 90% 的网络都是深网。因为谷歌不能做像表单提交这类事情，也找不到那些没有直接链接到顶层域名上的网页，或者因为有 robots.txt 禁止而不能查看网站，所以浅网的数量相对深网还是比较少的。 暗网，也被称为 Darknet 或 dark Internet，完全是另一种“怪兽”。它们也建立在已有的网络基础上，但是使用 Tor 客户端，带有运行在 HTTP 之上的新协议，提供了一个信息交换的安全隧道。]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div id="content_views" class="markdown_views prism-atom-one-dark">
  <!-- flowchart 箭头图标 勿删 --><br />
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> </p>
<ul>
<li>
<p>深网是网络的一部分，与浅网（surface Web）对立。浅网是互联网上搜索引擎可以抓到的那部分网络。据不完全统计，互联网中其实约 90% 的网络都是深网。因为谷歌不能做像表单提交这类事情，也找不到那些没有直接链接到顶层域名上的网页，或者因为有 robots.txt 禁止而不能查看网站，所以浅网的数量相对深网还是比较少的。</p>
</li>
<li>
<p>暗网，也被称为 Darknet 或 dark Internet，完全是另一种“怪兽”。它们也建立在已有的网络基础上，但是使用 Tor 客户端，带有运行在 HTTP 之上的新协议，提供了一个信息交换的安全隧道。</p>
</li>
</ul></div>
<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-e9f16cbbc2.css" rel="stylesheet">
</div>
]]></content:encoded>
										</item>
		<item>
		<title>python：透明背景图</title>
		<link>https://uzzz.org/article/2729.html</link>
				<pubDate>Tue, 02 Apr 2019 16:28:47 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[Python]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/2729.html</guid>
				<description><![CDATA[图形是白色(颜色、字体可调)，背景是透明的。适用于暗色调背景。 图1 折线统计图 代码： #encoding=utf-8 import matplotlib.pyplot as plt import numpy as np import pandas as pd #输入因变量 y1 = pd.read_csv('11.csv') y1 = np.array(y1) y2 = pd.read_csv('12.csv') y2 = np.array(y2) #assert y1.shape[0]==y2.shape[0], '两个因变量个数不相等！' fig,ax=plt.subplots(figsize=(10,9)) #设置自变量的范围和个数 x = np.linspace(1, 10, y1.shape[0]) #画图 ax.plot(x,y1,'r-',label='x', color='red', linestyle='-', marker='*', markerfacecolor='coral', markersize='10') ax.plot(x,y2,'b-',label='y', color='blue', linestyle='--', marker='o', markerfacecolor='deeppink', markersize='10') #设置坐标轴 ax.spines['right'].set_color('none') ax.spines['top'].set_color('none') ax.spines['left'].set_color('white') ax.spines['left'].set_linewidth(3) ax.spines['bottom'].set_color('white') ax.spines['bottom'].set_linewidth(3) #ax.set_xlim(0, 9.5) #ax.set_ylim(0, 1.4) ax.set_xlabel('time(s)', color='white', fontsize=15) ax.set_ylabel('distance(m)', color='white', fontsize=15) #设置刻度 ax.tick_params(axis='both', labelcolor='white', labelsize=15, width=3, color='white') #显示网格 #ax.grid(True, linestyle='-.', color='white') ax.yaxis.grid(True, which='major', linestyle='-.', color='gray') #添加图例 legend = ax.legend(loc='best', fontsize=15) #设置图例的颜色和透明度 for leg_text in legend.get_texts(): leg_text.set_color('white') frame = legend.get_frame() frame.set_facecolor('none') frame.set_alpha(0) plt.show() fig.savefig('1.png', transparent=True) 11.csv: data 1.2 2.9 7.0 3.4 4.0 9.3 5.1 6.7 8.8 3.8 12.csv: data 1.9 2.2 3.6 4.1 7.3 0.1 9.4 5.5 8.3 7.2 图2 条形统计图 代码： #coding=utf-8 import numpy as np import matplotlib.pyplot as plt from pylab import mpl import scipy.stats as stats #在每个条上显示y坐标值 def autolabel(rects): for rect in rects: height = rect.get_height() ax.text(rect.get_x() + rect.get_width()/2, height, '%.2f'%height, ha='center', va='bottom', color='white', fontsize=15) datas = [[0.87, 0.40, 0.56, 0.21], [0.97, 0.50, 0.33, 0.39], [0.88, 0.30, 0.44, 0.52],]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div class="htmledit_views" id="content_views">
<p>图形是白色(颜色、字体可调)，背景是透明的。适用于暗色调背景。</p>
<div style="text-align:center;">
<figure class="image">
    <img alt="" height="184" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/201904041028106.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2Njk3MDQ1,size_16,color_FFFFFF,t_70" width="310"><figcaption>
     图1 折线统计图<br />
    </figcaption></figure>
</p></div>
<p>代码：</p>
<pre class="has">
<code class="language-python">#encoding=utf-8
import matplotlib.pyplot as plt
import numpy as np
import pandas as pd

#输入因变量
y1 = pd.read_csv('11.csv')
y1 = np.array(y1)
y2 = pd.read_csv('12.csv')
y2 = np.array(y2)
#assert y1.shape[0]==y2.shape[0], '两个因变量个数不相等！'
 
fig,ax=plt.subplots(figsize=(10,9))
#设置自变量的范围和个数
x = np.linspace(1, 10, y1.shape[0])
#画图
ax.plot(x,y1,'r-',label='x', color='red', linestyle='-', marker='*', markerfacecolor='coral', markersize='10')
ax.plot(x,y2,'b-',label='y', color='blue', linestyle='--', marker='o', markerfacecolor='deeppink', markersize='10')
 
#设置坐标轴
ax.spines['right'].set_color('none')
ax.spines['top'].set_color('none')
ax.spines['left'].set_color('white')
ax.spines['left'].set_linewidth(3)
ax.spines['bottom'].set_color('white')
ax.spines['bottom'].set_linewidth(3)
#ax.set_xlim(0, 9.5)
#ax.set_ylim(0, 1.4)
ax.set_xlabel('time(s)', color='white', fontsize=15)
ax.set_ylabel('distance(m)', color='white', fontsize=15)
#设置刻度
ax.tick_params(axis='both', labelcolor='white', labelsize=15, width=3, color='white')
 
#显示网格
#ax.grid(True, linestyle='-.', color='white')
ax.yaxis.grid(True, which='major', linestyle='-.', color='gray')
 
#添加图例
legend = ax.legend(loc='best', fontsize=15)
#设置图例的颜色和透明度
for leg_text in legend.get_texts():
     leg_text.set_color('white')
frame = legend.get_frame()
frame.set_facecolor('none')
frame.set_alpha(0)
 
plt.show()
fig.savefig('1.png', transparent=True)</code></pre>
<p>11.csv:</p>
<pre class="has">
<code>data
1.2
2.9
7.0
3.4
4.0
9.3
5.1
6.7
8.8
3.8</code></pre>
<p>12.csv:</p>
<pre class="has">
<code>data
1.9
2.2
3.6
4.1
7.3
0.1
9.4
5.5
8.3
7.2</code></pre>
<div style="text-align:center;">
<figure class="image">
    <img alt="" height="178" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190404112136195.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI2Njk3MDQ1,size_16,color_FFFFFF,t_70" width="390"><figcaption>
     图2 条形统计图<br />
    </figcaption></figure>
</p></div>
<p>代码：</p>
<pre class="has">
<code class="language-python">#coding=utf-8
 
import numpy as np
import matplotlib.pyplot as plt
from pylab import mpl
import scipy.stats as stats
 
#在每个条上显示y坐标值
def autolabel(rects):
    for rect in rects:
        height = rect.get_height()
        ax.text(rect.get_x() + rect.get_width()/2, height, '%.2f'%height, ha='center', va='bottom', color='white', fontsize=15)
 
datas = [[0.87, 0.40, 0.56, 0.21],
         [0.97, 0.50, 0.33, 0.39],
         [0.88, 0.30, 0.44, 0.52],
         [0.25, 0.23, 0.17, 0.19],
         [0.73, 0.33, 0.45, 0.28],
	 [0.45, 0.28, 0.91, 0.31]]
#条的宽度
width = 0.5
#每组条的起始横坐标
ind = np.arange(width, width*(1+len(datas))*len(datas[0]), width*(1+len(datas)))
colors = ['red','orange','yellow','green','cyan','blue','purple','aliceblue','antiquewhite','aqua','aquamarine','azure']
#画图
pics=[]
fig,ax=plt.subplots(figsize=(20,9))
for i in range(len(datas)):
     pics.append(ax.bar(ind+i*width, datas[i], width, color=colors[i], edgecolor='white'))
     autolabel(pics[i])
#设置坐标轴
ax.spines['left'].set_color('white')
ax.spines['left'].set_linewidth(3)
ax.spines['bottom'].set_color('white')
ax.spines['bottom'].set_linewidth(3)
ax.spines['right'].set_color('none')
ax.spines['top'].set_color('none')
#ax.set_xlim(0, 9.5)
#ax.set_ylim(0, 1.4)
ax.set_ylabel('distance(m)', color='white', fontsize=15)
#设置网格
#ax.grid(True, linestyle='-.', color='white')
ax.yaxis.grid(True, which='major', linestyle='-.', color='white')
#设置刻度
ax.tick_params(axis='both', labelcolor='white', labelsize=15, width=3, color='white')
#横坐标标签
ax.set_xticks(ind + width*(len(datas)-1)/2)
xNames = []
for i in range(len(datas[0])):
     xNames.append('section'+str(i+1))
xNames=tuple(xNames)
ax.set_xticklabels(xNames, color='white', fontsize=15)
#添加图例
legendNames = []
for i in range(len(datas)):
     legendNames.append('test'+str(i+1))
legendNames=tuple(legendNames)
legend = ax.legend(pics, legendNames, fontsize=15)
#设置图例的颜色和透明度
for leg_text in legend.get_texts():
     leg_text.set_color('white')
frame = legend.get_frame()
frame.set_facecolor('none')
frame.set_alpha(0)
 
plt.show()
#是否透明
fig.savefig('1.png', transparent=True)</code></pre>
<p>[<a href="https://github.com/matplotlib/matplotlib/issues/13864" rel="nofollow" data-token="15a016f563f5d4cc377d551742b5ca17">致谢</a>]</p>
<hr>
<p>&nbsp;</p>
</p></div>
</div>
]]></content:encoded>
										</item>
	</channel>
</rss>
