<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Database &#8211; 有组织在!</title>
	<atom:link href="https://uzzz.org/category/database/feed" rel="self" type="application/rss+xml" />
	<link>https://uzzz.org/</link>
	<description></description>
	<lastBuildDate>Thu, 12 Jul 2018 02:14:02 +0000</lastBuildDate>
	<language>zh-CN</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.2.4</generator>

<image>
	<url>https://uzzz.org/wp-content/uploads/2019/10/cropped-icon-32x32.png</url>
	<title>Database &#8211; 有组织在!</title>
	<link>https://uzzz.org/</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>Postgresql开发遇到的坑</title>
		<link>https://uzzz.org/article/2928.html</link>
				<pubDate>Thu, 12 Jul 2018 02:14:02 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[Database]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/2928.html</guid>
				<description><![CDATA[1.列名含有大写问题 ①比如：列名为customerCode ②sql语句：SELECT * FROM&#160; table_name WHERE &#8220;customerCode&#8221;=&#8217;FreshFreshSHOP&#8217;; ③备注：列名加双引号可以区分大小写,不加默认小写；值只能用单引号 2.外网连接postgresq]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div class="htmledit_views" id="content_views">
<p><strong>1.列名含有大写问题</strong></p>
<p>①比如：列名为customerCode</p>
<p>②sql语句：SELECT * FROM&nbsp; table_name WHERE &#8220;customerCode&#8221;=&#8217;FreshFreshSHOP&#8217;;</p>
<p>③备注：列名加双引号可以区分大小写,不加默认小写；值只能用单引号</p>
<p><img alt="" class="has" src="https://uzshare.com/_p?https://img-blog.csdn.net/20180712100608574?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L214ejE5OTAxMTAy/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>
<p><strong>2.外网连接postgresql</strong></p>
<p>①执行命令：cd /etc/postgresql/10/main（由于版本不同，自己进入etc后一级一级进入）</p>
<p>②修改postgresql.conf：命令（sudo vim postgresql.conf）</p>
<p><img alt="" class="has" height="261" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019062010483569.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L214ejE5OTAxMTAy,size_16,color_FFFFFF,t_70" width="1114"></p>
<p>③修改pg_hba.conf：命令（sudo vim pg_hba.conf）</p>
<p><img alt="" class="has" height="402" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190620105007696.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L214ejE5OTAxMTAy,size_16,color_FFFFFF,t_70" width="1200"></p>
<p>④重启postgresql：sudo service postgresql restart</p>
<p>⑤继续执行命令：su postgres ，输入密码后执行：psql，然后执行：alter&nbsp;role postgres with password &#8216;1234&#8217;</p>
<p>⑥外网连接：</p>
<p><img alt="" class="has" height="686" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190620105635250.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L214ejE5OTAxMTAy,size_16,color_FFFFFF,t_70" width="1200"></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>虚拟机linux环境下安装weblogic，创建域，配置数据源和部署环境</title>
		<link>https://uzzz.org/article/3079.html</link>
				<pubDate>Sat, 31 Mar 2012 03:54:44 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[Database]]></category>
		<category><![CDATA[linux]]></category>
		<category><![CDATA[操作系统]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/3079.html</guid>
				<description><![CDATA[1、准备weblogic的安装介质，可以到官网http://www.oracle.com/technetwork/middleware/fusion-middleware/downloads/index.html下载weblogic用于linux的版本，通常后缀为bin（这种类型中包含jre从而不需要在虚拟机上安装jre并且进行路径的配置） 2、将安装文件通]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div class="htmledit_views" id="content_views">
<p>1、准备weblogic的安装介质，可以到官网<a href="http://www.oracle.com/technetwork/middleware/fusion-middleware/downloads/index.html" rel="nofollow" data-token="c3bf52cc7ed4de00387cb60b07b4ea36">http://www.oracle.com/technetwork/middleware/fusion-middleware/downloads/index.html</a>下载weblogic用于linux的版本，通常后缀为bin（这种类型中包含jre从而不需要在虚拟机上安装jre并且进行路径的配置）</p>
<p>2、将安装文件通过共享的方式拷贝到虚拟机的具体目录下，如：/home中，文件名称为：wsl-linux32.bin</p>
<p>3、修改wsl-linux32.bin 的执行方式：在终端中执行命令 chmod a+x wsl-linux32.bin</p>
<p>4. 在终端中输入命令：./wsl-linux32.bin，该文件运行后，可以看到“Extracting 0%&#8230;&#8230;”字样，说明开始在解压了，然后按弹出的窗口提示进行操作（与windows下图形界面安装相同）</p>
<p>5. 安装完成weblogic之后，可以紧接着在弹出的窗口中创建域，也可以通过命令的方式打开创建域的窗口：在安装的weblogic路径下找到utils\quickstart，运行quickstart.sh （在终端中执行的命令为：sh quickstart.sh）,然后根据提示创建域（与windows图形界面操作相同）</p>
<p>6.启动weblogic：运行user_projects\domains\base_domain 下的startWeblogic.sh （终端中运行的命令为：sh startWeblogic.sh）</p>
<p>7. 进入weblogic的控制台：http:127.0.0.1:7001/console ,配置数据源（与windows相同），启动服务</p>
<p>8. 访问环境，此时若在主机中不能访问系统时，将虚拟机上的访问强关闭，执行命令为：service iptables stop 关闭防火墙</p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>Linux安装使用GoldenGate</title>
		<link>https://uzzz.org/article/2960.html</link>
				<pubDate>Tue, 13 Mar 2012 06:30:25 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[Database]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/2960.html</guid>
				<description><![CDATA[如何安装使用goldengate 一.环境: OS：linux CentOS_Final_5.5(64bit) DB：oracle11gR2(单机模式) goldengate: ggs_Linux_x64_ora11g_64bit_v11_1_1_0_0_078.tar 网络：局域网，源端IP 192.168.128.100&#160; 镜像端IP&#038;nbsp]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div class="htmledit_views" id="content_views">
<p>如何安装使用goldengate</p>
<h1>一.环境:</h1>
<h2>OS：linux CentOS_Final_5.5(64bit)</h2>
<h2>DB：oracle11gR2(单机模式)</h2>
<h2>goldengate: ggs_Linux_x64_ora11g_64bit_v11_1_1_0_0_078.tar</h2>
<h2>网络：局域网，源端IP 192.168.128.100&nbsp; 镜像端IP&nbsp; 192.168.128.101</h2>
<h1>二．目标：</h1>
<p><strong>实现源端到镜像端的数据同步（单向）</strong></p>
<h1>三．源端数据库实施：</h1>
<h2>1数据库准备</h2>
<h3>1.1开启数据库归档日志</h3>
<p><strong>查看数据库当前日志模式</strong></p>
<p>archive log list;</p>
<p><strong>更改为归档模式</strong></p>
<p>shutdown immediate;</p>
<p>start mount;</p>
<p>alter database archivelog;</p>
<p>alter database open;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>开启第二归档路径（可选）</strong></p>
<p>alter system set log_archive_dest_2=’location=/archive_2OPTIONAL’ scope=spfile;</p>
<p>alter system archive log start tolog_archive_dest_2;</p>
<p><strong>查看第二归档日志是否生效（重启数据库）</strong></p>
<p>show parameter archive;</p>
<p>&nbsp;</p>
<h3>1.2开启supplemental logging和force logging</h3>
<p><strong>查看当前数据库是否开启supplementallogging</strong></p>
<p>select SUPPLEMENTAL_LOG_DATA_MIN fromv$database;</p>
<p><strong>开启数据库级别的最小supplementallogging</strong></p>
<p>alter database add supplemental log data;</p>
<p>&nbsp;</p>
<p><strong>查看当前数据库forcelogging的状态</strong></p>
<p>select force_logging from v$database;</p>
<p><strong>开启forcelogging</strong></p>
<p>alter database force logging;</p>
<h3>1.3创建goldengate管理用户，并赋予相关权限</h3>
<p>创建管理用户的表空间</p>
<p>create tablespace tbs_ggmgr datafiel ‘/u01/app/oracle/goldengate/ggmgr.dbf’size 50M autoextend on;</p>
<p><strong>创建goldengate管理用户</strong></p>
<p>create user ggmgr identified by oracledefault tablespace tbs_ggmgr temporary tablespace TEMP quota unlimited ontbs_ggmgr;</p>
<p><strong>赋予ggmgr相关权限（想简单的话，可以赋予DBA权限）</strong></p>
<p>grant CONNECT,RESOURCE to ggmgr;</p>
<p>grant CREATE SESSION,ALTER SESSION toggmgr;</p>
<p>grant SELECT ANY DICTIONARY,SELECT ANYTABLE to ggmgr;</p>
<p>grant CREATE TABLE,ALTER ANY TABLE&nbsp;to ggmgr;</p>
<p>&nbsp;</p>
<h3>1.4创建测试用户和表</h3>
<p>create user test identified by test;</p>
<p>conn test/test;</p>
<p>create table test(</p>
<p>stuid number(8),</p>
<p>stuname varchar2(20),</p>
<p>stupasswd varchar2(20)</p>
<p>);</p>
<p>insert into test values(1,’test1’,’test1);</p>
<p>insert into test values(2,’test2’,’test2’);</p>
<p>commit;</p>
<h2>2goldengate安装及参数设置</h2>
<h3>2.1设置goldengate运行所需的环境变量</h3>
<p>编辑oracle的home目录下.bash_profile文件</p>
<p>vi .bash_profile</p>
<p>添加如下内容</p>
<p>exportLD_LIBRARY_PATH=$ORACLE_BASE/goldengate:$ORACLE_HOME/lib</p>
<h3>2.2创建goldengate安装目录</h3>
<p>通常将goldengate安装在ORACLE_BASE目录下</p>
<p>mkdir –p /u01/app/oracle/goldengate/</p>
<h3>2.3解压并初始化goldengate</h3>
<p>将goldengate压缩文件解压到goldengate得安装目录</p>
<p>tar vxf ggs_Linux_x64_ora11g_64bit_v11_1_1_0_0_078.tar</p>
<p>执行./ggsci进入GGSCI</p>
<p>创建目录结构</p>
<p>create subdirs&nbsp; &#8211;只在第一次启动执行</p>
<h3>2.4 添加trandata</h3>
<p>在GGSCI中</p>
<p>dbloign userid ggmgr,password oracle</p>
<p>对要进行复制的表添加表级supplemental logging</p>
<p>add trandata test.*</p>
<p>查看</p>
<p>info trandata test.*</p>
<h3>2.5添加并配置mgr进程</h3>
<p>edit param mgr</p>
<p>添加如下内容</p>
<p>port 7809</p>
<p>purgeoldextracts ./dirdat/*,usecheckpoints, minkeepfiles 20</p>
<h3>2.6添加并配置extract进程</h3>
<p>添加一个extract进程</p>
<p>add extract exts100,tranlog,begin now</p>
<p>给extract进程指定trail文件</p>
<p>add exttrail ./dirdat/s1,extract exts100,megabytes 100</p>
<p>配置extract的参数</p>
<p>edit param exts100</p>
<p>添加如下内容（开启第二归档的情况下）</p>
<p>extract exts100</p>
<p>userid ggmgr,password oracle</p>
<p>tranlogoptions archivedlogonly</p>
<p>tranlogoptions altarchivelogdest instanceorcl /archive_2</p>
<p>tranlogoptions altarchivedlogformat%t_%s_%r.dbf</p>
<p>gettruncates</p>
<p>reportcount every 30 minutes,rate</p>
<p>discardfile./dirrpt/exts100.dsc,APPEND,MEGABYTES 100</p>
<p>exttail ./dirdat/s1</p>
<p>table TEST.TEST;</p>
<p>&nbsp;</p>
<h3>2.7添加并配置pump进程</h3>
<p>add extract dps100 exttrailsource./dirdat/s1</p>
<p>add rmttrail ./dirdat/t1,extract dps100</p>
<p>配置pump进程参数</p>
<p>edit param dps100</p>
<p>extract dps100</p>
<p>userid ggmgr,password oracle</p>
<p>rmthost 192.168.128.101,mgrport7809,compress</p>
<p>numfiles 5000</p>
<p>DYNAMICRESOLUTION</p>
<p>rmttrail ./dirdat/t1</p>
<p>table TEST.TEST;</p>
<h3>2.8检查进程是否能够成功启动</h3>
<p>start &lt;进程名&gt;</p>
<p>start mgr</p>
<p>start exts100</p>
<p>start dps100</p>
<p>&nbsp;</p>
<p>查看进程状态</p>
<p>info all</p>
<p>&nbsp;</p>
<h1>四．镜像端数据库的初始化</h1>
<h3>1.从源端数据库导出相关的数据和表结构(需要相关权限，可以使用有DBA权限的用户) </h3>
<p>exp username/password file=test_1203013.dmpowner=test triggers=n indexes=n log=test_120313.log;</p>
<h3>2.将导出的数据文件传到镜像端</h3>
<p>可以使用ftp</p>
<h3>3.在镜像端创建和源端对应的用户和表空间，要保持表空间的名字一致</h3>
<p>create user test identified by test;</p>
<h3>4.在镜像端导入数据文件(需要相关权限，可以使用有DBA权限的用户)</h3>
<p>imp username/password file=test_120313.dmpfromuser=test touser=test log=test_120313.log;</p>
<p>&nbsp;</p>
<p>查看数据是否导入成功</p>
<h1>五．镜像端数据库实施</h1>
<h2>1数据库准备</h2>
<p>创建管理用户的表空间</p>
<p>create tablespace tbs_ggmgr datafiel ‘/u01/app/oracle/goldengate/ggmgr.dbf’size 50M autoextend on;</p>
<p><strong>创建goldengate管理用户</strong></p>
<p>create user ggmgr identified by oracledefault tablespace tbs_ggmgr temporary tablespace TEMP quota unlimited ontbs_ggmgr;</p>
<p><strong>赋予ggmgr相关权限（想简单的话，可以赋予DBA权限）</strong></p>
<p>grant CONNECT,RESOURCE to ggmgr;</p>
<p>grant CREATE SESSION,ALTER SESSION toggmgr;</p>
<p>grant SELECT ANY DICTIONARY,SELECT ANYTABLE to ggmgr;</p>
<p>grant CREATE TABLE to ggmgr;</p>
<h2>2goldengate安装及参数设置</h2>
<p>&nbsp;</p>
<h3>2.1.设置goldengate运行所需的环境变量</h3>
<p>&nbsp;</p>
<p>编辑oracle的home目录下.bash_profile文件</p>
<p>vi .bash_profile</p>
<p>添加如下内容</p>
<p>exportLD_LIBRARY_PATH=$ORACLE_BASE/goldengate:$ORACLE_HOME/lib</p>
<h3>2.2.创建goldengate安装目录</h3>
<p>通常将goldengate安装在ORACLE_BASE目录下</p>
<p>mkdir –p /u01/app/oracle/goldengate/</p>
<h3>2.3.解压并初始化goldengate</h3>
<p>将goldengate压缩文件解压到goldengate得安装目录</p>
<p>tar vxf ggs_Linux_x64_ora11g_64bit_v11_1_1_0_0_078.tar</p>
<p>执行./ggsci进入GGSCI</p>
<p>创建目录结构</p>
<p>create subdirs&nbsp; &#8211;只在第一次启动执行</p>
<h3>2.4编辑全局参数文件</h3>
<p>dblogin userid ggmgr,password oracle</p>
<p>edit params ./GLOBALS</p>
<p>添加如下内容</p>
<p>checkpointtable ggmgr.ogg_checkpointtable</p>
<p>添加检查点表</p>
<p>add checkpointtableggmgr.ogg_checkpointtable</p>
<h3>2.5.添加并配置mgr进程</h3>
<p>edit param mgr</p>
<p>添加如下内容</p>
<p>port 7809</p>
<p>(这里没有加入清除trail文件的设置)</p>
<h3>2.6.添加并配置replicat进程</h3>
<p>add replicat rept101,exttrail ./dirdat/t1</p>
<p>编辑replicat进程的参数文件</p>
<p>edit param rept101</p>
<p>添加如下内容</p>
<p>replicat rept101</p>
<p>userid ggmgr,password oracle</p>
<p>ASSUMETARGETDEFS</p>
<p>DISCARDFILE ./dirrpt/rept101.dsc,PURGE</p>
<p>MAP TEST.TEST, TARGET TEST.TEST;</p>
<h3>2.7检查进程能否成功启动</h3>
<p>start &lt;进程名&gt;</p>
<p>start mgr</p>
<p>start rept101</p>
<p>&nbsp;</p>
<p>查看进程状态</p>
<p>info all</p>
<h1>六．测试</h1>
<h2>1.在源端数据库插入数据</h2>
<p>insert into test values(3,’test3,’test3’);</p>
<p>commit；</p>
<h2>2.生成归档日志</h2>
<p>alter system switch logfile;</p>
<h2>3.查看镜像端数据库</h2>
<p>select * from test;</p>
<p>&nbsp;</p>
</p></div>
</div>
]]></content:encoded>
										</item>
	</channel>
</rss>
