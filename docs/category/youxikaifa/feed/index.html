<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>游戏开发 &#8211; 有组织在!</title>
	<atom:link href="https://uzzz.org/category/youxikaifa/feed" rel="self" type="application/rss+xml" />
	<link>https://uzzz.org/</link>
	<description></description>
	<lastBuildDate>Sun, 07 Jul 2019 14:05:13 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.2.4</generator>

<image>
	<url>https://uzzz.org/wp-content/uploads/2019/10/cropped-icon-32x32.png</url>
	<title>游戏开发 &#8211; 有组织在!</title>
	<link>https://uzzz.org/</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>Cesium小记之加载暗黑色地图&#038;&#038;蓝色透明模型</title>
		<link>https://uzzz.org/article/2098.html</link>
				<pubDate>Sun, 07 Jul 2019 14:05:13 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[游戏开发]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/2098.html</guid>
				<description><![CDATA[一效果图&#8220; 二、demo import Vue from 'vue' import App from './App' import router from './router' import Cesium from 'cesium/Cesium' import MeasureTool from '../src/js/MeasureTools' Vue.config.productionTip = false /* eslint-disable no-new */ new Vue({ el: '#app', router, components: {App}, template: '&#60;App/&#62;', mounted () { var viewer = new Cesium.Viewer('cesiumContainer', { baseLayerPicker: false // 是否显示图层选择器 }) var layer = new Cesium.MapboxImageryProvider({ mapId: 'mapbox.dark', accessToken: 'mapbox的token' }) viewer.scene.globe.enableLighting = false viewer.imageryLayers.addImageryProvider(layer) // 加载三维模型灰模 var tileset = viewer.scene.primitives.add(new Cesium.Cesium3DTileset({ url: 'http://localhost:9002/api/folder/edc012f6fdc94baca5b2a838f8b558fd/tileset.json' })) viewer.scene.primitives.add(tileset) viewer.scene.screenSpaceCameraController.minimumZoomDistance = 100; tileset.readyPromise.then(function (tileset) { viewer.scene.primitives.add(tileset) viewer.zoomTo(tileset, new Cesium.HeadingPitchRange(0.5, -0.2, tileset.boundingSphere.radius * 1.0)) }).otherwise(function (error) { console.log(error) }) tileset.style = new Cesium.Cesium3DTileStyle({ color: { conditions: [ ['${floor} &#62;= 8', 'rgba(0, 149, 251, 0.3)'], ['${floor} &#62;= 7', 'rgb(0, 149, 251, 0.3)'], ['${floor} &#62;= 6', 'rgb(0, 149, 251, 0.3)'], ['${floor} &#62;= 5', 'rgb(0, 149, 251, 0.3)'], ['${floor} &#62;= 4', 'rgb(0, 149, 251, 0.3)'], ['${floor} &#62;= 3', 'rgb(0, 149, 251, 0.3)'], ['${floor} &#62;= 2', 'rgb(0, 149, 251, 0.3)'], ['true', 'rgb(0, 149, 251, 0.3)']] } }) // 测量距离 MeasureTool.measureLineSpace(viewer, null) console.log(viewer) console.log(__dirname) } }) 参考：https://www.cnblogs.com/naaoveGIS/p/10918411.html]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
  <!-- flowchart 箭头图标 勿删 --><br />
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> </p>
<p>一效果图&#8220;<br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190707220306900.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDE4NDI0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述">二、demo</p>
<pre><code>import Vue from 'vue'
import App from './App'
import router from './router'
import Cesium from 'cesium/Cesium'
import MeasureTool from '../src/js/MeasureTools'

Vue.config.productionTip = false

/* eslint-disable no-new */
new Vue({
  el: '#app',
  router,
  components: {App},
  template: '&lt;App/&gt;',
  mounted () {
    var viewer = new Cesium.Viewer('cesiumContainer', {

      baseLayerPicker: false // 是否显示图层选择器
    })
    var layer = new Cesium.MapboxImageryProvider({
      mapId: 'mapbox.dark',
      accessToken: 'mapbox的token'
    })
    viewer.scene.globe.enableLighting = false
    viewer.imageryLayers.addImageryProvider(layer)
    // 加载三维模型灰模
    var tileset = viewer.scene.primitives.add(new Cesium.Cesium3DTileset({
      url: 'http://localhost:9002/api/folder/edc012f6fdc94baca5b2a838f8b558fd/tileset.json'
    }))
    viewer.scene.primitives.add(tileset)
    viewer.scene.screenSpaceCameraController.minimumZoomDistance = 100;
    tileset.readyPromise.then(function (tileset) {
      viewer.scene.primitives.add(tileset)
      viewer.zoomTo(tileset, new Cesium.HeadingPitchRange(0.5, -0.2, tileset.boundingSphere.radius * 1.0))
    }).otherwise(function (error) {
      console.log(error)
    })
    tileset.style = new Cesium.Cesium3DTileStyle({
      color: {
        conditions: [
          ['${floor} &gt;= 8', 'rgba(0, 149, 251, 0.3)'],
          ['${floor} &gt;= 7', 'rgb(0, 149, 251, 0.3)'],
          ['${floor} &gt;= 6', 'rgb(0, 149, 251, 0.3)'],
          ['${floor} &gt;= 5', 'rgb(0, 149, 251, 0.3)'],
          ['${floor} &gt;= 4', 'rgb(0, 149, 251, 0.3)'],
          ['${floor} &gt;= 3', 'rgb(0, 149, 251, 0.3)'],
          ['${floor} &gt;= 2', 'rgb(0, 149, 251, 0.3)'],
          ['true', 'rgb(0, 149, 251, 0.3)']]
      }
    })

    // 测量距离
    MeasureTool.measureLineSpace(viewer, null)
    console.log(viewer)
    console.log(__dirname)
  }
})

</code></pre>
<p>参考：<a href="https://www.cnblogs.com/naaoveGIS/p/10918411.html" rel="nofollow" data-token="4d8873e7cbe556ed530f916a240e23b2">https://www.cnblogs.com/naaoveGIS/p/10918411.html</a></p>
</p></div>
<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-526ced5128.css" rel="stylesheet">
</div>
]]></content:encoded>
										</item>
		<item>
		<title>cesium加载mapbox黑色底图</title>
		<link>https://uzzz.org/article/2914.html</link>
				<pubDate>Mon, 14 Jan 2019 08:42:49 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[游戏开发]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/2914.html</guid>
				<description><![CDATA[其实很简单，但是对于不知道的人，就很麻烦了。 官网上的mapbox.street会报错 var layer=new Cesium.MapboxImageryProvider({ mapId: 'mapbox.dark', accessToken: '你的token' }) viewer.imageryLayers.addImageryProvider(layer) 放一张师弟做的三维效果图]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div class="htmledit_views" id="content_views">
<p>其实很简单，但是对于不知道的人，就很麻烦了。</p>
<p>官网上的mapbox.street会报错</p>
<pre>
var layer=new Cesium.MapboxImageryProvider({
    mapId: 'mapbox.dark',
    accessToken: '你的token'
})


viewer.imageryLayers.addImageryProvider(layer)</pre>
<p>放一张师弟做的三维效果图</p>
</p>
<p><img alt="" class="has" height="660" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190114164225795.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0E4NzMwNTQyNjc=,size_16,color_FFFFFF,t_70" width="1200"></p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>Cesium加载局部地区单张图片底图</title>
		<link>https://uzzz.org/article/3422.html</link>
				<pubDate>Fri, 16 Nov 2018 08:26:26 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[游戏开发]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/3422.html</guid>
				<description><![CDATA[代码如下 &#60;!DOCTYPE html&#62; &#60;html&#62; &#60;head&#62; &#60;meta charset="UTF-8"&#62; &#60;title&#62;局部地图区域&#60;/title&#62; &#60;link rel="stylesheet" href="../Build/Widgets/widgets.css" /&#62; &#60;script src="../Build/Cesium.js"&#62;&#60;/script&#62; &#60;/head&#62; &#60;body style="overflow: hidden;height: 95%;"&#62; &#60;div id="cesiumContainer" style="width: 100%;height: 900px;background-color: rosybrown;"&#62;&#60;/div&#62; &#60;/body&#62; &#60;script&#62; var viewer = new Cesium.Viewer('cesiumContainer',{ //需要进行可视化的数据源的集合 animation: false, //是否显示动画控件 shouldAnimate : true, homeButton: false, //是否显示Home按钮 fullscreenButton: false, //是否显示全屏按钮 baseLayerPicker: false, //是否显示图层选择控件 geocoder: false, //是否显示地名查找控件 timeline: false, //是否显示时间线控件 sceneModePicker: false, //是否显示投影方式控件 navigationHelpButton: false, //是否显示帮助信息控件 infoBox: false, //是否显示点击要素之后显示的信息 requestRenderMode: true, //启用请求渲染模式 scene3DOnly: false, //每个几何实例将只能以3D渲染以节省GPU内存 sceneMode: 3, //初始场景模式 1 2D模式 2 2D循环模式 3 3D模式 Cesium.SceneMode fullscreenElement: document.body, //全屏时渲染的HTML元素 暂时没发现用处 imageryProvider : new Cesium.WebMapTileServiceImageryProvider({ url: 'http://t0.tianditu.com/img_w/wmts?', layer: 'img', style: 'default', format: 'tiles', tileMatrixSetID: 'w', credit: new Cesium.Credit('天地图全球影像服务'), }) }); //全球影像中文注记服务 viewer.imageryLayers.addImageryProvider(new Cesium.WebMapTileServiceImageryProvider({ url: "http://t0.tianditu.com/cia_w/wmts?service=wmts&#38;request=GetTile&#38;version=1.0.0&#38;LAYER=cia&#38;tileMatrixSet=w&#38;TileMatrix={TileMatrix}&#38;TileRow={TileRow}&#38;TileCol={TileCol}&#38;style=default.jpg", layer: "tdtAnnoLayer", style: "default", format: "image/jpeg", tileMatrixSetID: "GoogleMapsCompatible", maximumLevel: 13, minimumLevel: 1, show: false })); //左下角坐标，右上角坐标 var rectangle=Cesium.Rectangle.fromDegrees(112.2588781098,39.5047262435,112.2981585251,39.5233702752); viewer.imageryLayers.addImageryProvider(new Cesium.SingleTileImageryProvider({ url:"../images/label/2.png", rectangle: rectangle })) var layers = viewer.imageryLayers; viewer._cesiumWidget._creditContainer.style.display="none"; viewer.camera.setView({ destination: Cesium.Rectangle.fromDegrees(112.2770508586,39.5050978677,112.2776657605,39.5193995362) //定位坐标点，建议使用谷歌地球坐标位置无偏差 }); &#60;/script&#62; &#60;/html&#62;]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div id="content_views" class="markdown_views prism-atom-one-dark">
  <!-- flowchart 箭头图标 勿删 --><br />
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> </p>
<p>代码如下</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;meta charset="UTF-8"&gt;
		&lt;title&gt;局部地图区域&lt;/title&gt;
		&lt;link rel="stylesheet" href="../Build/Widgets/widgets.css" /&gt;
		&lt;script src="../Build/Cesium.js"&gt;&lt;/script&gt;
	&lt;/head&gt;
	&lt;body style="overflow: hidden;height: 95%;"&gt;
		&lt;div  id="cesiumContainer" style="width: 100%;height: 900px;background-color: rosybrown;"&gt;&lt;/div&gt;
	&lt;/body&gt;
	&lt;script&gt;
	  	var viewer = new Cesium.Viewer('cesiumContainer',{ 
   		//需要进行可视化的数据源的集合
	             animation: false, //是否显示动画控件
	            shouldAnimate : true,
	            homeButton: false, //是否显示Home按钮
	            fullscreenButton: false, //是否显示全屏按钮
	            baseLayerPicker: false, //是否显示图层选择控件
	            geocoder: false, //是否显示地名查找控件
	            timeline: false, //是否显示时间线控件
	            sceneModePicker: false, //是否显示投影方式控件
	            navigationHelpButton: false, //是否显示帮助信息控件
	            infoBox: false, //是否显示点击要素之后显示的信息
	            requestRenderMode: true, //启用请求渲染模式
	            scene3DOnly: false, //每个几何实例将只能以3D渲染以节省GPU内存
	            sceneMode: 3, //初始场景模式 1 2D模式 2 2D循环模式 3 3D模式  Cesium.SceneMode
	            fullscreenElement: document.body, //全屏时渲染的HTML元素 暂时没发现用处
	           imageryProvider : new Cesium.WebMapTileServiceImageryProvider({
			          url: 'http://t0.tianditu.com/img_w/wmts?',
			          layer: 'img',
			          style: 'default',
			          format: 'tiles',
			          tileMatrixSetID: 'w',
			          credit: new Cesium.Credit('天地图全球影像服务'),
			      
			    })
		});
	
		  //全球影像中文注记服务
	    	viewer.imageryLayers.addImageryProvider(new Cesium.WebMapTileServiceImageryProvider({
		    url: "http://t0.tianditu.com/cia_w/wmts?service=wmts&amp;request=GetTile&amp;version=1.0.0&amp;LAYER=cia&amp;tileMatrixSet=w&amp;TileMatrix={TileMatrix}&amp;TileRow={TileRow}&amp;TileCol={TileCol}&amp;style=default.jpg",
		    layer: "tdtAnnoLayer",
		    style: "default",
		    format: "image/jpeg",
		    tileMatrixSetID: "GoogleMapsCompatible",
		    maximumLevel: 13,
			minimumLevel: 1,
		    show: false
		}));
		//左下角坐标，右上角坐标
		var rectangle=Cesium.Rectangle.fromDegrees(112.2588781098,39.5047262435,112.2981585251,39.5233702752);
		viewer.imageryLayers.addImageryProvider(new Cesium.SingleTileImageryProvider({
			url:"../images/label/2.png",
			rectangle: rectangle
		}))
		var layers = viewer.imageryLayers;  
		viewer._cesiumWidget._creditContainer.style.display="none";
		viewer.camera.setView({
			destination: Cesium.Rectangle.fromDegrees(112.2770508586,39.5050978677,112.2776657605,39.5193995362) //定位坐标点，建议使用谷歌地球坐标位置无偏差
		});
		&lt;/script&gt;
&lt;/html&gt;

</code></pre>
<p><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20181116162923489.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dvX2J1emhpZGFv,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
</p></div>
<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-526ced5128.css" rel="stylesheet">
</div>
]]></content:encoded>
										</item>
		<item>
		<title>军旗（陆战棋）</title>
		<link>https://uzzz.org/article/2609.html</link>
				<pubDate>Tue, 29 May 2018 13:27:29 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[游戏开发]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/2609.html</guid>
				<description><![CDATA[apk下载：点击打开链接 军棋分三种下法： 一种是暗棋（棋子立起），两人对决，需要裁判； 一种是明棋，字朝上摆，不需要裁判； 一种是翻棋，开始字朝下摆，不需要裁判。]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div class="htmledit_views" id="content_views">
<p>apk下载：<a href="https://pan.baidu.com/s/1s68tEDCEC8NOsZbP8GShPg" rel="nofollow" data-token="a43e843a46d46439f2bcb17444170a81">点击打开链接</a></p>
<p>军棋分三种下法：</p>
<p>一种是暗棋（棋子立起），两人对决，需要裁判；</p>
<p>一种是明棋，字朝上摆，不需要裁判；</p>
<p>一种是翻棋，开始字朝下摆，不需要裁判。</p>
<p><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20180529211810888?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25hbWVvZmNzZG4=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="333" alt=""></p>
</p>
<p></p>
<p></p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>ov7725摄像头&#8211;图像中间亮四周暗</title>
		<link>https://uzzz.org/article/2093.html</link>
				<pubDate>Tue, 29 May 2018 06:58:42 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[游戏开发]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/2093.html</guid>
				<description><![CDATA[使用OV7725摄像头采集图像进行商品识别，uvc调试过程中发现图像中间亮四周暗； 网上找原因，说是lens 的CRA 和 sensor的CRA不匹配；可以通过矫正透镜改进； 查看手册，lens correction部分；果然有这部分介绍 12&#160; Deal with Lens&#8212;处理Lens12.1&#160;Light fall off&#8212;-光线脱落光线掉落意味着图像的角落比图像的中心更暗。它是由镜头引起的。OV7725的镜头阴影校正功能可以打开以补偿角亮度并使整个画面看起来一样明亮。12.2&#160;Dark corner&#8212;黑暗的角落某些镜头可能有黑暗的角落。黑角表示图片的颜色几乎为黑色。使用镜头校正无法纠正黑暗角落。所以暗角的模块是NG，不能使用。12.3&#160; Resolution&#8212;方法相机模块的分辨率取决于镜头设计，对焦调整和传感器分辨率。相机模块组装对焦调整非常重要。对于OV7725，焦距约为50〜60cm。景深大约从25〜30厘米到无限大。如果检查相机模块的分辨率，分辨率图表应放置在50〜60厘米处。12.4&#160; Optical contrast&#8212;光学对比度 镜头的光学对比度对于画质非常重要。如果镜头的光学对比度不好，照片会看起来很诡异。尽管可以通过增加传感器对比度来提高图像清晰度，但较高的传感器对比度会使图像暗区的细节丢失。 12.5 Lens Cover&#8212;镜头盖 镜头盖是光路中最便宜的部件。 但它可能会非常影响画面质量。 镜头盖应由双面带AR涂层的光学玻璃制成。 否则，镜头盖可能会导致灵敏度损失和/或更强烈的镜头光晕。 12.6&#160; Lens Correction&#8212;镜头校正 应该在每个模块中调整镜头校正设置。 请联系OmniVision本地FAE镜头校正调整。 我的问题应该是光脱落导致的，打开透镜的阴影矫正功能； 设置寄存器 &#160;&#160;&#160; // Lens Correction, should be tuned with real camera module&#160;&#160; &#160;set_REGISTER(LC_RADI,&#160;&#160;&#160;&#160;&#160;&#160; 0x10);&#160;&#160; &#160;&#160;&#160; &#160;//(0x4a, 0x10);&#160;&#160; &#160;set_REGISTER(LC_COEF,&#160;&#160;&#160;&#160;&#160;&#160; 0x10);&#160;&#160; &#160;&#160;&#160; &#160;//(0x49, 0x10);//&#160;&#160; &#160;set_REGISTER(LC_XC,&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;0x08);&#160;&#160; &#160;&#160;&#160; &#160;//(0x47, 0x08);&#160;&#160; &#160;set_REGISTER(LC_COEFB,&#160;&#160;&#160;&#160;&#160; 0x14);&#160;&#160; &#160;&#160;&#160; &#160;//(0x4b, 0x14);&#160;&#160; &#160;set_REGISTER(LC_COEFR,&#160;&#160;&#160;&#160;&#160; 0x17);&#160;&#160; &#160;&#160;&#160; &#160;//(0x4c, 0x17);&#160;&#160; &#160;set_REGISTER(LC_CTR,&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0x05); &#160;&#160; &#160; &#160;&#160; &#160;// (0x46, 0x05); &#160;&#160; &#160;set_REGISTER(COM5,&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0x65); &#160;&#160; &#160; &#160;&#160; &#160;// (0x0e, 0x05); 图像对比 确实有效果，但不明显，中间仍然很亮； 调曝光值参数 AEW，AEB，VPT值，选择合适范围，图像可降低明亮度；中间还是比较亮，lens问题未能得到彻底解决。]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div class="htmledit_views" id="content_views">
<p><span style="font-family:SimSun;">使用OV7725摄像头采集图像进行商品识别，uvc调试过程中发现图像中间亮四周暗；</span></p>
<p><span style="font-family:SimSun;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20180528110255254?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N5ZjE1MjM4NjIyMDY3/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br /></span></p>
<p><span style="font-family:SimSun;">网上找原因，说是lens 的CRA 和 sensor的CRA不匹配；可以通过矫正透镜改进；</span></p>
<p><span style="font-family:SimSun;">查看手册，lens correction部分；果然有这部分介绍</span></p>
<p><span style="font-family:SimSun;">12&nbsp; Deal with Lens&#8212;处理Lens<br />12.1&nbsp;Light fall off&#8212;-光线脱落<br />光线掉落意味着图像的角落比图像的中心更暗。它是由镜头引起的。<br />OV7725的镜头阴影校正功能可以打开以补偿角亮度并使整个画面看起来一样明亮。<br />12.2&nbsp;Dark corner&#8212;黑暗的角落<br />某些镜头可能有黑暗的角落。黑角表示图片的颜色几乎为黑色。使用镜头校正无法纠正黑暗角落。所以暗角的模块是NG，不能使用。<br />12.3&nbsp; Resolution&#8212;方法<br />相机模块的分辨率取决于镜头设计，对焦调整和传感器分辨率。相机模块组装对焦调整非常重要。<br />对于OV7725，焦距约为50〜60cm。景深大约从25〜30厘米到无限大。如果检查相机模块的分辨率，分辨率图表应放置在50〜60厘米处。<br />12.4&nbsp; Optical contrast&#8212;光学对比度<br /></span></p>
<p><span style="font-family:SimSun;">镜头的光学对比度对于画质非常重要。如果镜头的光学对比度不好，照片会看起来很诡异。尽管可以通过增加传感器对比度来提高图像清晰度，但较高的传感器对比度会使图像暗区的细节丢失。</span></p>
<p><span style="font-family:SimSun;">12.5 Lens Cover&#8212;镜头盖<br /></span></p>
<p><span style="font-family:SimSun;">镜头盖是光路中最便宜的部件。 但它可能会非常影响画面质量。</span></p>
<p><span style="font-family:SimSun;">镜头盖应由双面带AR涂层的光学玻璃制成。 否则，镜头盖可能会导致灵敏度损失和/或更强烈的镜头光晕。</span></p>
<p><span style="font-family:SimSun;"><br /></span></p>
<p><span style="font-family:SimSun;">12.6&nbsp; Lens Correction&#8212;镜头校正<br /></span></p>
<p><span style="font-family:SimSun;">应该在每个模块中调整镜头校正设置。 请联系OmniVision本地FAE镜头校正调整。</span></p>
<p><span style="font-family:SimSun;"><br /></span></p>
<p><span style="font-family:SimSun;">我的问题应该是光脱落导致的，打开透镜的阴影矫正功能；</span></p>
<p><span style="font-family:SimSun;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/2018052811133312?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N5ZjE1MjM4NjIyMDY3/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br /></span></p>
<p><span style="font-family:SimSun;"><br /></span></p>
<p><span style="font-family:SimSun;">设置寄存器</span></p>
<p><span style="font-family:SimSun;">&nbsp;&nbsp;&nbsp; // Lens Correction, should be tuned with real camera module<br />&nbsp;&nbsp; &nbsp;set_REGISTER(LC_RADI,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x10);&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//(0x4a, 0x10);<br />&nbsp;&nbsp; &nbsp;set_REGISTER(LC_COEF,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x10);&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//(0x49, 0x10);<br />//&nbsp;&nbsp; &nbsp;set_REGISTER(LC_XC,&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;0x08);&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//(0x47, 0x08);<br />&nbsp;&nbsp; &nbsp;set_REGISTER(LC_COEFB,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x14);&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//(0x4b, 0x14);<br />&nbsp;&nbsp; &nbsp;set_REGISTER(LC_COEFR,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x17);&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//(0x4c, 0x17);<br />&nbsp;&nbsp; &nbsp;set_REGISTER(LC_CTR,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x05); &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;// (0x46, 0x05);</p>
<p></span></p>
<p><span style="font-family:SimSun;">&nbsp;&nbsp; &nbsp;set_REGISTER(COM5,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x65); &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;// (0x0e, 0x05);</span></p>
<p><span style="font-family:SimSun;">图像对比</span></p>
<p><span style="font-family:SimSun;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/201805281153291?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N5ZjE1MjM4NjIyMDY3/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br /></span></p>
<p><span style="font-family:SimSun;"><br /></span></p>
<p><span style="font-family:SimSun;">确实有效果，但不明显，中间仍然很亮；</span></p>
<p><span style="font-family:SimSun;">调曝光值参数</span></p>
<p><span style="font-family:SimSun;">AEW，AEB，VPT值，选择合适范围，图像可降低明亮度；中间还是比较亮，lens问题未能得到彻底解决。<br /></span></p>
<p><span style="font-family:SimSun;"></span></p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>Cadence原理图中一个错误和解决方法</title>
		<link>https://uzzz.org/article/3434.html</link>
				<pubDate>Mon, 02 Apr 2018 08:04:40 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[游戏开发]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/3434.html</guid>
				<description><![CDATA[画好原理图保存时，出现了错误 &#160; &#160; &#160;“ERROR(SPCOCN-1998): HDL Power Symbol does not have voltage property. To turn off this warning, choose Tools &#8211; Options &#8211; Check and deselect the &#8216;Voltage on HDL Symbols&#8217; option. (voltage_on_hdl)” 解决方法：就是这个操作Tools &#8211; Options &#8211; Check ，然后看下面的图，不要选我下面划红线的就行了，其实就是一个你默认这个符号是标示电压的就行了。]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div class="htmledit_views" id="content_views">
  <span style="color:rgb(0,0,0);font-family:Simsun;font-size:14px;"></span>画好原理图保存时，出现了错误<br />
  </p>
<p>&nbsp; &nbsp; &nbsp;“ERROR(SPCOCN-1998): HDL Power Symbol does not have voltage property. To turn off this warning, choose Tools &#8211; Options &#8211; Check and deselect the &#8216;Voltage on HDL Symbols&#8217; option. (voltage_on_hdl)”</p>
<p>解决方法：就是这个操作Tools &#8211; Options &#8211; Check ，然后看下面的图，不要选我下面划红线的就行了，其实就是一个你默认这个符号是标示电压的就行了。</p>
<p><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20180402160123176?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dvc2hpenphaQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p>
<p>  <span style="color:rgb(0,0,0);font-family:Simsun;font-size:14px;"></span>
 </div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>unity 仿ue4湖水效果</title>
		<link>https://uzzz.org/article/3444.html</link>
				<pubDate>Sat, 23 Sep 2017 04:09:16 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[Unity]]></category>
		<category><![CDATA[产品设计]]></category>
		<category><![CDATA[图像处理]]></category>
		<category><![CDATA[游戏开发]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/3444.html</guid>
				<description><![CDATA[这次是做个测试，看看材质通用性 为了方便使用的是untiy 5.6 + shaderforge 1.38 下面是最后的效果（当然比起ue4里面还添加了一些，用的线性空间和deferred模式） 下面是ue4原本的 因为主要是法线上的效果，unity在法线和光照效果上还是差挺多的 连节点中还发现深度信息和ue4略有不同这个要注意 而且在测试中还发现了shaderforge的bug 当然depth相关节点最终连接到normal节点的话会报下面的错 Shader error in &#8216;Shader Forge/test&#8217;: undeclared identifier &#8216;partZ&#8217; at line 106 (on d3d11) 但是只需要改源码，把partZ声明放在使用之前就可以了 下面是第一个版本的shaderforge节点 基本和ue4那个很像，需要注意的是某些节点虽然和ue4很像，但是略有不同 预览是错误，因为需要改源码，但每次改过后，shaderforge打开又会开回来 这个bug其实挺多见的，节点连多了，各种bug就出现了 效果如下 但是这个缺少放入物体虚化的效果，于是又改了下 效果就是第一幅图的了，注意这个需要开启透明，使用的时候只能是不透明的物体放入水中，否则会有深度问题 节点如下 预览也是这个问题，shader文件里直接改 放上改好的shader下载地址（注意只有shader文件） http://download.csdn.net/download/shenmifangke/9991699]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div class="htmledit_views" id="content_views">
<p><span style="font-size:14px;">这次是做个测试，看看材质通用性</span></p>
<p><span style="font-size:14px;">为了方便使用的是untiy 5.6 + shaderforge 1.38</span></p>
<p><span style="font-size:14px;">下面是最后的效果（当然比起ue4里面还添加了一些，用的线性空间和deferred模式）<br /></span></p>
<p><span style="font-size:14px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20170923121106752" alt=""><br /></span></p>
<p><span style="font-size:14px;">下面是ue4原本的<br /></span></p>
<p><span style="font-size:14px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20170923121207951" alt=""><br /></span></p>
<p><span style="font-size:14px;">因为主要是法线上的效果，unity在法线和光照效果上还是差挺多的</span></p>
<p><span style="font-size:14px;"><br /></span></p>
<p><span style="font-size:14px;">连节点中还发现深度信息和ue4略有不同这个要注意<br /></span></p>
<p><span style="font-size:14px;"><br /></span></p>
<p><span style="font-size:14px;">而且在测试中还发现了shaderforge的bug</span></p>
<p><span style="font-size:14px;">当然depth相关节点最终连接到normal节点的话会报下面的错<br /></span></p>
<p><span style="font-size:14px;">Shader error in &#8216;Shader Forge/test&#8217;: undeclared identifier &#8216;partZ&#8217; at line 106 (on d3d11)<br /></span></p>
<p><span style="font-size:14px;">但是只需要改源码，把partZ声明放在使用之前就可以了<br /></span></p>
<p><span style="font-size:14px;"><br /></span></p>
<p><span style="font-size:14px;">下面是第一个版本的shaderforge节点</span></p>
<p><span style="font-size:14px;">基本和ue4那个很像，需要注意的是某些节点虽然和ue4很像，但是略有不同<br /></span></p>
<p><span style="font-size:14px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20170923144337393?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2hlbm1pZmFuZ2tl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""><br /></span></p>
<p><span style="font-size:14px;">预览是错误，因为需要改源码，但每次改过后，shaderforge打开又会开回来</span></p>
<p><span style="font-size:14px;">这个bug其实挺多见的，节点连多了，各种bug就出现了<br /></span></p>
<p><span style="font-size:14px;">效果如下</span></p>
<p><span style="font-size:14px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20170923144527091?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2hlbm1pZmFuZ2tl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""><br /></span></p>
<p><span style="font-size:14px;"><br /></span></p>
<p><span style="font-size:14px;">但是这个缺少放入物体虚化的效果，于是又改了下</span></p>
<p><span style="font-size:14px;">效果就是第一幅图的了，注意这个需要开启透明，使用的时候只能是不透明的物体放入水中，否则会有深度问题</span></p>
<p><span style="font-size:14px;">节点如下</span></p>
<p><span style="font-size:14px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20170923144708362?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2hlbm1pZmFuZ2tl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""><br /></span></p>
<p><span style="font-size:14px;">预览也是这个问题，shader文件里直接改<br /></span></p>
<p><span style="font-size:14px;">放上改好的shader下载地址（注意只有shader文件）</span></p>
<p><span style="font-size:14px;">http://download.csdn.net/download/shenmifangke/9991699<br /></span></p>
<p><span style="font-size:14px;"></span></p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>游戏——海战棋</title>
		<link>https://uzzz.org/article/3265.html</link>
				<pubDate>Sun, 15 Jan 2017 08:19:54 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[游戏开发]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/3265.html</guid>
				<description><![CDATA[又写了个小小的棋类游戏，希望大家喜欢！ 游戏规则 由电脑随机在敌我双方布好船阵，每艘船周围一格内都不许有其他船，船有1、2、3、4格大小的，(1格有四艘 2格有三艘 3格有两艘 4格有1艘)，双方都只能看不到自己船的布阵方式。 我方在左边，敌方在右边 双方轮流在对方海域内打炮 若射中了对方的船，则可再射一炮 整艘战船都被打到则会有提示整艘船沉了(这里是换符号) 左右的数字是敌我剩下的船种类以及其数量 其实你可以作弊，按了作弊键后就可以看到敌方的船只位置了 有如下两套控制按钮配置 修改布阵 控制光标 确认射击 作弊一下 ._. 0 1,2,3,5 0 8 0 a,s,d,w (space) g 截图 具体实现 这就是一个简单的博弈问题，我建了一个队列 要是队列是空的，则随机确定一个点，并把它周围没射过的的点加入队列 要是队列非空，则依次弹出元素并确定射那里，要是射中了，就继续弹出，若整艘船都击沉了，那么弹出队列元素直到队首元素不是这艘沉船周围的格子为止 上面那点最后面用到了一个小性质，就是每艘船周围一格内都没有其它的船，所以当确定这艘船全被击中后，就可以排除它周围的格子了。 源代码 #include &#60;cstdio&#62; #include &#60;ctime&#62; //rand()%(x) 0~x-1 int #include &#60;windows.h&#62; //停顿:Sleep(); #include &#60;cstdlib&#62; //清屏:system("cls"); #include &#60;conio.h&#62; //getch(); char #include &#60;iostream&#62; #include &#60;cstring&#62; //未知 :□; 打中 :◎; 未打中:○ 船:★; using namespace std; int rest[3][5],r1,r2; //rest[1]:玩家的海域; rest[2]:电脑的海域 r1:玩家还剩船数; r2:电脑还剩船数 int b1[12][12],b2[12][12]; //0:空海; 1:船只; 2:打中; 3:边界 4:未打中 5:沉船 int c1[12][12],c2[12][12]; //c1:玩家海域的颜色 c2:电脑海域颜色 int fx[8][2]={{0,1},{1,0},{0,-1},{-1,0},{1,1},{-1,-1},{1,-1},{-1,1}}; int now[2][2]; //now[左/右][x/y] 光标 string a1[12][12],a2[12][12]; int fd [500][2],head=0,tail=0; void color(int a)//颜色函数 { SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE),a); } void gotoxy(int x,int y)//位置函数(整个界面)(行为x 列为y) { COORD pos; pos.X=2*(y); pos.Y=x; SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE),pos); } void gotoxy1(int x,int y)//位置函数(左边棋盘)(行为x 列为y) { COORD pos; pos.X=2*(y+5); pos.Y=x+1; SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE),pos); } void gotoxy2(int x,int y)//位置函数(右边棋盘)(行为x 列为y) { COORD pos; pos.X=2*(y+18); pos.Y=x+1; SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE),pos); } void check2(int x,int y){ int k=0,kx,ky,f=1; for (int i=0; i&#60;=3; i++){ if (b2[x+fx[i][0]][y+fx[i][1]]==2) k=i; if (b2[x+fx[i][0]][y+fx[i][1]]==1) f=0; } for (kx=x,ky=y; b2[kx][ky]==2; kx+=fx[k][0],ky+=fx[k][1]); if (b2[kx][ky]==1) f=0; if (f){ int w=0; color(12); for (kx=x,ky=y; b2[kx][ky]==2; kx+=fx[k][0],ky+=fx[k][1]){ gotoxy2(kx,ky); a2[kx][ky]="※"; c2[kx][ky]=12; cout &#60;&#60;"※"; w++; } for (kx=x+fx[(k+2)%4][0],ky=y+fx[(k+2)%4][1]; b2[kx][ky]==2; kx+=fx[(k+2)%4][0],ky+=fx[(k+2)%4][1]){ gotoxy2(kx,ky);]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div id="content_views" class="markdown_views prism-atom-one-dark">
  <!-- flowchart 箭头图标 勿删 --><br />
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> </p>
<p>又写了个小小的棋类游戏，希望大家喜欢！</p>
<h2 id="游戏规则">游戏规则</h2>
<ul>
<li>由电脑随机在敌我双方布好船阵，每艘船周围一格内都不许有其他船，船有1、2、3、4格大小的，(1格有四艘 2格有三艘 3格有两艘 4格有1艘)，双方都只能看不到自己船的布阵方式。</li>
<li>我方在左边，敌方在右边</li>
<li>双方轮流在对方海域内打炮</li>
<li>若射中了对方的船，则可再射一炮</li>
<li>整艘战船都被打到则会有提示<strong>整艘船沉了</strong>(这里是换符号)</li>
<li>左右的数字是敌我剩下的船种类以及其数量</li>
<li>其实你可以作弊，按了作弊键后就可以看到敌方的船只位置了</li>
<li>有如下两套控制按钮配置</li>
</ul>
<table>
<thead>
<tr>
<th>修改布阵</th>
<th>控制光标</th>
<th>确认射击</th>
<th>作弊一下 ._.</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1,2,3,5</td>
<td>0</td>
<td>8</td>
</tr>
<tr>
<td>0</td>
<td>a,s,d,w</td>
<td>(space)</td>
<td>g</td>
</tr>
</tbody>
</table>
<h2 id="截图">截图</h2>
<p><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20170115162730636?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvamFja3lwaWdwaWc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="游戏开始" title=""> <br /> <img src="https://uzshare.com/_p?https://img-blog.csdn.net/20170115162739451?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvamFja3lwaWdwaWc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="作弊模式！" title=""></p>
<h2 id="具体实现">具体实现</h2>
<ul>
<li>这就是一个简单的博弈问题，我建了一个队列</li>
<li>要是队列是空的，则随机确定一个点，并把它周围没射过的的点加入队列</li>
<li>要是队列非空，则依次弹出元素并确定射那里，要是射中了，就继续弹出，若整艘船都击沉了，那么弹出队列元素直到队首元素不是这艘沉船周围的格子为止</li>
<li>上面那点最后面用到了一个小性质，就是每艘船周围一格内都没有其它的船，所以当确定这艘船全被击中后，就可以排除它周围的格子了。</li>
</ul>
<h2 id="源代码">源代码</h2>
<pre class="prettyprint"><code class=" hljs cpp"><span class="hljs-preprocessor">#include &lt;cstdio&gt;</span>
<span class="hljs-preprocessor">#include &lt;ctime&gt; <span class="hljs-comment">//rand()%(x) 0~x-1 int </span></span>
<span class="hljs-preprocessor">#include &lt;windows.h&gt; <span class="hljs-comment">//停顿:Sleep(); </span></span>
<span class="hljs-preprocessor">#include &lt;cstdlib&gt; <span class="hljs-comment">//清屏:system("cls");</span></span>
<span class="hljs-preprocessor">#include &lt;conio.h&gt; <span class="hljs-comment">//getch(); char</span></span>
<span class="hljs-preprocessor">#include &lt;iostream&gt;</span>
<span class="hljs-preprocessor">#include &lt;cstring&gt; <span class="hljs-comment">//未知 :□; 打中 :◎; 未打中:○ 船:★;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;
<span class="hljs-keyword">int</span> rest[<span class="hljs-number">3</span>][<span class="hljs-number">5</span>],r1,r2;      <span class="hljs-comment">//rest[1]:玩家的海域; rest[2]:电脑的海域 r1:玩家还剩船数; r2:电脑还剩船数 </span>
<span class="hljs-keyword">int</span> b1[<span class="hljs-number">12</span>][<span class="hljs-number">12</span>],b2[<span class="hljs-number">12</span>][<span class="hljs-number">12</span>];                            <span class="hljs-comment">//0:空海; 1:船只; 2:打中; 3:边界 4:未打中 5:沉船 </span>
<span class="hljs-keyword">int</span> c1[<span class="hljs-number">12</span>][<span class="hljs-number">12</span>],c2[<span class="hljs-number">12</span>][<span class="hljs-number">12</span>];                            <span class="hljs-comment">//c1:玩家海域的颜色 c2:电脑海域颜色 </span>
<span class="hljs-keyword">int</span> fx[<span class="hljs-number">8</span>][<span class="hljs-number">2</span>]={{<span class="hljs-number">0</span>,<span class="hljs-number">1</span>},{<span class="hljs-number">1</span>,<span class="hljs-number">0</span>},{<span class="hljs-number">0</span>,-<span class="hljs-number">1</span>},{-<span class="hljs-number">1</span>,<span class="hljs-number">0</span>},{<span class="hljs-number">1</span>,<span class="hljs-number">1</span>},{-<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>},{<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>},{-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>}};
<span class="hljs-keyword">int</span> now[<span class="hljs-number">2</span>][<span class="hljs-number">2</span>];              <span class="hljs-comment">//now[左/右][x/y] 光标 </span>
<span class="hljs-built_in">string</span> a1[<span class="hljs-number">12</span>][<span class="hljs-number">12</span>],a2[<span class="hljs-number">12</span>][<span class="hljs-number">12</span>];
<span class="hljs-keyword">int</span> fd [<span class="hljs-number">500</span>][<span class="hljs-number">2</span>],head=<span class="hljs-number">0</span>,tail=<span class="hljs-number">0</span>;


<span class="hljs-keyword">void</span> color(<span class="hljs-keyword">int</span> a)<span class="hljs-comment">//颜色函数</span>
{
SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE),a);
}
<span class="hljs-keyword">void</span> gotoxy(<span class="hljs-keyword">int</span> x,<span class="hljs-keyword">int</span> y)<span class="hljs-comment">//位置函数(整个界面)(行为x 列为y)</span>
{
COORD pos;
pos.X=<span class="hljs-number">2</span>*(y);
pos.Y=x;
SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE),pos);
}
<span class="hljs-keyword">void</span> gotoxy1(<span class="hljs-keyword">int</span> x,<span class="hljs-keyword">int</span> y)<span class="hljs-comment">//位置函数(左边棋盘)(行为x 列为y)</span>
{
COORD pos;
pos.X=<span class="hljs-number">2</span>*(y+<span class="hljs-number">5</span>);
pos.Y=x+<span class="hljs-number">1</span>;
SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE),pos);
}
<span class="hljs-keyword">void</span> gotoxy2(<span class="hljs-keyword">int</span> x,<span class="hljs-keyword">int</span> y)<span class="hljs-comment">//位置函数(右边棋盘)(行为x 列为y)</span>
{
COORD pos;
pos.X=<span class="hljs-number">2</span>*(y+<span class="hljs-number">18</span>);
pos.Y=x+<span class="hljs-number">1</span>;
SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE),pos);
}

<span class="hljs-keyword">void</span> check2(<span class="hljs-keyword">int</span> x,<span class="hljs-keyword">int</span> y){
    <span class="hljs-keyword">int</span> k=<span class="hljs-number">0</span>,kx,ky,f=<span class="hljs-number">1</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;=<span class="hljs-number">3</span>; i++){
        <span class="hljs-keyword">if</span> (b2[x+fx[i][<span class="hljs-number">0</span>]][y+fx[i][<span class="hljs-number">1</span>]]==<span class="hljs-number">2</span>) k=i;
        <span class="hljs-keyword">if</span> (b2[x+fx[i][<span class="hljs-number">0</span>]][y+fx[i][<span class="hljs-number">1</span>]]==<span class="hljs-number">1</span>) f=<span class="hljs-number">0</span>;
    }
    <span class="hljs-keyword">for</span> (kx=x,ky=y; b2[kx][ky]==<span class="hljs-number">2</span>; kx+=fx[k][<span class="hljs-number">0</span>],ky+=fx[k][<span class="hljs-number">1</span>]);
    <span class="hljs-keyword">if</span> (b2[kx][ky]==<span class="hljs-number">1</span>) f=<span class="hljs-number">0</span>;
    <span class="hljs-keyword">if</span> (f){
        <span class="hljs-keyword">int</span> w=<span class="hljs-number">0</span>;
        color(<span class="hljs-number">12</span>);
        <span class="hljs-keyword">for</span> (kx=x,ky=y; b2[kx][ky]==<span class="hljs-number">2</span>; kx+=fx[k][<span class="hljs-number">0</span>],ky+=fx[k][<span class="hljs-number">1</span>]){
            gotoxy2(kx,ky);
            a2[kx][ky]=<span class="hljs-string">"※"</span>;
            c2[kx][ky]=<span class="hljs-number">12</span>; 
            <span class="hljs-built_in">cout</span> &lt;&lt;<span class="hljs-string">"※"</span>;
            w++;
        }
        <span class="hljs-keyword">for</span> (kx=x+fx[(k+<span class="hljs-number">2</span>)%<span class="hljs-number">4</span>][<span class="hljs-number">0</span>],ky=y+fx[(k+<span class="hljs-number">2</span>)%<span class="hljs-number">4</span>][<span class="hljs-number">1</span>]; b2[kx][ky]==<span class="hljs-number">2</span>; kx+=fx[(k+<span class="hljs-number">2</span>)%<span class="hljs-number">4</span>][<span class="hljs-number">0</span>],ky+=fx[(k+<span class="hljs-number">2</span>)%<span class="hljs-number">4</span>][<span class="hljs-number">1</span>]){
            gotoxy2(kx,ky);
            a2[kx][ky]=<span class="hljs-string">"※"</span>;
            c2[kx][ky]=<span class="hljs-number">12</span>; 
            <span class="hljs-built_in">cout</span> &lt;&lt;<span class="hljs-string">"※"</span>;
            w++;
        }

        <span class="hljs-keyword">if</span> (w&gt;<span class="hljs-number">0</span>){
            rest[<span class="hljs-number">2</span>][w]--;
            r2--; 
            <span class="hljs-keyword">if</span> (rest[<span class="hljs-number">2</span>][w]&gt;<span class="hljs-number">0</span>) color(<span class="hljs-number">14</span>); <span class="hljs-keyword">else</span> color(<span class="hljs-number">11</span>);
            gotoxy2(<span class="hljs-number">5</span>-w,<span class="hljs-number">16</span>); <span class="hljs-built_in">printf</span>(<span class="hljs-string">"*%d"</span>,rest[<span class="hljs-number">2</span>][w]);
        }
    }
}

<span class="hljs-keyword">int</span> move1(){
    <span class="hljs-keyword">if</span> (r1*r2==<span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>(<span class="hljs-number">1</span>);

    color(<span class="hljs-number">5</span>); gotoxy1(<span class="hljs-number">14</span>,<span class="hljs-number">4</span>); <span class="hljs-built_in">printf</span>(<span class="hljs-string">"电脑开炮"</span>);
    color(<span class="hljs-number">13</span>); gotoxy2(<span class="hljs-number">14</span>,<span class="hljs-number">4</span>); <span class="hljs-built_in">printf</span>(<span class="hljs-string">"玩家开炮"</span>);

    <span class="hljs-keyword">int</span> kx=now[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>],ky=now[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>],lastx,lasty,f=<span class="hljs-number">1</span>;
    <span class="hljs-keyword">char</span> ch;
    gotoxy2(kx,ky); color(<span class="hljs-number">11</span>); <span class="hljs-keyword">if</span> (a2[kx][ky]!=<span class="hljs-string">" "</span>)<span class="hljs-built_in">cout</span> &lt;&lt;a2[kx][ky]; <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt;<span class="hljs-string">"▂"</span>; gotoxy2(kx,ky);
    <span class="hljs-keyword">while</span> (f){
        ch=getch();
        <span class="hljs-keyword">if</span> (ch==<span class="hljs-string">'1'</span> || ch==<span class="hljs-string">'a'</span>){kx=now[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]+fx[<span class="hljs-number">2</span>][<span class="hljs-number">0</span>]; ky=now[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]+fx[<span class="hljs-number">2</span>][<span class="hljs-number">1</span>];}
        <span class="hljs-keyword">if</span> (ch==<span class="hljs-string">'2'</span> || ch==<span class="hljs-string">'s'</span>){kx=now[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]+fx[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]; ky=now[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]+fx[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>];}
        <span class="hljs-keyword">if</span> (ch==<span class="hljs-string">'3'</span> || ch==<span class="hljs-string">'d'</span>){kx=now[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]+fx[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]; ky=now[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]+fx[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];}
        <span class="hljs-keyword">if</span> (ch==<span class="hljs-string">'5'</span> || ch==<span class="hljs-string">'w'</span>){kx=now[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]+fx[<span class="hljs-number">3</span>][<span class="hljs-number">0</span>]; ky=now[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]+fx[<span class="hljs-number">3</span>][<span class="hljs-number">1</span>];}
        <span class="hljs-keyword">if</span> (kx&gt;<span class="hljs-number">0</span> &amp;&amp; kx&lt;=<span class="hljs-number">10</span> &amp;&amp; ky&gt;<span class="hljs-number">0</span> &amp;&amp; ky&lt;=<span class="hljs-number">10</span>){
            gotoxy2(now[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>],now[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]); color(c2[now[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]][now[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]]); <span class="hljs-built_in">cout</span> &lt;&lt;a2[now[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]][now[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]];
            gotoxy2(kx,ky); color(<span class="hljs-number">11</span>); <span class="hljs-keyword">if</span> (a2[kx][ky]!=<span class="hljs-string">" "</span>)<span class="hljs-built_in">cout</span> &lt;&lt;a2[kx][ky]; <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt;<span class="hljs-string">"▂"</span>; gotoxy2(kx,ky);
            now[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]=kx; now[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]=ky;
        }

        <span class="hljs-keyword">if</span> ((ch==<span class="hljs-string">'0'</span> || ch==<span class="hljs-string">' '</span>)&amp;&amp; b2[kx][ky]&lt;=<span class="hljs-number">1</span>){ 
            <span class="hljs-keyword">if</span> (b2[kx][ky]==<span class="hljs-number">1</span>){b2[kx][ky]=<span class="hljs-number">2</span>; a2[kx][ky]=<span class="hljs-string">"◎"</span>; c2[kx][ky]=<span class="hljs-number">4</span>;}
            <span class="hljs-keyword">if</span> (b2[kx][ky]==<span class="hljs-number">0</span>){b2[kx][ky]=<span class="hljs-number">4</span>; a2[kx][ky]=<span class="hljs-string">" "</span>;}
            gotoxy2(kx,ky); color(c2[kx][ky]); <span class="hljs-built_in">cout</span> &lt;&lt;a2[kx][ky];
            f=<span class="hljs-number">0</span>;
            check2(kx,ky);
            color (<span class="hljs-number">7</span>); gotoxy2(<span class="hljs-number">12</span>,<span class="hljs-number">4</span>); <span class="hljs-built_in">cout</span> &lt;&lt;<span class="hljs-string">"("</span>;  color(<span class="hljs-number">6</span>); <span class="hljs-built_in">cout</span> &lt;&lt;ky; color(<span class="hljs-number">7</span>); <span class="hljs-built_in">cout</span> &lt;&lt;<span class="hljs-string">","</span>; color(<span class="hljs-number">2</span>); <span class="hljs-built_in">cout</span> &lt;&lt;kx;color(<span class="hljs-number">7</span>); <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">") "</span>;
            <span class="hljs-keyword">if</span> (b2[kx][ky]==<span class="hljs-number">2</span>) move1();
        }

        <span class="hljs-keyword">if</span> (ch==<span class="hljs-string">'8'</span> || ch==<span class="hljs-string">'g'</span>){
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=<span class="hljs-number">10</span>; i++) <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j=<span class="hljs-number">1</span>; j&lt;=<span class="hljs-number">10</span>; j++)
                <span class="hljs-keyword">if</span> (b2[i][j]==<span class="hljs-number">1</span>){
                    gotoxy2(i,j);
                    color(<span class="hljs-number">10</span>);
                    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Ω"</span>);
                }
            <span class="hljs-keyword">char</span> ccc=getch();
            <span class="hljs-keyword">for</span> (; ccc!=<span class="hljs-string">'8'</span> &amp;&amp; ccc!=<span class="hljs-string">'g'</span>; ccc=getch());
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=<span class="hljs-number">10</span>; i++)<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j=<span class="hljs-number">1</span>; j&lt;=<span class="hljs-number">10</span>; j++){
                gotoxy2(i,j);
                color(c2[i][j]);
                <span class="hljs-built_in">cout</span> &lt;&lt;a2[i][j];
            }
            gotoxy2(kx,ky); color(<span class="hljs-number">11</span>); <span class="hljs-keyword">if</span> (a2[kx][ky]!=<span class="hljs-string">" "</span>)<span class="hljs-built_in">cout</span> &lt;&lt;a2[kx][ky]; <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt;<span class="hljs-string">"▂"</span>; gotoxy2(kx,ky);
        }

        <span class="hljs-keyword">if</span> (ch==<span class="hljs-string">'4'</span> || ch==<span class="hljs-string">'q'</span>) <span class="hljs-keyword">return</span>(<span class="hljs-number">0</span>);
    }
    <span class="hljs-keyword">return</span>(<span class="hljs-number">1</span>);
}



<span class="hljs-keyword">int</span> ok(<span class="hljs-keyword">int</span> x,<span class="hljs-keyword">int</span> y){
    <span class="hljs-keyword">int</span> nnn=<span class="hljs-number">0</span>;
    <span class="hljs-keyword">if</span> (b1[x][y]==<span class="hljs-number">2</span> || b1[x][y]==<span class="hljs-number">4</span> || b1[x][y]==<span class="hljs-number">5</span>) <span class="hljs-keyword">return</span>(<span class="hljs-number">0</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;=<span class="hljs-number">7</span>; i++){
        <span class="hljs-keyword">if</span> (b1[x+fx[i][<span class="hljs-number">0</span>]][y+fx[i][<span class="hljs-number">1</span>]]==<span class="hljs-number">2</span>) nnn++;
        <span class="hljs-keyword">if</span> (b1[x+fx[i][<span class="hljs-number">0</span>]][y+fx[i][<span class="hljs-number">1</span>]]==<span class="hljs-number">5</span>) <span class="hljs-keyword">return</span>(<span class="hljs-number">0</span>);
    }
    <span class="hljs-keyword">if</span> (nnn&gt;<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>(<span class="hljs-number">0</span>);
    <span class="hljs-keyword">return</span>(<span class="hljs-number">1</span>);
}

<span class="hljs-keyword">void</span> check1(<span class="hljs-keyword">int</span> x,<span class="hljs-keyword">int</span> y) {
    <span class="hljs-keyword">int</span> k=<span class="hljs-number">0</span>,kx,ky,f=<span class="hljs-number">1</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;=<span class="hljs-number">3</span>; i++){
        <span class="hljs-keyword">if</span> (b1[x+fx[i][<span class="hljs-number">0</span>]][y+fx[i][<span class="hljs-number">1</span>]]==<span class="hljs-number">2</span>) k=i;
        <span class="hljs-keyword">if</span> (b1[x+fx[i][<span class="hljs-number">0</span>]][y+fx[i][<span class="hljs-number">1</span>]]==<span class="hljs-number">1</span>) f=<span class="hljs-number">0</span>;
    }
    <span class="hljs-keyword">for</span> (kx=x,ky=y; b1[kx][ky]==<span class="hljs-number">2</span>; kx+=fx[k][<span class="hljs-number">0</span>],ky+=fx[k][<span class="hljs-number">1</span>]);
    <span class="hljs-keyword">if</span> (b1[kx][ky]==<span class="hljs-number">1</span>) f=<span class="hljs-number">0</span>;

    <span class="hljs-keyword">if</span> (f){
        <span class="hljs-keyword">int</span> w=<span class="hljs-number">0</span>;
        color(<span class="hljs-number">12</span>);
        <span class="hljs-keyword">for</span> (kx=x,ky=y; b1[kx][ky]==<span class="hljs-number">2</span>; kx+=fx[k][<span class="hljs-number">0</span>],ky+=fx[k][<span class="hljs-number">1</span>]){
            gotoxy1(kx,ky);
            b1[kx][ky]=<span class="hljs-number">5</span>;
            a1[kx][ky]=<span class="hljs-string">"※"</span>;
            c1[kx][ky]=<span class="hljs-number">12</span>; 
            <span class="hljs-built_in">cout</span> &lt;&lt;<span class="hljs-string">"※"</span>;
            w++;
        }
        <span class="hljs-keyword">for</span> (kx=x+fx[(k+<span class="hljs-number">2</span>)%<span class="hljs-number">4</span>][<span class="hljs-number">0</span>],ky=y+fx[(k+<span class="hljs-number">2</span>)%<span class="hljs-number">4</span>][<span class="hljs-number">1</span>]; b1[kx][ky]==<span class="hljs-number">2</span>; kx+=fx[(k+<span class="hljs-number">2</span>)%<span class="hljs-number">4</span>][<span class="hljs-number">0</span>],ky+=fx[(k+<span class="hljs-number">2</span>)%<span class="hljs-number">4</span>][<span class="hljs-number">1</span>]){
            gotoxy1(kx,ky);
            b1[kx][ky]=<span class="hljs-number">5</span>;
            a1[kx][ky]=<span class="hljs-string">"※"</span>;
            c1[kx][ky]=<span class="hljs-number">12</span>; 
            <span class="hljs-built_in">cout</span> &lt;&lt;<span class="hljs-string">"※"</span>;
            w++;
        }

        <span class="hljs-keyword">if</span> (w&gt;<span class="hljs-number">0</span>){
            rest[<span class="hljs-number">1</span>][w]--;
            r1--; 
            <span class="hljs-keyword">if</span> (rest[<span class="hljs-number">1</span>][w]&gt;<span class="hljs-number">0</span>) color(<span class="hljs-number">14</span>); <span class="hljs-keyword">else</span> color(<span class="hljs-number">11</span>);
            gotoxy1(<span class="hljs-number">5</span>-w,-<span class="hljs-number">5</span>); 
            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d*"</span>,rest[<span class="hljs-number">1</span>][w]);
        }
    }
}

<span class="hljs-keyword">void</span> move2(){
    <span class="hljs-keyword">if</span> (r1*r2==<span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;

    color(<span class="hljs-number">13</span>); gotoxy1(<span class="hljs-number">14</span>,<span class="hljs-number">4</span>); <span class="hljs-built_in">printf</span>(<span class="hljs-string">"电脑开炮"</span>);
    color(<span class="hljs-number">5</span>); gotoxy2(<span class="hljs-number">14</span>,<span class="hljs-number">4</span>); <span class="hljs-built_in">printf</span>(<span class="hljs-string">"玩家开炮"</span>);

    Sleep(<span class="hljs-number">750</span>);
    <span class="hljs-keyword">int</span> kx=<span class="hljs-number">0</span>,ky=<span class="hljs-number">0</span>,over=<span class="hljs-number">0</span>;

    <span class="hljs-keyword">while</span> (tail&gt;head){
        head++;
        kx=fd[head][<span class="hljs-number">0</span>]; ky=fd[head][<span class="hljs-number">1</span>];
        <span class="hljs-keyword">if</span> (ok(kx,ky)){over=<span class="hljs-number">1</span>; <span class="hljs-keyword">break</span>;}
    }   
    <span class="hljs-keyword">while</span> (!over){
        kx=rand()%(<span class="hljs-number">10</span>)+<span class="hljs-number">1</span>;
        ky=rand()%(<span class="hljs-number">10</span>)+<span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (ok(kx,ky)) over=<span class="hljs-number">1</span>;
    }

    <span class="hljs-keyword">if</span> (b1[kx][ky]==<span class="hljs-number">1</span>){b1[kx][ky]=<span class="hljs-number">2</span>; a1[kx][ky]=<span class="hljs-string">"◎"</span>; c1[kx][ky]=<span class="hljs-number">4</span>;}
    <span class="hljs-keyword">if</span> (b1[kx][ky]==<span class="hljs-number">0</span>){b1[kx][ky]=<span class="hljs-number">4</span>; a1[kx][ky]=<span class="hljs-string">" "</span>;}

    gotoxy1(kx,ky); color(<span class="hljs-number">11</span>); <span class="hljs-built_in">printf</span>(<span class="hljs-string">"⊕"</span>); Sleep(<span class="hljs-number">600</span>);
    gotoxy1(kx,ky); color(c1[kx][ky]); <span class="hljs-built_in">cout</span> &lt;&lt;a1[kx][ky];
    color (<span class="hljs-number">7</span>); gotoxy1(<span class="hljs-number">12</span>,<span class="hljs-number">4</span>); <span class="hljs-built_in">cout</span> &lt;&lt;<span class="hljs-string">"("</span>;  color(<span class="hljs-number">6</span>); <span class="hljs-built_in">cout</span> &lt;&lt;ky; color(<span class="hljs-number">7</span>); <span class="hljs-built_in">cout</span> &lt;&lt;<span class="hljs-string">","</span>; color(<span class="hljs-number">2</span>); <span class="hljs-built_in">cout</span> &lt;&lt;kx;color(<span class="hljs-number">7</span>); <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">") "</span>;

    check1(kx,ky);

    <span class="hljs-keyword">if</span> ((b1[kx][ky]==<span class="hljs-number">2</span> || b1[kx][ky]==<span class="hljs-number">5</span>)&amp;&amp; r1*r2&gt;<span class="hljs-number">0</span>){
        <span class="hljs-keyword">int</span> i=rand()%(<span class="hljs-number">4</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> ii=<span class="hljs-number">0</span>; ii&lt;=<span class="hljs-number">3</span>; ii++){
            <span class="hljs-keyword">int</span> px=kx+fx[i][<span class="hljs-number">0</span>],py=ky+fx[i][<span class="hljs-number">1</span>];
            <span class="hljs-keyword">if</span> (px&gt;<span class="hljs-number">0</span> &amp;&amp; px&lt;=<span class="hljs-number">10</span> &amp;&amp; py&gt;<span class="hljs-number">0</span> &amp;&amp; py&lt;=<span class="hljs-number">10</span>){
                tail++;
                fd[tail][<span class="hljs-number">0</span>]=px;
                fd[tail][<span class="hljs-number">1</span>]=py;
            }
            i=(i+<span class="hljs-number">1</span>)%<span class="hljs-number">4</span>;
        }
        move2();
    }
}

<span class="hljs-keyword">void</span> put(){
    <span class="hljs-keyword">int</span> k=<span class="hljs-number">4</span>;
    <span class="hljs-keyword">while</span> (k--){
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=<span class="hljs-number">4</span>-k; i++){
            <span class="hljs-keyword">int</span> f1=<span class="hljs-number">0</span>,f2=<span class="hljs-number">0</span>;
            <span class="hljs-keyword">int</span> dir1,dir2;
            dir1=rand()%(<span class="hljs-number">2</span>);
            dir2=rand()%(<span class="hljs-number">2</span>);
            <span class="hljs-keyword">while</span> (!f1){
                f1=<span class="hljs-number">1</span>;
                <span class="hljs-keyword">int</span> lx=rand()%(<span class="hljs-number">10</span>)+<span class="hljs-number">1</span>;
                <span class="hljs-keyword">int</span> ly=rand()%(<span class="hljs-number">10</span>)+<span class="hljs-number">1</span>;
                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> nx=lx-<span class="hljs-number">1</span>; nx&lt;=lx+fx[dir1][<span class="hljs-number">0</span>]*k+<span class="hljs-number">1</span>; nx++)
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> ny=ly-<span class="hljs-number">1</span>; ny&lt;=ly+fx[dir1][<span class="hljs-number">1</span>]*k+<span class="hljs-number">1</span>; ny++)
                        <span class="hljs-keyword">if</span>(b1[nx][ny]==<span class="hljs-number">1</span>){f1=<span class="hljs-number">0</span>; <span class="hljs-keyword">break</span>;}

                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> nx=lx; nx&lt;=lx+fx[dir1][<span class="hljs-number">0</span>]*k; nx++)
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> ny=ly; ny&lt;=ly+fx[dir1][<span class="hljs-number">1</span>]*k; ny++)
                        <span class="hljs-keyword">if</span> (b1[nx][ny]==<span class="hljs-number">3</span>){f1=<span class="hljs-number">0</span>; <span class="hljs-keyword">break</span>;}

                <span class="hljs-keyword">if</span> (f1){
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> jx=lx,jy=ly; jx&lt;=lx+fx[dir1][<span class="hljs-number">0</span>]*k &amp;&amp; jy&lt;=ly+fx[dir1][<span class="hljs-number">1</span>]*k; jx+=fx[dir1][<span class="hljs-number">0</span>],jy+=fx[dir1][<span class="hljs-number">1</span>]){
                        b1[jx][jy]=<span class="hljs-number">1</span>;
                        c1[jx][jy]=<span class="hljs-number">15</span>;
                        color(<span class="hljs-number">15</span>);
                        gotoxy1(jx,jy); <span class="hljs-built_in">printf</span>(<span class="hljs-string">"□"</span>);
                    }
                }
            }
            <span class="hljs-keyword">while</span> (!f2){
                f2=<span class="hljs-number">1</span>;
                <span class="hljs-keyword">int</span> lx=rand()%(<span class="hljs-number">10</span>)+<span class="hljs-number">1</span>;
                <span class="hljs-keyword">int</span> ly=rand()%(<span class="hljs-number">10</span>)+<span class="hljs-number">1</span>;
                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> nx=lx-<span class="hljs-number">1</span>; nx&lt;=lx+fx[dir2][<span class="hljs-number">0</span>]*k+<span class="hljs-number">1</span>; nx++)
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> ny=ly-<span class="hljs-number">1</span>; ny&lt;=ly+fx[dir2][<span class="hljs-number">1</span>]*k+<span class="hljs-number">1</span>; ny++)
                        <span class="hljs-keyword">if</span>(b2[nx][ny]==<span class="hljs-number">1</span>){f2=<span class="hljs-number">0</span>; <span class="hljs-keyword">break</span>;}

                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> nx=lx; nx&lt;=lx+fx[dir2][<span class="hljs-number">0</span>]*k; nx++)
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> ny=ly; ny&lt;=ly+fx[dir2][<span class="hljs-number">1</span>]*k; ny++)
                        <span class="hljs-keyword">if</span> (b2[nx][ny]==<span class="hljs-number">3</span>){f2=<span class="hljs-number">0</span>; <span class="hljs-keyword">break</span>;}

                <span class="hljs-keyword">if</span> (f2){
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> jx=lx,jy=ly; jx&lt;=lx+fx[dir2][<span class="hljs-number">0</span>]*k &amp;&amp; jy&lt;=ly+fx[dir2][<span class="hljs-number">1</span>]*k; jx+=fx[dir2][<span class="hljs-number">0</span>],jy+=fx[dir2][<span class="hljs-number">1</span>])
                        b2[jx][jy]=<span class="hljs-number">1</span>;
                }
            }
            <span class="hljs-keyword">int</span> a=<span class="hljs-number">1</span>;
        }
    }
}

<span class="hljs-keyword">void</span> reset(){
    system(<span class="hljs-string">"cls"</span>);
    color(<span class="hljs-number">15</span>);gotoxy(<span class="hljs-number">18</span>,<span class="hljs-number">10</span>); <span class="hljs-built_in">printf</span>(<span class="hljs-string">"按 0 重排战船; 按任意键开始与电脑对战"</span>); 

    color(<span class="hljs-number">9</span>);
    gotoxy(<span class="hljs-number">0</span>,<span class="hljs-number">9</span> ); <span class="hljs-built_in">printf</span>(<span class="hljs-string">"玩家海域"</span>);
    gotoxy(<span class="hljs-number">0</span>,<span class="hljs-number">22</span>); <span class="hljs-built_in">printf</span>(<span class="hljs-string">"电脑海域"</span>);

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=<span class="hljs-number">4</span>; i++) rest[<span class="hljs-number">1</span>][i]=rest[<span class="hljs-number">2</span>][i]=<span class="hljs-number">5</span>-i;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=<span class="hljs-number">10</span>; i++){
        b1[<span class="hljs-number">0</span>][i]=b1[i][<span class="hljs-number">0</span>]=b2[<span class="hljs-number">0</span>][i]=b2[i][<span class="hljs-number">0</span>]=<span class="hljs-number">3</span>;
        b1[<span class="hljs-number">11</span>][i]=b1[i][<span class="hljs-number">11</span>]=b2[<span class="hljs-number">11</span>][i]=b2[i][<span class="hljs-number">11</span>]=<span class="hljs-number">3</span>;
    }
    color(<span class="hljs-number">8</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=<span class="hljs-number">10</span>; i++)<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j=<span class="hljs-number">1</span>; j&lt;=<span class="hljs-number">10</span>; j++) c1[i][j]=c2[i][j]=<span class="hljs-number">8</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=<span class="hljs-number">10</span>; i++)<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j=<span class="hljs-number">1</span>; j&lt;=<span class="hljs-number">10</span>; j++){
        b1[i][j]=b2[i][j]=<span class="hljs-number">0</span>;
        a1[i][j]=<span class="hljs-string">"□"</span>; gotoxy1(i,j); <span class="hljs-built_in">cout</span> &lt;&lt;a1[i][j];
        a2[i][j]=<span class="hljs-string">"□"</span>; gotoxy2(i,j); <span class="hljs-built_in">cout</span> &lt;&lt;a2[i][j];
    }
    color(<span class="hljs-number">14</span>);
    gotoxy1(<span class="hljs-number">1</span>,-<span class="hljs-number">5</span>); <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d*□□□□"</span>,rest[<span class="hljs-number">1</span>][<span class="hljs-number">4</span>]);
    gotoxy1(<span class="hljs-number">2</span>,-<span class="hljs-number">5</span>); <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d*□□□ "</span>,rest[<span class="hljs-number">1</span>][<span class="hljs-number">3</span>]);
    gotoxy1(<span class="hljs-number">3</span>,-<span class="hljs-number">5</span>); <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d*□□ "</span>,rest[<span class="hljs-number">1</span>][<span class="hljs-number">2</span>]);
    gotoxy1(<span class="hljs-number">4</span>,-<span class="hljs-number">5</span>); <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d*□ "</span>,rest[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]);
    gotoxy2(<span class="hljs-number">4</span>,<span class="hljs-number">12</span>); <span class="hljs-built_in">printf</span>(<span class="hljs-string">" □*%d"</span>,rest[<span class="hljs-number">2</span>][<span class="hljs-number">1</span>]);
    gotoxy2(<span class="hljs-number">3</span>,<span class="hljs-number">12</span>); <span class="hljs-built_in">printf</span>(<span class="hljs-string">" □□*%d"</span>,rest[<span class="hljs-number">2</span>][<span class="hljs-number">2</span>]);
    gotoxy2(<span class="hljs-number">2</span>,<span class="hljs-number">12</span>); <span class="hljs-built_in">printf</span>(<span class="hljs-string">" □□□*%d"</span>,rest[<span class="hljs-number">2</span>][<span class="hljs-number">3</span>]);
    gotoxy2(<span class="hljs-number">1</span>,<span class="hljs-number">12</span>); <span class="hljs-built_in">printf</span>(<span class="hljs-string">"□□□□*%d"</span>,rest[<span class="hljs-number">2</span>][<span class="hljs-number">4</span>]);

    color(<span class="hljs-number">2</span>); <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=<span class="hljs-number">10</span>; i++){gotoxy1(i,<span class="hljs-number">11</span>); <span class="hljs-built_in">cout</span> &lt;&lt;i; gotoxy2(i,<span class="hljs-number">11</span>); <span class="hljs-built_in">cout</span> &lt;&lt;i;}
    color(<span class="hljs-number">6</span>); <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=<span class="hljs-number">10</span>; i++){gotoxy1(<span class="hljs-number">11</span>,i); <span class="hljs-built_in">cout</span> &lt;&lt;i; gotoxy2(<span class="hljs-number">11</span>,i); <span class="hljs-built_in">cout</span> &lt;&lt;i;}
    color(<span class="hljs-number">7</span>);   gotoxy1(<span class="hljs-number">12</span>,<span class="hljs-number">4</span>); <span class="hljs-built_in">printf</span>(<span class="hljs-string">"( , )"</span>); gotoxy2(<span class="hljs-number">12</span>,<span class="hljs-number">4</span>); <span class="hljs-built_in">printf</span>(<span class="hljs-string">"( , )"</span>);

    put();

    now[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]=now[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]=now[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]=now[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]=<span class="hljs-number">1</span>;
    r1=r2=<span class="hljs-number">10</span>;

    <span class="hljs-keyword">char</span> res=getch(); <span class="hljs-keyword">if</span> (res==<span class="hljs-string">'0'</span>) reset();
}

<span class="hljs-keyword">int</span> main(){

    <span class="hljs-keyword">int</span> gameover=<span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span> (gameover){
        srand(time(NULL));
        reset();
        gotoxy(<span class="hljs-number">18</span>,<span class="hljs-number">10</span>); <span class="hljs-built_in">printf</span>(<span class="hljs-string">" "</span>);
        <span class="hljs-keyword">int</span> haha=<span class="hljs-number">0</span>; 
        <span class="hljs-keyword">while</span> (r1*r2){
            <span class="hljs-keyword">if</span> (!move1()){haha=<span class="hljs-number">1</span>; <span class="hljs-keyword">break</span>;}          <span class="hljs-comment">//玩家(haha==1说明中途退出)</span>
            move2();                               <span class="hljs-comment">//电脑 </span>
        }
        gotoxy(<span class="hljs-number">18</span>,<span class="hljs-number">0</span>);
        <span class="hljs-keyword">if</span> (haha) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"怎么中途退出了...\n\n"</span>);
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (r1==<span class="hljs-number">0</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"很遗憾，你输了...\n\n"</span>);
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (r2==<span class="hljs-number">0</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"恭喜你，你赢了!!!\n\n"</span>);
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"按1退出; 按其它键继续\n&gt;&gt;"</span>);
        <span class="hljs-keyword">if</span> (getch()==<span class="hljs-string">'1'</span>) gameover=<span class="hljs-number">0</span>;
    }
}</code></pre>
<h2 id="联机网址链接">联机网址链接</h2>
<ul>
<li>网上有个海战棋联机版，规则相同，感觉挺好，这里附上网址链接： <br /> (<a href="http://zh.battleship-game.org/" rel="nofollow noopener noreferrer" target="_blank" data-token="1f0c45c1ad06475a77923f9ba2c0a862">http://zh.battleship-game.org/</a>)</li>
</ul></div>
<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-526ced5128.css" rel="stylesheet">
</div>
]]></content:encoded>
										</item>
		<item>
		<title>SpriteBuilder实现2D精灵光影明暗反射效果(一)</title>
		<link>https://uzzz.org/article/2778.html</link>
				<pubDate>Tue, 17 Nov 2015 08:50:08 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[iOS]]></category>
		<category><![CDATA[游戏开发]]></category>
		<category><![CDATA[移动开发]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/2778.html</guid>
				<description><![CDATA[其实不用3D建模,用2D的图像就可以模拟3D场景中光照反射的效果. 这里我们不得不提到一个normalMap(法线图)的概念,请各位童鞋自己度娘吧,简单来说它可以使得2D表面生成一定细节程度的光照方向和反射效果. 我们首先要制作精灵的法线贴图,至于怎么做,懂3D制图的童鞋应该都知道,有专门的软件.不过对于本猫猪这种图痴来说,也有简单容易上手的工具,名字为SpriteIlluminator,可以到其官网下载: https://www.codeandweb.com/spriteilluminator 软件非常不错,可惜要收费 ;( 不过有7天的试用期限,以下是软件运行界面: 至于怎么用,大家可以看其简明教程: https://www.codeandweb.com/blog/2015/03/17/cocos2d-dynamic-lighting-tutorial 而在这里可以看到更多的教程: https://www.codeandweb.com/blog 以下就是其教程中,app完成后实际的效果: 还是相当不错的,我们在下篇中就来简单说说用SpriteBuilder如何完成类似效果.]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div id="content_views" class="markdown_views prism-dracula">
  <!-- flowchart 箭头图标 勿删 --><br />
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> </p>
<p>其实不用3D建模,用2D的图像就可以模拟3D场景中光照反射的效果.</p>
<p>这里我们不得不提到一个normalMap(法线图)的概念,请各位童鞋自己度娘吧,简单来说它可以使得2D表面生成一定细节程度的光照方向和反射效果.</p>
<p>我们首先要制作精灵的法线贴图,至于怎么做,懂3D制图的童鞋应该都知道,有专门的软件.不过对于本猫猪这种图痴来说,也有简单容易上手的工具,名字为SpriteIlluminator,可以到其官网下载:</p>
<p><a href="https://www.codeandweb.com/spriteilluminator" rel="nofollow" data-token="1e74005d4cf607e4e9b0f0f7745e58cd">https://www.codeandweb.com/spriteilluminator</a></p>
<p>软件非常不错,可惜要收费 ;( 不过有7天的试用期限,以下是软件运行界面:</p>
<p><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20151117164426528" alt="这里写图片描述" title=""></p>
<p>至于怎么用,大家可以看其简明教程:</p>
<p><a href="https://www.codeandweb.com/blog/2015/03/17/cocos2d-dynamic-lighting-tutorial" rel="nofollow" data-token="ed028573a36428be7ecfcbe34eb315c4">https://www.codeandweb.com/blog/2015/03/17/cocos2d-dynamic-lighting-tutorial</a></p>
<p>而在这里可以看到更多的教程:</p>
<p><a href="https://www.codeandweb.com/blog" rel="nofollow" data-token="d118dbf668597ffcffa2d67665775aa9">https://www.codeandweb.com/blog</a></p>
<p>以下就是其教程中,app完成后实际的效果:</p>
<p><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20151117164805199" alt="这里写图片描述" title=""></p>
<p><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20151117164817118" alt="这里写图片描述" title=""></p>
<p>还是相当不错的,我们在下篇中就来简单说说用SpriteBuilder如何完成类似效果.</p>
</p></div>
<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-526ced5128.css" rel="stylesheet">
</div>
]]></content:encoded>
										</item>
		<item>
		<title>Ren&#8217;Py上手指南1</title>
		<link>https://uzzz.org/article/3369.html</link>
				<pubDate>Tue, 21 Oct 2014 03:37:20 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[游戏开发]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/3369.html</guid>
				<description><![CDATA[Ren&#8217;Py（http://www.renpy.org）是一个基于Python编写的文字AVG游戏引擎。可以快速开发出文字AVG游戏，因为Python的可移植性，可以将游戏发布到Windows，Linux和Mac上，并且可以通过官方提供的工具移植到Android上面（至于iOS，作者在论坛中表示不鸟这些封闭平台，不过有人在做ios的移植https://github.com/chrismear/renios/releases）。 在我看来选用Ren&#8217;Py的理由主要有下面几个： 语法简洁，继承了Python的优点，常用的AVG元素基本上都以命令的方式实现了，封装了底层的技术细节，比如你不用去理解为什么要双重缓冲。 可移植性强，上面提到了。 可扩展性强，虽然是文字AVG引擎，但中间层的python也预留了更多的API，完全可以抛开上层的命令直接调用API来实现更加复杂的游戏功能，官网上已经有RPG模版了，也有人做了SLG，并发布到了Steam上。 社区活跃，有什么问题到论坛上问问，都会得到回复。 在官网下载到的是一个压缩包，解压之后就可以直接运行，会看到一个控制台界面，其中界面左侧会列出本地路径找到的项目，默认会带两个示例项目，‘The Question‘是一个简单的AVG游戏，包含了基本的项目，tutorial是分别演示各种功能，建议先跑一下这两个看看。 创建新工程 点击&#8221;Create New Project&#8221;可以创建新游戏工程，随后会让你指定游戏项目的目录，名字以及界面风格。 打开刚才你指定的目录，会找到一个以游戏名字命名的文件夹，这就是根目录，打开以后里面会有一个game文件夹，所有的素材，脚本等全部放在这个文件夹下面，当然随着文件的增多，建议建立子文件夹来分类管理不同素材，比如images, sounds等等。 刚才打开的game文件夹里会有script.rpy这个文件，这是游戏脚本的入口文件，每次游戏都会从这里开始运行，我们先进去看看里面有什么。 # You can place the script of your game in this file. # Declare images below this line, using the image statement. # eg. image eileen happy = "eileen_happy.png" # Declare characters used by this game. define e = Character('Eileen', color="#c8ffc8") # The game starts here. label start: e "You've created a new Ren'Py game." e "Once you add a story, pictures, and music, you can release it to the world!" return 上面是默认生成的代码，“label start”是游戏的起点，每个script.rpy里面必须有这个label，当然你在后面还可以定义其他的label，一般来讲主要用在章节起始点，分支选项等地方，定义的语法为 label label名称: 尽可能地给每个label取一个有意义的名字，否则到后来多分支的时候你就搞不清楚该跳转到哪个label了，你可以通过jump命令从当前的位置跳转到指定的label，然后就会从那个label开始继续执行。 显示文字 在label里面可以包含若干个其他的命令，比如让角色说话就是 "角色名字" "台词" 或者你也可以像上面的代码这样，在label start前面预先给角色定义一个别名，比如例子中就给&#8221;Eileen&#8221;定义了一个&#8217;e&#8217;，那么之后就可以以这种格式 角色别名 "台词" 来写了。 如果要显示客观描述或者是心理活动这种没有人名的文字，就直接把文字用双引号引起来就可以了。 准备图片 和角色名字一样，图片在使用前也需要预先定义，可以打开附带的Question这个示例游戏的script.rpy文件（建议先跑几遍游戏，了解一下其中的元素，这样再看代码就比较清晰了）。 script.rpy文件开头应该是这样的 image bg lecturehall = "lecturehall.jpg" image bg uni = "uni.jpg" image bg meadow = "meadow.jpg" image bg club = "club.jpg" image sylvie normal = "sylvie_normal.png" image sylvie giggle = "sylvie_giggle.png" image sylvie smile = "sylvie_smile.png" image sylvie surprised = "sylvie_surprised.png" image sylvie2 normal = "sylvie2_normal.png" image sylvie2 giggle = "sylvie2_giggle.png" image sylvie2 smile = "sylvie2_smile.png" image sylvie2 surprised = "sylvie2_surprised.png" 这就是定义图像的语句。基本的语法为 image 图像标示 = "图像路径+文件名" 其中图像路径指的是相对于game文件夹下的路径，也就是说如果你把图片直接放在game下面了就直接写文件名就可以；如果你在game下面新建了一个images文件夹把图像放在里面的话那就要在文件名前面加上&#8217;images/&#8217;。这个例子里面是直接放在game下面的所以直接写文件名。 从字面意思可以理解最开始的一组定义了四个背景（因为有bg）。图像有‘组’的概念，一般来讲一组图像是功能相同的，同一时刻只会显示其中之一。像第一组为bg，里面包含四个场景，第二组为sylvie的四个表情，第三组是sylvie2的四个表情（应该是换衣服了）。每一个组里面还包含子组。后面我们会看到如何使用这些组和图像。 但如果图像很多的话写起来也是不少的工作量，所以Ren&#8217;Py提供了另外一种方式，就是根据文件夹的路径来自动定义图像。 打开game下面的options.rpy文件，这里面是一些项目的配置选项，在里面找到config.automatic_images和config.automatic_images_strip这个选项，如果没有的话就在最后手动写一个，最后加完的结果应该是这个样子的： config.automatic_images = ['_','/'] config.automatic_images_strip = ['image','character','background','CG','menu']]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <!--一个博主专栏付费入口--><br />
 <!--一个博主专栏付费入口结束-->
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-d284373521.css">
<div class="htmledit_views" id="content_views">
<p>Ren&#8217;Py（<a href="http://www.renpy.org" rel="nofollow" data-token="4e8b1cadf1a61c67651d9d989d0fdfc1">http://www.renpy.org</a>）是一个基于Python编写的文字AVG游戏引擎。可以快速开发出文字AVG游戏，因为Python的可移植性，可以将游戏发布到Windows，Linux和Mac上，并且可以通过官方提供的工具移植到Android上面（至于iOS，作者在论坛中表示不鸟这些封闭平台，不过有人在做ios的移植<a href="https://github.com/chrismear/renios/releases" rel="nofollow" data-token="3c59a7ece8b7f808911db99c1c8291eb">https://github.com/chrismear/renios/releases</a>）。</p>
<p>在我看来选用Ren&#8217;Py的理由主要有下面几个：</p>
</p>
<ul>
<li>语法简洁，继承了Python的优点，常用的AVG元素基本上都以命令的方式实现了，封装了底层的技术细节，比如你不用去理解为什么要双重缓冲。</li>
<li>可移植性强，上面提到了。</li>
<li>可扩展性强，虽然是文字AVG引擎，但中间层的python也预留了更多的API，完全可以抛开上层的命令直接调用API来实现更加复杂的游戏功能，官网上已经有RPG模版了，也有人做了SLG，并发布到了Steam上。</li>
<li>社区活跃，有什么问题到论坛上问问，都会得到回复。</li>
</ul>
<div>
   在官网下载到的是一个压缩包，解压之后就可以直接运行，会看到一个控制台界面，其中界面左侧会列出本地路径找到的项目，默认会带两个示例项目，‘The Question‘是一个简单的AVG游戏，包含了基本的项目，tutorial是分别演示各种功能，建议先跑一下这两个看看。
  </div>
<div>
   <img src="http://www.renpy.org/doc/html/_images/launcher.png" alt="">
  </div>
<div>
   
  </div>
<div>
   <strong><span style="font-size:14px;">创建新工程</span></strong>
  </div>
<div>
   点击&#8221;Create New Project&#8221;可以创建新游戏工程，随后会让你指定游戏项目的目录，名字以及界面风格。
  </div>
<div>
   打开刚才你指定的目录，会找到一个以游戏名字命名的文件夹，这就是根目录，打开以后里面会有一个game文件夹，所有的素材，脚本等全部放在这个文件夹下面，当然随着文件的增多，建议建立子文件夹来分类管理不同素材，比如images, sounds等等。
  </div>
<div>
   刚才打开的game文件夹里会有script.rpy这个文件，这是游戏脚本的入口文件，每次游戏都会从这里开始运行，我们先进去看看里面有什么。
  </div>
<div>
<pre><code class="language-python"># You can place the script of your game in this file.

# Declare images below this line, using the image statement.
# eg. image eileen happy = "eileen_happy.png"

# Declare characters used by this game.
define e = Character('Eileen', color="#c8ffc8")


# The game starts here.
label start:

    e "You've created a new Ren'Py game."

    e "Once you add a story, pictures, and music, you can release it to the world!"

    return
</code></pre>
<p> 上面是默认生成的代码，“label start”是游戏的起点，每个script.rpy里面必须有这个label，当然你在后面还可以定义其他的label，一般来讲主要用在章节起始点，分支选项等地方，定义的语法为</p>
<pre><code class="language-python">label label名称:</code></pre>
<p>尽可能地给每个label取一个有意义的名字，否则到后来多分支的时候你就搞不清楚该跳转到哪个label了，你可以通过jump命令从当前的位置跳转到指定的label，然后就会从那个label开始继续执行。
  </p></div>
<div>
   
  </div>
<div>
   <strong><span style="font-size:14px;">显示文字</span></strong>
  </div>
<div>
   在label里面可以包含若干个其他的命令，比如让角色说话就是</p>
<pre><code class="language-python">"角色名字" "台词"</code></pre>
<p>或者你也可以像上面的代码这样，在label start前面预先给角色定义一个别名，比如例子中就给&#8221;Eileen&#8221;定义了一个&#8217;e&#8217;，那么之后就可以以这种格式
  </p></div>
<div>
<pre><code class="language-python">角色别名 "台词"</code></pre>
<p>来写了。
  </p></div>
<div>
   如果要显示客观描述或者是心理活动这种没有人名的文字，就直接把文字用双引号引起来就可以了。</p></div>
<div>
   <span style="font-size:14px;"><strong>准备图片</strong></span>
  </div>
<div>
   <span style="font-size:12px;">和角色名字一样，图片在使用前也需要预先定义，可以打开附带的Question这个示例游戏的script.rpy文件（建议先跑几遍游戏，了解一下其中的元素，这样再看代码就比较清晰了）。</span>
  </div>
<div>
   <span style="font-size:12px;">script.rpy文件开头应该是这样的</span>
  </div>
<div>
   <span style="font-size:12px;"></span></p>
<pre><code class="language-python">image bg lecturehall = "lecturehall.jpg"
image bg uni = "uni.jpg"
image bg meadow = "meadow.jpg"
image bg club = "club.jpg"

image sylvie normal = "sylvie_normal.png"
image sylvie giggle = "sylvie_giggle.png"
image sylvie smile = "sylvie_smile.png"
image sylvie surprised = "sylvie_surprised.png"

image sylvie2 normal = "sylvie2_normal.png"
image sylvie2 giggle = "sylvie2_giggle.png"
image sylvie2 smile = "sylvie2_smile.png"
image sylvie2 surprised = "sylvie2_surprised.png"</code></pre>
<p>这就是定义图像的语句。基本的语法为
  </p></div>
<div>
   <span style="font-size:12px;"></span></p>
<pre><code class="language-python">image 图像标示 = "图像路径+文件名"</code></pre>
<div>
    <span style="font-size:12px;">其中图像路径指的是相对于game文件夹下的路径，也就是说如果你把图片直接放在game下面了就直接写文件名就可以；如果你在game下面新建了一个images文件夹把图像放在里面的话那就要在文件名前面加上&#8217;images/&#8217;。这个例子里面是直接放在game下面的所以直接写文件名。</span>
   </div>
<p> 从字面意思可以理解最开始的一组定义了四个背景（因为有bg）。图像有‘组’的概念，一般来讲一组图像是功能相同的，同一时刻只会显示其中之一。像第一组为bg，里面包含四个场景，第二组为sylvie的四个表情，第三组是sylvie2的四个表情（应该是换衣服了）。每一个组里面还包含子组。后面我们会看到如何使用这些组和图像。
  </p></div>
<div>
   
  </div>
<div>
   但如果图像很多的话写起来也是不少的工作量，所以Ren&#8217;Py提供了另外一种方式，就是根据文件夹的路径来自动定义图像。
  </div>
<div>
   打开game下面的options.rpy文件，这里面是一些项目的配置选项，在里面找到config.automatic_images和config.automatic_images_strip这个选项，如果没有的话就在最后手动写一个，最后加完的结果应该是这个样子的：
  </div>
<div>
<pre><code class="language-python">    config.automatic_images = ['_','/']
    config.automatic_images_strip = ['image','character','background','CG','menu']</code></pre>
<p>这样的话任何放在image, character, background, CG, menu下面的图像都可以自动解析，比如像刚才那个例子，直接把sylvie_normal.png放在game/image/character/下面就可以了，文件和路径名中的&#8217;_&#8217;和&#8217;/&#8217;会直接解析成空格，因为我们在config.automatic_images里面指定了这两个分隔符。<br />
   
  </div>
<div>
   
  </div>
<div>
   <strong><span style="font-size:14px;">显示背景</span></strong>
  </div>
<div>
   <span style="font-size:12px;">像之前那样定义好了的话，就可以显示背景了，显示背景要使用<span style="color:#33ccff;">scene</span>命令</span>
  </div>
<div>
<pre><code class="language-python">&lt;span style="font-size:14px;"&gt;scene 之前定义的背景图片名称&lt;/span&gt;</code></pre>
<p>这样就能看到背景图像显示在屏幕上了。
  </p></div>
<div>
   除了简单的显示以外，还可以添加进入的效果
  </div>
<div>
<pre><code class="language-python">scene 背景图片 with 效果名称</code></pre>
<p>Ren&#8217;Py非常方便的一点就是预先定义了几个常用的效果<br />
   <a href="http://www.renpy.org/doc/html/transitions.html#pre-defined-transitions" rel="nofollow" data-token="4f6e74e446864c1121d28b982d95ca7d">http://www.renpy.org/doc/html/transitions.html#pre-defined-transitions</a><br />
   <br /> 比较常用的有
  </div>
<div>
   fade : 当前场景由明变暗，新场景由暗变明
  </div>
<div>
   dissolve：当前场景逐渐透明，新场景逐渐显现</p></div>
<div>
   <strong><span style="font-size:14px;">显示立绘</span></strong>
  </div>
<div>
   <span style="font-size:12px;">显示立绘要用到<span style="color:#33ccff;">show</span>命令</span>
  </div>
<div>
<pre><code class="language-python">&lt;span style="font-size:14px;"&gt;show 之前定义的立绘图像名称 at 位置 with 显示/变换效果&lt;/span&gt;</code></pre>
<div>
    隐藏角色立绘用<br />
    <span style="color:#33ccff;">hide</span>命令
   </div>
<div>
<pre><code class="language-python">hide 角色名 with 效果</code></pre>
</p></div>
<p> 之前提到的图像分组的概念在这里就要用到了，一般来讲立绘的标示都会定义成 “名字 表情” 这样的层级，也就是一个角色有很多表情。在一个场景里同一个角色只能有一个。
  </p></div>
<div>
   比如我先写了
  </div>
<div>
<pre><code class="language-python">show sylvie smile with dissolve</code></pre>
<p>如果再写
  </p></div>
<div>
<pre><code class="language-python">show sylvie normal with dissolve</code></pre>
<p>的话屏幕上并不会出现第二个sylvie，而是之前显示的那个逐渐改变了表情。
  </p></div>
<div>
   另外一个是位置这个参数，Ren&#8217;Py默认设置了三个位置left, center, right分别对应左中右，如果不加at参数的话就是默认在中间。当然你也可以自定义位置，当然这是后面要讲的了。
  </div>
<div>
   所以这个例子如果第二句写成<br />
   </p>
<pre><code class="language-python">show sylvie normal at left with dissolve</code></pre>
<p>你就会看到sylvie跑到左边去了，所以一般这时候我们可以写成
  </p></div>
<div>
<pre><code class="language-python">show sylvie normal at left with move</code></pre>
<p>你就会看到sylvie是移动到左面去了，而不是闪现过去。
  </p></div>
<div>
   如果要有多个角色显示在屏幕上的话需要分别制定他们的位置，不然都会默认堆在中间。
  </div>
<div>
<pre><code class="language-python">show sylvie normal at left with dissolve
show sylvie1 normal with dissolve
show sylvie2 normal at right with dissolve
</code></pre>
<p>还有一种写法是
  </p></div>
<div>
<pre><code class="language-python">show sylvie normal at left
show sylvie1 normal
show sylvie2 normal at right 
with dissolve</code></pre>
<pre></pre>
<p> 这两种的区别是前一种三个角色逐个显示，第二种是一起显示，同样hide时候也可以用这种表示方式。
  </p></div>
<div>
   <strong><span style="font-size:14px;">播放音乐</span></strong>
  </div>
<div>
   <span style="font-size:12px;">Ren&#8217;Py支持mp3, ogg和wav三种音频格式。</span>
  </div>
<div>
   <span style="font-size:12px;">在Ren&#8217;Py中有三种音乐分别是：</span>
  </div>
<div>
<ul>
<li><span style="font-size:12px;">music：持续循环播放的背景音乐</span></li>
<li><span style="font-size:12px;">sound：一次性的音效</span></li>
<li><span style="font-size:12px;">voice：语音台词</span></li>
</ul>
<div>
    <span style="font-size:12px;">前两种都是用<span style="color:#33ccff;">play</span>命令来触发</span>
   </div>
</p></div>
<div>
   <span style="font-size:12px;"></span></p>
<pre><code class="language-python">play music/sound "文件路径" fadein 进入时间 fadeout 淡出时间</code></pre>
<p>然后用stop命令来停止<br />
   </p>
<pre><code class="language-python">stop music</code></pre>
<p>
  </div>
<div>
   <strong><span style="font-size:14px;">分支选项</span></strong>
  </div>
<div>
   <span style="font-size:12px;">分支选项需要使用<span style="color:#33ccff;">menu</span>命令</span>
  </div>
<div>
   <span style="font-size:12px;"></span></p>
<pre><code class="language-python">menu:
    "选项一":
        分支一剧情
    "选项二":
        分支二剧情</code></pre>
<p>这里的”选项一“<br />
   <span style="font-size:12px;">”选项二“指的是选项按钮里显示的文字，后面的剧情是选了选项之后触发的剧情。</span>
  </div>
<div>
   <span style="font-size:12px;">还可以结合jump和label来实现跳转，比如两个分支剧情过后又有共同剧情，就在共同剧情开始时设置一个label，每个分支剧情结束后jump到那个label。</p>
<p></span>
  </div>
</p></div>
</div>
]]></content:encoded>
										</item>
	</channel>
</rss>
