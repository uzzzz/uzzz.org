<!DOCTYPE html>
<html amp lang="en-US">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1">
	<script type="application/ld+json" class="yoast-schema-graph yoast-schema-graph--main">{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://uzzz.org/#website","url":"https://uzzz.org/","name":"\u6709\u7ec4\u7ec7\u5728!","potentialAction":{"@type":"SearchAction","target":"https://uzzz.org/?s={search_term_string}","query-input":"required name=search_term_string"}},{"@type":"ImageObject","@id":"https://uzzz.org/article/4062/#primaryimage","url":"https://profile.csdnimg.cn/7/7/D/3_switchcore"},{"@type":"WebPage","@id":"https://uzzz.org/article/4062/#webpage","url":"https://uzzz.org/article/4062/","inLanguage":"en-US","name":"iphone\u5185\u5b58\u7ba1\u7406 - \u6709\u7ec4\u7ec7\u5728!","isPartOf":{"@id":"https://uzzz.org/#website"},"primaryImageOfPage":{"@id":"https://uzzz.org/article/4062/#primaryimage"},"datePublished":"2012-10-10T12:51:11+00:00","dateModified":"2012-10-10T12:51:11+00:00","author":{"@id":"https://uzzz.org/#/schema/person/29673f1347b0abda5882803c72ee5a3f"}},{"@type":["Person"],"@id":"https://uzzz.org/#/schema/person/29673f1347b0abda5882803c72ee5a3f","name":"fandyvon","sameAs":[]}]}</script>
	<title>iphone内存管理 - 有组织在!</title>
		<link rel="canonical" href="https://uzzz.org/article/4062/">
	<script type="text/javascript" src="https://cdn.ampproject.org/v0.js" async></script>
<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
	<style amp-custom>
		/* Generic WP styling */

.alignright {
	float: right;
}

.alignleft {
	float: left;
}

.aligncenter {
	display: block;
	text-align: center;
	margin-left: auto;
	margin-right: auto;
}

.amp-wp-enforced-sizes {
	/** Our sizes fallback is 100vw, and we have a padding on the container; the max-width here prevents the element from overflowing. **/
	max-width: 100%;
	margin: 0 auto;
}


/*
 * Prevent cases of amp-img converted from img to appear with stretching by using object-fit to scale.
 * See <https://github.com/ampproject/amphtml/issues/21371#issuecomment-475443219>.
 * Also use object-fit:contain in worst case scenario when we can't figure out dimensions for an image.
 * Additionally, in side of \AMP_Img_Sanitizer::determine_dimensions() it could $amp_img->setAttribute( 'object-fit', 'contain' )
 * so that the following rules wouldn't be needed.
 */
amp-img.amp-wp-enforced-sizes[layout="intrinsic"] > img,
amp-anim.amp-wp-enforced-sizes[layout="intrinsic"] > img {
	object-fit: contain;
}

amp-fit-text blockquote,
amp-fit-text h1,
amp-fit-text h2,
amp-fit-text h3,
amp-fit-text h4,
amp-fit-text h5,
amp-fit-text h6 {
	font-size: inherit;
}

/**
 * Override a style rule in Twenty Sixteen and Twenty Seventeen.
 * It set display:none for audio elements.
 * This selector is the same, though it adds body and uses amp-audio instead of audio.
 */
body amp-audio:not([controls]) {
	display: inline-block;
	height: auto;
}

/*
 * Style the default template messages for submit-success, submit-error, and submitting. These elements are inserted
 * by the form sanitizer when a POST form lacks the action-xhr attribute.
 */
.amp-wp-default-form-message > p {
	margin: 1em 0;
	padding: 0.5em;
}

.amp-wp-default-form-message[submitting] > p,
.amp-wp-default-form-message[submit-success] > p.amp-wp-form-redirecting {
	font-style: italic;
}

.amp-wp-default-form-message[submit-success] > p:not(.amp-wp-form-redirecting) {
	border: solid 1px #008000;
	background-color: #90ee90;
	color: #000;
}

.amp-wp-default-form-message[submit-error] > p {
	border: solid 1px #f00;
	background-color: #ffb6c1;
	color: #000;
}

/* Prevent showing empty success message in the case of an AMP-Redirect-To response header. */
.amp-wp-default-form-message[submit-success] > p:empty {
	display: none;
}

amp-carousel .amp-wp-gallery-caption {
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	text-align: center;
	background-color: rgba(0, 0, 0, 0.5);
	color: #fff;
	padding: 1rem;
}

.wp-block-gallery[data-amp-carousel="true"] {
	display: block;
	flex-wrap: unset;
}

/* Template Styles */

.amp-wp-content,
.amp-wp-title-bar div {
		margin: 0 auto;
	max-width: 840px;
	}

html {
	background: #0a89c0;
}

body {
	background: #fff;
	color: #353535;
	font-family: Georgia, 'Times New Roman', Times, Serif;
	font-weight: 300;
	line-height: 1.75em;
}

p,
ol,
ul,
figure {
	margin: 0 0 1em;
	padding: 0;
}

a,
a:visited {
	color: #0a89c0;
}

a:hover,
a:active,
a:focus {
	color: #353535;
}

/* Quotes */

blockquote {
	color: #353535;
	background: rgba(127,127,127,.125);
	border-left: 2px solid #0a89c0;
	margin: 8px 0 24px 0;
	padding: 16px;
}

blockquote p:last-child {
	margin-bottom: 0;
}

/* UI Fonts */

.amp-wp-meta,
.amp-wp-header div,
.amp-wp-title,
.wp-caption-text,
.amp-wp-tax-category,
.amp-wp-tax-tag,
.amp-wp-comments-link,
.amp-wp-footer p,
.back-to-top {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen-Sans", "Ubuntu", "Cantarell", "Helvetica Neue", sans-serif;
}

/* Header */

.amp-wp-header {
	background-color: #0a89c0;
}

.amp-wp-header div {
	color: #fff;
	font-size: 1em;
	font-weight: 400;
	margin: 0 auto;
	max-width: calc(840px - 32px);
	padding: .875em 16px;
	position: relative;
}

.amp-wp-header a {
	color: #fff;
	text-decoration: none;
}


.amp-wp-header .amp-wp-site-icon {
	/** site icon is 32px **/
	background-color: #fff;
	border: 1px solid #fff;
	border-radius: 50%;
	position: absolute;
	right: 18px;
	top: 10px;
}

/* Article */

.amp-wp-article {
	color: #353535;
	font-weight: 400;
	margin: 1.5em auto;
	max-width: 840px;
	overflow-wrap: break-word;
	word-wrap: break-word;
}

/* Article Header */

.amp-wp-article-header {
	align-items: center;
	align-content: stretch;
	display: flex;
	flex-wrap: wrap;
	justify-content: space-between;
	margin: 1.5em 16px 0;
}

.amp-wp-title {
	color: #353535;
	display: block;
	flex: 1 0 100%;
	font-weight: 900;
	margin: 0 0 .625em;
	width: 100%;
}

/* Article Meta */

.amp-wp-meta {
	color: #696969;
	display: inline-block;
	flex: 2 1 50%;
	font-size: .875em;
	line-height: 1.5em;
	margin: 0 0 1.5em;
	padding: 0;
}

.amp-wp-article-header .amp-wp-meta:last-of-type {
	text-align: right;
}

.amp-wp-article-header .amp-wp-meta:first-of-type {
	text-align: left;
}

.amp-wp-byline amp-img,
.amp-wp-byline .amp-wp-author {
	display: inline-block;
	vertical-align: middle;
}

.amp-wp-byline amp-img {
	border: 1px solid #0a89c0;
	border-radius: 50%;
	position: relative;
	margin-right: 6px;
}

.amp-wp-posted-on {
	text-align: right;
}

/* Featured image */

.amp-wp-article-featured-image {
	margin: 0 0 1em;
}
.amp-wp-article-featured-image amp-img {
	margin: 0 auto;
}
.amp-wp-article-featured-image.wp-caption .wp-caption-text {
	margin: 0 18px;
}

/* Article Content */

.amp-wp-article-content {
	margin: 0 16px;
}

.amp-wp-article-content ul,
.amp-wp-article-content ol {
	margin-left: 1em;
}

.amp-wp-article-content .wp-caption {
	max-width: 100%;
}

.amp-wp-article-content amp-img {
	margin: 0 auto;
}

.amp-wp-article-content amp-img.alignright {
	margin: 0 0 1em 16px;
}

.amp-wp-article-content amp-img.alignleft {
	margin: 0 16px 1em 0;
}

/* Captions */

.wp-caption {
	padding: 0;
}

.wp-caption.alignleft {
	margin-right: 16px;
}

.wp-caption.alignright {
	margin-left: 16px;
}

.wp-caption .wp-caption-text {
	border-bottom: 1px solid #c2c2c2;
	color: #696969;
	font-size: .875em;
	line-height: 1.5em;
	margin: 0;
	padding: .66em 10px .75em;
}

/* AMP Media */

.alignwide,
.alignfull {
	clear: both;
}

amp-carousel {
	background: #c2c2c2;
	margin: 0 -16px 1.5em;
}
amp-iframe,
amp-youtube,
amp-instagram,
amp-vine {
	background: #c2c2c2;
	margin: 0 -16px 1.5em;
}

.amp-wp-article-content amp-carousel amp-img {
	border: none;
}

amp-carousel > amp-img > img {
	object-fit: contain;
}

.amp-wp-iframe-placeholder {
	background: #c2c2c2 url( https://uzzz.org/wp-content/plugins/amp/assets/images/placeholder-icon.png ) no-repeat center 40%;
	background-size: 48px 48px;
	min-height: 48px;
}

/* Article Footer Meta */

.amp-wp-article-footer .amp-wp-meta {
	display: block;
}

.amp-wp-tax-category,
.amp-wp-tax-tag {
	color: #696969;
	font-size: .875em;
	line-height: 1.5em;
	margin: 1.5em 16px;
}

.amp-wp-comments-link {
	color: #696969;
	font-size: .875em;
	line-height: 1.5em;
	text-align: center;
	margin: 2.25em 0 1.5em;
}

.amp-wp-comments-link a {
	border-style: solid;
	border-color: #c2c2c2;
	border-width: 1px 1px 2px;
	border-radius: 4px;
	background-color: transparent;
	color: #0a89c0;
	cursor: pointer;
	display: block;
	font-size: 14px;
	font-weight: 600;
	line-height: 18px;
	margin: 0 auto;
	max-width: 200px;
	padding: 11px 16px;
	text-decoration: none;
	width: 50%;
	-webkit-transition: background-color 0.2s ease;
			transition: background-color 0.2s ease;
}

/* AMP Footer */

.amp-wp-footer {
	border-top: 1px solid #c2c2c2;
	margin: calc(1.5em - 1px) 0 0;
}

.amp-wp-footer div {
	margin: 0 auto;
	max-width: calc(840px - 32px);
	padding: 1.25em 16px 1.25em;
	position: relative;
}

.amp-wp-footer h2 {
	font-size: 1em;
	line-height: 1.375em;
	margin: 0 0 .5em;
}

.amp-wp-footer p {
	color: #696969;
	font-size: .8em;
	line-height: 1.5em;
	margin: 0 85px 0 0;
}

.amp-wp-footer a {
	text-decoration: none;
}

.back-to-top {
	bottom: 1.275em;
	font-size: .8em;
	font-weight: 600;
	line-height: 2em;
	position: absolute;
	right: 16px;
}
		/* Inline stylesheets */
.htmledit_views{font-family:-apple-system,SF UI Text,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif,SimHei,SimSun}.htmledit_views a>amp-img{padding:1px;margin:1px;border:none;outline:#0782c1 solid 1px}.htmledit_views p{font-size:16px;color:#4d4d4d;font-weight:400;line-height:26px;margin:0 0 16px;overflow-x:auto}.htmledit_views amp-img{max-width:100%;height:auto}.htmledit_views strong,.htmledit_views strong span{font-weight:700}.htmledit_views *{box-sizing:border-box}.htmledit_views h1,.htmledit_views h2{color:#4f4f4f;margin:8px 0 16px;font-weight:700}.htmledit_views ol,.htmledit_views ul{margin:0 0 24px;padding:0;font-size:16px}.htmledit_views ul ol{margin:0 0 24px 32px}.htmledit_views ul li{list-style-type:disc;margin:8px 0 0 32px}.htmledit_views ol li{list-style-type:decimal;margin-left:40px;margin-top:8px}.htmledit_views h1{font-size:28px;line-height:36px}.htmledit_views h2{font-size:24px;line-height:32px}.htmledit_views a{color:#4ea1db;text-decoration:none}.htmledit_views a:focus,.htmledit_views a:hover{color:#ca0c16}.htmledit_views a:visited{color:#6795b5}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-c35ea38{color:#454545;font-family:"Microsoft Yahei","微软雅黑",Tahoma,Arial,Helvetica,STHeiti}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-3c6b86a{margin-left:0px;font-size:20px;color:#3a3a3a;font-weight:normal}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-022ba8d{font-size:14px;line-height:1.5;margin-left:0px;color:#454545;font-family:"Microsoft Yahei","微软雅黑",Tahoma,Arial,Helvetica,STHeiti}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-08b5546{margin-left:0px;border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;vertical-align:baseline;display:inline;width:595px}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-0663283{margin-left:0px;border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;font-size:2.5em;vertical-align:baseline;font-weight:normal;line-height:1.2em;letter-spacing:0em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-6cec942{margin-left:0px;border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;vertical-align:baseline;font-family:"Lucida Grande","Lucida Sans","Lucida Sans Unicode",sans-serif;text-transform:uppercase;letter-spacing:.1em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-968b7e9{margin-left:0px;border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;font-size:11px;vertical-align:baseline;color:#777;font-style:normal;line-height:1.75em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-5dc3554{margin-left:0px;border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;vertical-align:baseline;color:#afafaf;text-transform:lowercase;letter-spacing:0px}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-f63ee6b{margin-left:0px;border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;vertical-align:baseline;letter-spacing:.1em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-ba8327d{margin-left:0px;border-top-width:0px;border-right-width:0px;border-bottom-width:1px;border-left-width:0px;vertical-align:baseline;color:#777;text-decoration:none;border-bottom-style:solid;border-bottom-color:#e9e9e9;border-top-color:#e9e9e9;border-right-color:#e9e9e9;border-left-color:#e9e9e9}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-adaafcb{margin-left:0px;border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;font-size:14px;vertical-align:baseline;font-family:Georgia,"Times New Roman",Times,serif;line-height:22px}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-d2b4c09{margin-left:0px;border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;font-size:1.1em;vertical-align:baseline;line-height:1.6em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-ac81226{margin-left:0px;border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;vertical-align:baseline;color:#225e9b;text-decoration:none}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-88ee384{border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;vertical-align:baseline}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-364f267{margin-left:25px;border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;vertical-align:baseline}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-ef7cfe2{margin-left:0px;border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;vertical-align:baseline}	</style>
</head>

<body class="">

<header id="top" class="amp-wp-header">
	<div>
		<a href="https://uzzz.org/">
										<amp-img src="https://uzzz.org/wp-content/uploads/2019/10/cropped-icon-32x32.png" width="32" height="32" class="amp-wp-site-icon"></amp-img>
						<span class="amp-site-title">
				有组织在!			</span>
		</a>

					</div>
</header>

<article class="amp-wp-article">
	<header class="amp-wp-article-header">
		<h1 class="amp-wp-title">iphone内存管理</h1>
			<div class="amp-wp-meta amp-wp-byline">
					<amp-img src="https://secure.gravatar.com/avatar/e786821a74ef0467825a7d60183307bc?s=24&d=mm&r=g" alt="fandyvon" width="24" height="24" layout="fixed"></amp-img>
				<span class="amp-wp-author author vcard">fandyvon</span>
	</div>
<div class="amp-wp-meta amp-wp-posted-on">
	<time datetime="2012-10-10T20:51:11+00:00">
		8 years ago	</time>
</div>
	</header>

	
	<div class="amp-wp-article-content">
		<p><br>
<br>
<br>
 </p>
<div id="article_content" class="article_content clearfix">
 
 
<div class="htmledit_views" id="content_views">
<div class="content-head clearfix amp-wp-c35ea38">
<h2 class="title content-title amp-wp-3c6b86a"> http://hi.baidu.com/spopavenvldiqyr/item/c8d620b6282c4d4abb0e122a<br> iphone内存管理(一)</h2>
</div>
<div id="content" class="content mod-cs-content text-content clearfix amp-wp-022ba8d">
<p> BY 洋葱头</p>
<p> http://hi.baidu.com/yangcong121/home</p>
<p>  </p>
<p> 内存管理在iphone中一直是一个热点话题。通过一段时间的总结我准备与大家分享一下我对内存管理的一点认识和经验.</p>

<p> 开始之前先给大家分享一些重要的信息</p>

<p> 1。Iphone 3g有128M的内存。但是至少有一半已经用来运行OS了。这意味着你的程序可能只有区区40M的空间让你使用。但是请记住:你可能会在你程序只使用了3M时就收到一个内存警告.</p>

<p> 2。iphone并不使用类似C#的垃圾回收机制,</p>

<p> 3。内存管理的基本原则：每一个 alloc,retain,copy你都需要自己去release</p>

<p> 4。Objective-C runtime实例化一个对象只会在栈上而不会在堆上。</p>

<p> 5。你可以使用autorelease对象，但是要注意的是这种对象如果不将它的内存池release它是不会释放掉的.它可能造成一个很大的内存泄露。但是你用leak又查不出来。</p>

<p> 6。iphone没有交换文件系统,所以也就没有虚拟内存.</p>

<p> 下面是一些建议</p>

<p> 1.回应内存警告</p>
<p> 2.尽量避免使用autorelease</p>
<p> 3.使用延迟加载和再利用</p>
<p> 4.如果图大且同一张图使用次数不多就避免使用imageNamed</p>
<p> 5.table cell妥善使用再利用机制</p>
<p> 6.使用Instruments</p>
<p> 7.使用静态分析工具</p>
<p> 8.使用NSZombieEnabled检测错误详情</p>

<p> 以下我将对上面的建议意义详细讲述</p>

<p> (1)回应内存警告</p>

<p> 千万不要忘了调用如下代码,这是最简单的形式。如果你有其他需要释放内存的地方你可以写在里面.</p>
<p> – (void)didReceiveMemoryWarning</p>
<p> {</p>
<p>     [super didReceiveMemoryWarning];</p>
<p> }</p>
<p> 而最好最后能通知到application delegate中。然后调用如下</p>
<p> – (void)applicationDidReceiveMemoryWarning:(UIApplication *)application</p>
<p> {</p>
<p>     [[ImageCache sharedImageCache] removeAllImagesInMemory];</p>
<p> }</p>
<p> 这样可以清除缓存的图片。得以缓解紧张的内存使用情况.</p>
<p> 当然,你需要调用如下代码来申请这个通知</p>
<p> <strong>NSNotificationCenter</strong> *center = [<strong>NSNotificationCenter</strong> defaultCenter];</p>
<p> [center addObserver:<strong>self</strong></p>
<p> selector:<strong>@selector</strong>(whatever:)</p>
<p> name:UIApplicationDidReceiveMemoryWarningNotification</p>
<p> object:<strong>nil</strong>];</p>

<p> =============================================================================</p>
<p> http://ihuby.info/2011/07/18/ios%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/</p>
<div class="post-meta fix amp-wp-adaafcb">
<div class="post-header fix post-nothumb amp-wp-08b5546">
<div class="post-title-section fix amp-wp-ef7cfe2">
<div class="post-title fix amp-wp-ef7cfe2">
<h1 class="entry-title amp-wp-0663283"> iOS开发经验总结—内存管理</h1>
<div class="metabar amp-wp-6cec942">
        <span class="amp-wp-968b7e9"><span class="sword amp-wp-5dc3554">by</span> <span class="author vcard amp-wp-ef7cfe2"><span class="fn amp-wp-ef7cfe2"><a href="http://ihuby.info/author/admin/" rel="nofollow" title="Posts by admin" class="amp-wp-ba8327d">ADMIN</a></span></span> <span class="sword amp-wp-5dc3554">on</span> <span class="date time published amp-wp-ef7cfe2" title="2011-07-18T01:08:20+0000">JULY 18, 2011</span> · <span class="post-comments amp-wp-f63ee6b"><a href="http://ihuby.info/2011/07/18/ios%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/#comments" rel="nofollow" class="amp-wp-ba8327d">LEAVE A COMMENT</a></span></span>
       </div>
</div>
</div>
</div>
</div>
<div class="entry_wrap fix amp-wp-adaafcb">
<div class="entry_content amp-wp-d2b4c09">
<p class="amp-wp-88ee384"> iOS 开发中的一个重要部分就是关于内存的使用管理，用的不好就容易就产生内存泄露或内存错误访问，造成软件的崩溃，影响产品的使用和用户体验。在团队协调开发中也整理过了一些开发规范，正好看到国外的一篇开发博客文章<a href="http://akosma.com/2009/01/28/10-iphone-memory-management-tips/" rel="nofollow" class="amp-wp-ac81226">“10-iphone-memory-management-tips”</a>，其重要列表部分我翻译并整理一下。</p>
<p class="amp-wp-88ee384"> <span class="amp-wp-ef7cfe2">一些重要的背景知识点：</span></p>
<ol class="amp-wp-364f267">
<li class="amp-wp-ef7cfe2"> iPhone3G只有128M RAM内存,至少有一半是要留给操作系统；也即大概只有很小的40M内存左右留给了应用程序… 另外请记住，即使你开发的应用只使用了3M内存的时候，也有可能收到系统的内存警告通知。（Huby注:3GS内存总大小是256M,应用程序能使用大概不到80M；而iPhone4的内存大小是512M，应用程序能使用大概180M左右。而Apple对一个App设定的限额一般是20M）</li>
<li class="amp-wp-ef7cfe2"> iPhone 不使用垃圾回收机制，即使Objective-C 2.0中有垃圾回收机制可使用(用Objective-C 2.0开发Leopard上的App可使用垃圾回收)。</li>
<li class="amp-wp-ef7cfe2"> 内存管理的基本原则是：任何一处对象只要调用了 [ alloc | retain | copy ]一次，就必须在代码某处有一一对应执行相应的 [release] 方法。</li>
<li class="amp-wp-ef7cfe2"> Objective-C 运行时的对象实例都是在堆(Heap)中，不允许在栈(stack)中创建实例对象;这意味着没有自动化对象,也没有智能指针对象帮你管理内存。</li>
<li class="amp-wp-ef7cfe2"> 对象可以使用 autorelease 方法，但是要当心，这些对象必须等到他们的内存池自动释放的时候才能释放，如果内存池没有释放，其实也就相当于仍然产生了内存泄露。</li>
<li class="amp-wp-ef7cfe2"> iPhone没有内存交换文件(swap file),所以也就没有虚拟内存概念。当系统没有更多内存可用的时候，那么就真的是没有了。</li>
</ol>
<p class="amp-wp-88ee384"> <span class="amp-wp-ef7cfe2">经验总结：</span></p>
<ol class="amp-wp-364f267">
<li class="amp-wp-ef7cfe2"> 要写代码处理iOS系统的内存警告通知。</li>
<li class="amp-wp-ef7cfe2"> 尽量避免使用对象的内存自动释放机制。</li>
<li class="amp-wp-ef7cfe2"> 使用延迟加载创建对象以及内存对象的重用机制。(注: 横向或纵向滚动列表中特别适用)</li>
<li class="amp-wp-ef7cfe2"> 尽量避免使用UIImage的imangeNamed方法。(注:这样就等于使用了系统内存自动释放机制)</li>
<li class="amp-wp-ef7cfe2"> 自绘Table Cell并适当重用。</li>
<li class="amp-wp-ef7cfe2"> 重写属性的Setter方法。</li>
<li class="amp-wp-ef7cfe2"> 小心使用委派(Delegation)机制。</li>
<li class="amp-wp-ef7cfe2"> 使用Instruments工具优化内存使用。</li>
<li class="amp-wp-ef7cfe2"> 使用代码静态分析工具优化代码。</li>
<li class="amp-wp-ef7cfe2"> 启用NSZombieEnabled可发现更多内存问题。</li>
</ol></div>
</div>
<p></p>
</div>
</div>
<div class="more-toolbox">
<div class="left-toolbox">
<ul class="toolbox-list">
<li class="tool-item tool-active is-like "><a><br>
      <svg class="icon" aria-hidden="true"><br>
       <use xlink:href="#csdnc-thumbsup"></use><br>
      </svg><span class="name">点赞</span> <span class="count"></span> </a></li>
<li class="tool-item tool-active is-collection "><a data-report-click='{"mod":"popu_824"}'><br>
      <svg class="icon" aria-hidden="true"><br>
       <use xlink:href="#icon-csdnc-Collection-G"></use><br>
      </svg><span class="name">收藏</span></a></li>
<li class="tool-item tool-active is-share"><a data-report-click='{"mod":"1582594662_002"}'><br>
      <svg class="icon" aria-hidden="true"><br>
       <use xlink:href="#icon-csdnc-fenxiang"></use><br>
      </svg>分享</a></li>
<p>    <br>
     </p>
<li class="tool-item tool-more"> <a><br>
      <svg class="icon" viewbox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><br>
       <defs>

<p>       </p></defs>
       <path d="M179.176 499.222m-113.245 0a113.245 113.245 0 1 0 226.49 0 113.245 113.245 0 1 0-226.49 0Z"></path>
       <path d="M509.684 499.222m-113.245 0a113.245 113.245 0 1 0 226.49 0 113.245 113.245 0 1 0-226.49 0Z"></path>
       <path d="M846.175 499.222m-113.245 0a113.245 113.245 0 1 0 226.49 0 113.245 113.245 0 1 0-226.49 0Z"></path>
      </svg> </a> 
<ul class="more-box">
<li class="item"><a class="article-report">文章举报</a></li>
</ul>
</li>
</ul></div>
</div>
<div class="person-messagebox">
<div class="left-message">
   <a href="https://blog.csdn.net/switchcore"> <amp-img src="https://profile.csdnimg.cn/7/7/D/3_switchcore" class="avatar_pic amp-wp-enforced-sizes" width="75" height="75" layout="intrinsic"><noscript><img src="https://profile.csdnimg.cn/7/7/D/3_switchcore" class="avatar_pic" width="75" height="75"></noscript></amp-img> <amp-img src="https://g.csdnimg.cn/static/user-reg-year/1x/10.png" class="user-years amp-wp-enforced-sizes" width="23" height="22" layout="intrinsic"><noscript><img src="https://g.csdnimg.cn/static/user-reg-year/1x/10.png" class="user-years" width="23" height="22"></noscript></amp-img> </a>
  </div>
<div class="middle-message">
<div class="title">
    <span class="tit"><a href="https://blog.csdn.net/switchcore" data-report-click='{"mod":"popu_379"}' target="_blank" rel="noopener noreferrer">switchcore</a></span>
   </div>
<div class="text">
    <span>发布了18 篇原创文章</span> ·<br>
    <span>获赞 5</span> ·<br>
    <span>访问量 10万+</span>
   </div>
</div>
<div class="right-message">
   <a href="https://im.csdn.net/im/main.html?userName=switchcore" target="_blank" class="btn btn-sm btn-red-hollow bt-button personal-letter" rel="noopener noreferrer">私信 </a><br>
   <a class="btn btn-sm  bt-button personal-watch" data-report-click='{"mod":"popu_379"}'>关注</a>
  </div>
</div>
</div>
	</div>

	<footer class="amp-wp-article-footer">
			<div class="amp-wp-meta amp-wp-tax-category">
		Categories: Uncategorized	</div>

	<div class="amp-wp-meta amp-wp-tax-tag">
		Tags: <a href="https://uzzz.org/tag/application/" rel="tag">application</a>, <a href="https://uzzz.org/tag/ios/" rel="tag">IOS</a>, <a href="https://uzzz.org/tag/iphone/" rel="tag">iphone</a>, <a href="https://uzzz.org/tag/leak/" rel="tag">leak</a>, <a href="https://uzzz.org/tag/setter/" rel="tag">setter</a>, <a href="https://uzzz.org/tag/youhua/" rel="tag">优化</a>, <a href="https://uzzz.org/tag/gongju/" rel="tag">工具</a>	</div>
	</footer>
</article>

<footer class="amp-wp-footer">
	<div>
		<h2>有组织在!</h2>
		<a href="#top" class="back-to-top">Back to top</a>
	</div>
</footer>



</body>
</html>
