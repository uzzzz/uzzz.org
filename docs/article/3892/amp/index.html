<!DOCTYPE html>
<html amp lang="en-US">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1">
	<script type="application/ld+json" class="yoast-schema-graph yoast-schema-graph--main">{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://uzzz.org/#website","url":"https://uzzz.org/","name":"\u6709\u7ec4\u7ec7\u5728!","potentialAction":{"@type":"SearchAction","target":"https://uzzz.org/?s={search_term_string}","query-input":"required name=search_term_string"}},{"@type":"ImageObject","@id":"https://uzzz.org/article/3892/#primaryimage","url":"https://uzshare.com/_p?https://img-blog.csdnimg.cn/20200223135753491.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZvcmxvZ2Vu,size_16,color_FFFFFF,t_70"},{"@type":"WebPage","@id":"https://uzzz.org/article/3892/#webpage","url":"https://uzzz.org/article/3892/","inLanguage":"en-US","name":"BERT and Knowledge Distillation - \u6709\u7ec4\u7ec7\u5728!","isPartOf":{"@id":"https://uzzz.org/#website"},"primaryImageOfPage":{"@id":"https://uzzz.org/article/3892/#primaryimage"},"datePublished":"2020-02-23T06:55:36+00:00","dateModified":"2020-02-23T06:55:36+00:00","author":{"@id":"https://uzzz.org/#/schema/person/29673f1347b0abda5882803c72ee5a3f"}},{"@type":["Person"],"@id":"https://uzzz.org/#/schema/person/29673f1347b0abda5882803c72ee5a3f","name":"fandyvon","sameAs":[]}]}</script>
	<title>BERT and Knowledge Distillation - 有组织在!</title>
		<link rel="canonical" href="https://uzzz.org/article/3892/">
	<script type="text/javascript" src="https://cdn.ampproject.org/v0.js" async></script>
<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
	<style amp-custom>
		/* Generic WP styling */

.alignright {
	float: right;
}

.alignleft {
	float: left;
}

.aligncenter {
	display: block;
	text-align: center;
	margin-left: auto;
	margin-right: auto;
}

.amp-wp-enforced-sizes {
	/** Our sizes fallback is 100vw, and we have a padding on the container; the max-width here prevents the element from overflowing. **/
	max-width: 100%;
	margin: 0 auto;
}


/*
 * Prevent cases of amp-img converted from img to appear with stretching by using object-fit to scale.
 * See <https://github.com/ampproject/amphtml/issues/21371#issuecomment-475443219>.
 * Also use object-fit:contain in worst case scenario when we can't figure out dimensions for an image.
 * Additionally, in side of \AMP_Img_Sanitizer::determine_dimensions() it could $amp_img->setAttribute( 'object-fit', 'contain' )
 * so that the following rules wouldn't be needed.
 */
amp-img.amp-wp-enforced-sizes[layout="intrinsic"] > img,
amp-anim.amp-wp-enforced-sizes[layout="intrinsic"] > img {
	object-fit: contain;
}

amp-fit-text blockquote,
amp-fit-text h1,
amp-fit-text h2,
amp-fit-text h3,
amp-fit-text h4,
amp-fit-text h5,
amp-fit-text h6 {
	font-size: inherit;
}

/**
 * Override a style rule in Twenty Sixteen and Twenty Seventeen.
 * It set display:none for audio elements.
 * This selector is the same, though it adds body and uses amp-audio instead of audio.
 */
body amp-audio:not([controls]) {
	display: inline-block;
	height: auto;
}

/*
 * Style the default template messages for submit-success, submit-error, and submitting. These elements are inserted
 * by the form sanitizer when a POST form lacks the action-xhr attribute.
 */
.amp-wp-default-form-message > p {
	margin: 1em 0;
	padding: 0.5em;
}

.amp-wp-default-form-message[submitting] > p,
.amp-wp-default-form-message[submit-success] > p.amp-wp-form-redirecting {
	font-style: italic;
}

.amp-wp-default-form-message[submit-success] > p:not(.amp-wp-form-redirecting) {
	border: solid 1px #008000;
	background-color: #90ee90;
	color: #000;
}

.amp-wp-default-form-message[submit-error] > p {
	border: solid 1px #f00;
	background-color: #ffb6c1;
	color: #000;
}

/* Prevent showing empty success message in the case of an AMP-Redirect-To response header. */
.amp-wp-default-form-message[submit-success] > p:empty {
	display: none;
}

amp-carousel .amp-wp-gallery-caption {
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	text-align: center;
	background-color: rgba(0, 0, 0, 0.5);
	color: #fff;
	padding: 1rem;
}

.wp-block-gallery[data-amp-carousel="true"] {
	display: block;
	flex-wrap: unset;
}

/* Template Styles */

.amp-wp-content,
.amp-wp-title-bar div {
		margin: 0 auto;
	max-width: 840px;
	}

html {
	background: #0a89c0;
}

body {
	background: #fff;
	color: #353535;
	font-family: Georgia, 'Times New Roman', Times, Serif;
	font-weight: 300;
	line-height: 1.75em;
}

p,
ol,
ul,
figure {
	margin: 0 0 1em;
	padding: 0;
}

a,
a:visited {
	color: #0a89c0;
}

a:hover,
a:active,
a:focus {
	color: #353535;
}

/* Quotes */

blockquote {
	color: #353535;
	background: rgba(127,127,127,.125);
	border-left: 2px solid #0a89c0;
	margin: 8px 0 24px 0;
	padding: 16px;
}

blockquote p:last-child {
	margin-bottom: 0;
}

/* UI Fonts */

.amp-wp-meta,
.amp-wp-header div,
.amp-wp-title,
.wp-caption-text,
.amp-wp-tax-category,
.amp-wp-tax-tag,
.amp-wp-comments-link,
.amp-wp-footer p,
.back-to-top {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen-Sans", "Ubuntu", "Cantarell", "Helvetica Neue", sans-serif;
}

/* Header */

.amp-wp-header {
	background-color: #0a89c0;
}

.amp-wp-header div {
	color: #fff;
	font-size: 1em;
	font-weight: 400;
	margin: 0 auto;
	max-width: calc(840px - 32px);
	padding: .875em 16px;
	position: relative;
}

.amp-wp-header a {
	color: #fff;
	text-decoration: none;
}


.amp-wp-header .amp-wp-site-icon {
	/** site icon is 32px **/
	background-color: #fff;
	border: 1px solid #fff;
	border-radius: 50%;
	position: absolute;
	right: 18px;
	top: 10px;
}

/* Article */

.amp-wp-article {
	color: #353535;
	font-weight: 400;
	margin: 1.5em auto;
	max-width: 840px;
	overflow-wrap: break-word;
	word-wrap: break-word;
}

/* Article Header */

.amp-wp-article-header {
	align-items: center;
	align-content: stretch;
	display: flex;
	flex-wrap: wrap;
	justify-content: space-between;
	margin: 1.5em 16px 0;
}

.amp-wp-title {
	color: #353535;
	display: block;
	flex: 1 0 100%;
	font-weight: 900;
	margin: 0 0 .625em;
	width: 100%;
}

/* Article Meta */

.amp-wp-meta {
	color: #696969;
	display: inline-block;
	flex: 2 1 50%;
	font-size: .875em;
	line-height: 1.5em;
	margin: 0 0 1.5em;
	padding: 0;
}

.amp-wp-article-header .amp-wp-meta:last-of-type {
	text-align: right;
}

.amp-wp-article-header .amp-wp-meta:first-of-type {
	text-align: left;
}

.amp-wp-byline amp-img,
.amp-wp-byline .amp-wp-author {
	display: inline-block;
	vertical-align: middle;
}

.amp-wp-byline amp-img {
	border: 1px solid #0a89c0;
	border-radius: 50%;
	position: relative;
	margin-right: 6px;
}

.amp-wp-posted-on {
	text-align: right;
}

/* Featured image */

.amp-wp-article-featured-image {
	margin: 0 0 1em;
}
.amp-wp-article-featured-image amp-img {
	margin: 0 auto;
}
.amp-wp-article-featured-image.wp-caption .wp-caption-text {
	margin: 0 18px;
}

/* Article Content */

.amp-wp-article-content {
	margin: 0 16px;
}

.amp-wp-article-content ul,
.amp-wp-article-content ol {
	margin-left: 1em;
}

.amp-wp-article-content .wp-caption {
	max-width: 100%;
}

.amp-wp-article-content amp-img {
	margin: 0 auto;
}

.amp-wp-article-content amp-img.alignright {
	margin: 0 0 1em 16px;
}

.amp-wp-article-content amp-img.alignleft {
	margin: 0 16px 1em 0;
}

/* Captions */

.wp-caption {
	padding: 0;
}

.wp-caption.alignleft {
	margin-right: 16px;
}

.wp-caption.alignright {
	margin-left: 16px;
}

.wp-caption .wp-caption-text {
	border-bottom: 1px solid #c2c2c2;
	color: #696969;
	font-size: .875em;
	line-height: 1.5em;
	margin: 0;
	padding: .66em 10px .75em;
}

/* AMP Media */

.alignwide,
.alignfull {
	clear: both;
}

amp-carousel {
	background: #c2c2c2;
	margin: 0 -16px 1.5em;
}
amp-iframe,
amp-youtube,
amp-instagram,
amp-vine {
	background: #c2c2c2;
	margin: 0 -16px 1.5em;
}

.amp-wp-article-content amp-carousel amp-img {
	border: none;
}

amp-carousel > amp-img > img {
	object-fit: contain;
}

.amp-wp-iframe-placeholder {
	background: #c2c2c2 url( https://uzzz.org/wp-content/plugins/amp/assets/images/placeholder-icon.png ) no-repeat center 40%;
	background-size: 48px 48px;
	min-height: 48px;
}

/* Article Footer Meta */

.amp-wp-article-footer .amp-wp-meta {
	display: block;
}

.amp-wp-tax-category,
.amp-wp-tax-tag {
	color: #696969;
	font-size: .875em;
	line-height: 1.5em;
	margin: 1.5em 16px;
}

.amp-wp-comments-link {
	color: #696969;
	font-size: .875em;
	line-height: 1.5em;
	text-align: center;
	margin: 2.25em 0 1.5em;
}

.amp-wp-comments-link a {
	border-style: solid;
	border-color: #c2c2c2;
	border-width: 1px 1px 2px;
	border-radius: 4px;
	background-color: transparent;
	color: #0a89c0;
	cursor: pointer;
	display: block;
	font-size: 14px;
	font-weight: 600;
	line-height: 18px;
	margin: 0 auto;
	max-width: 200px;
	padding: 11px 16px;
	text-decoration: none;
	width: 50%;
	-webkit-transition: background-color 0.2s ease;
			transition: background-color 0.2s ease;
}

/* AMP Footer */

.amp-wp-footer {
	border-top: 1px solid #c2c2c2;
	margin: calc(1.5em - 1px) 0 0;
}

.amp-wp-footer div {
	margin: 0 auto;
	max-width: calc(840px - 32px);
	padding: 1.25em 16px 1.25em;
	position: relative;
}

.amp-wp-footer h2 {
	font-size: 1em;
	line-height: 1.375em;
	margin: 0 0 .5em;
}

.amp-wp-footer p {
	color: #696969;
	font-size: .8em;
	line-height: 1.5em;
	margin: 0 85px 0 0;
}

.amp-wp-footer a {
	text-decoration: none;
}

.back-to-top {
	bottom: 1.275em;
	font-size: .8em;
	font-weight: 600;
	line-height: 2em;
	position: absolute;
	right: 16px;
}
		/* Inline stylesheets */
:root:not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_) .markdown_views,:root:not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_) .markdown_views blockquote{word-break:break-word}@font-face{font-family:KaTeX_AMS;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_AMS-Regular.e78e28b.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_AMS-Regular.7f06b4e.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_AMS-Regular.aaf4eee.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Caligraphic-Bold.4ec58be.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Caligraphic-Bold.1e802ca.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Caligraphic-Bold.021dd4d.ttf") format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Caligraphic-Regular.7edb53b.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Caligraphic-Regular.d3b46c3.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Caligraphic-Regular.d49f2d5.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Fraktur-Bold.d5b59ec.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Fraktur-Bold.c4c8cab.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Fraktur-Bold.a31e7cb.ttf") format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Fraktur-Regular.32a5339.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Fraktur-Regular.b7d9c46.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Fraktur-Regular.a48dad4.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Main;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Main-Bold.8e1e01c.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Main-Bold.22086eb.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Main-Bold.9ceff51.ttf") format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Main;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Main-BoldItalic.284a17f.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Main-BoldItalic.4c57dbc.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Main-BoldItalic.e8b44b9.ttf") format("truetype");font-weight:700;font-style:italic}@font-face{font-family:KaTeX_Main;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Main-Italic.e533d5a.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Main-Italic.99be0e1.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Main-Italic.29c8639.ttf") format("truetype");font-weight:400;font-style:italic}@font-face{font-family:KaTeX_Main;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Main-Regular.5c734d7.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Main-Regular.b741441.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Main-Regular.5c94aef.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Math;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Math-BoldItalic.d747bd1.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Math-BoldItalic.b13731e.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Math-BoldItalic.9a2834a.ttf") format("truetype");font-weight:700;font-style:italic}@font-face{font-family:KaTeX_Math;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Math-Italic.4ad08b8.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Math-Italic.f030390.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Math-Italic.291e76b.ttf") format("truetype");font-weight:400;font-style:italic}@font-face{font-family:KaTeX_SansSerif;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_SansSerif-Bold.6e0830b.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_SansSerif-Bold.3fb4195.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_SansSerif-Bold.7dc027c.ttf") format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_SansSerif;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_SansSerif-Italic.fba01c9.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_SansSerif-Italic.727a9b0.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_SansSerif-Italic.4059868.ttf") format("truetype");font-weight:400;font-style:italic}@font-face{font-family:KaTeX_SansSerif;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_SansSerif-Regular.d929cd6.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_SansSerif-Regular.2555754.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_SansSerif-Regular.5c58d16.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Script;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Script-Regular.755e249.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Script-Regular.d524c9a.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Script-Regular.d12ea9e.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size1;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Size1-Regular.048c39c.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Size1-Regular.08b5f00.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Size1-Regular.7342d45.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size2;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Size2-Regular.81d6b8d.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Size2-Regular.af24b0e.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Size2-Regular.eb130dc.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size3;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Size3-Regular.b311ca0.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Size3-Regular.0d89264.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Size3-Regular.7e02a40.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size4;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Size4-Regular.6a3255d.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Size4-Regular.68895bb.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Size4-Regular.ad76725.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Typewriter;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Typewriter-Regular.6cc31ea.woff2") format("woff2"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Typewriter-Regular.3fe216d.woff") format("woff"),url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/KaTeX_Typewriter-Regular.2570235.ttf") format("truetype");font-weight:400;font-style:normal}.katex{font:400 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;text-indent:0;text-rendering:auto}:root:not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_) .katex *{-ms-high-contrast-adjust:none}.katex .katex-mathml{position:absolute;clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}.katex .base{position:relative;white-space:nowrap;width:min-content}.katex .base,.katex .strut{display:inline-block}.katex .mathdefault{font-family:KaTeX_Math;font-style:italic}.katex .vlist-t{display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;vertical-align:bottom;position:relative}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;vertical-align:bottom;font-size:1px;width:2px;min-width:2px}.katex .mfrac .frac-line,.katex .mspace,.katex .nulldelimiter,.katex .sizing{display:inline-block}.katex .msupsub{text-align:left}.katex .mfrac>span>span,.katex .op-limits>.vlist-t{text-align:center}.katex .mfrac .frac-line{width:100%;border-bottom-style:solid}.katex .mfrac .frac-line{min-height:1px}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .sizing.reset-size3.size1{font-size:.71428571em}.katex .sizing.reset-size3.size3{font-size:1em}.katex .sizing.reset-size6.size1{font-size:.5em}.katex .sizing.reset-size6.size3{font-size:.7em}.katex .nulldelimiter{width:.12em}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex-display{text-align:center}.katex svg{display:block;position:absolute;width:100%;height:inherit;fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1}.katex svg path{stroke:none}.katex amp-img{border-style:none;min-width:0;min-height:0;max-width:none;max-height:none}hr{overflow:visible}.katex-display{display:block;margin:1em 0}.katex-display>.katex{display:block;text-align:center;white-space:nowrap}.katex-display>.katex>.katex-html{display:block;position:relative}@font-face{font-family:Roboto Mono;font-style:normal;font-weight:400;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/RobotoMono-Regular.0b6a547.woff") format("woff")}@font-face{font-family:Roboto Mono;font-style:normal;font-weight:600;src:url("https://csdnimg.cn/release/phoenix/mdeditor/fonts/RobotoMono-Bold.819f3b2.woff") format("woff")}span.katex,span.katex *{font-family:KaTeX_Main,Times New Roman,serif}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}hr{box-sizing:content-box;height:0}.markdown_views *{box-sizing:border-box}a{background-color:transparent;-webkit-text-decoration-skip:objects}strong{font-weight:inherit;font-weight:bolder}amp-img{border-style:none}svg:not(:root){overflow:hidden}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.markdown_views,body,html{font-family:-apple-system,SF UI Text,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif}[hidden]{display:none}body,html{color:rgba(0,0,0,.75);font-variant-ligatures:common-ligatures;line-height:1.625;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;tab-size:4;-moz-tab-size:4;-o-tab-size:4}.markdown_views blockquote,.markdown_views p,.markdown_views ul{margin:1.2em 0}.markdown_views ul ul{margin:0}.markdown_views blockquote{color:rgba(0,0,0,.5);padding-left:1.5em}.markdown_views amp-img[src*="#pic_center"]{display:block;margin:auto}.markdown_views amp-img[src*="#pic_right"]{display:block;margin:auto 0 auto auto}.markdown_views p{font-size:16px;color:#4d4d4d;font-weight:400;line-height:26px;margin:0 0 16px}.markdown_views strong{font-weight:700}.markdown_views h5{color:#4f4f4f;margin:8px 0 16px;font-weight:700}.markdown_views ul{margin:0 0 24px;padding:0;font-size:16px}.markdown_views ul li{list-style-type:disc;margin:8px 0 0 32px}.markdown_views amp-img{margin:24px 0;max-width:100%;height:auto}.markdown_views h5{font-size:18px;line-height:26px}.markdown_views blockquote{display:block;padding:16px;margin:0 0 24px;border-left:8px solid #dddfe4;background:#eef0f4;overflow:auto}.markdown_views blockquote ul{margin-bottom:0;padding:0;font-size:14px;line-height:22px}.markdown_views blockquote ul li{margin-bottom:0}.markdown_views blockquote p{font-size:14px;line-height:22px;color:#999;font-weight:400;margin-bottom:0}.markdown_views hr{margin:24px 0;border:none;border-bottom:1px solid #ddd}.markdown_views a{text-decoration-skip:ink;color:#4ea1db;text-decoration:none}.markdown_views a:focus,.markdown_views a:hover{text-decoration:none;color:#ca0c16}.markdown_views a:visited{color:#6795b5}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-224b51a{display:none}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-7874ad7{-webkit-tap-highlight-color:rgba(0,0,0,0)}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-f9ccfcc{height:.58056em;vertical-align:-.15em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-31a8803{height:.328331em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-bfc2eff{height:.65952em;vertical-align:0em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-7d9a023{height:.869438em;vertical-align:-.286108em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-a8002f4{height:.328086em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-c597ff3{top:-2.357em;margin-left:-.03588em;margin-right:.0714286em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-ebc2a4c{height:2.5em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-7a9ca6f{height:.143em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-3c1f101{height:.69444em;vertical-align:0em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-e1c3ddb{height:.92508em;vertical-align:-.31em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-9525c61{height:3.13045em;vertical-align:-1.30211em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-91bb5c4{height:1.82834em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-880628a{top:-1.84789em;margin-left:0em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-8d70d23{top:-3.05em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-36c8f7d{top:-4.3em;margin-left:0em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-ce7d13b{height:3.05em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-9c96f58{height:1.30211em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-81bd9c6{margin-right:.01389em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-71dec23{margin-right:.03148em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-54eb175{height:.980548em;vertical-align:-.286108em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-cfc5784{height:.625em;vertical-align:-.19444em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-501c471{top:-2.55em;margin-left:-.03588em;margin-right:.05em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-99b4fad{height:2.54882em;vertical-align:-1.12182em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-e47ee98{height:1.427em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-840e3b7{top:-2.314em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-a8b8d8b{position:relative;top:-5 e-06em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-0b475de{height:.161954em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-53157f6{top:-2.40029em;margin-left:0em;margin-right:.05em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-80486ac{height:.435818em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-4bfbdb2{margin-right:.05724em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-d4f3e1a{top:-3.23em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-5bd8f47{border-bottom-width:.04em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-9d4ecbd{top:-3.677em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-438bf38{height:3em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-1692540{margin-right:.04398em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-eb09a52{height:.311664em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-4c27ad4{top:-2.55em;margin-left:-.04398em;margin-right:.05em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-b45b7da{height:1.12182em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-410a189{margin-right:.13889em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-3484491{height:.946332em;vertical-align:-.19444em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-81603b2{height:1.00189em;vertical-align:-.25em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-548b3d3{margin-right:.03588em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-4d3047e{height:.751892em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-0da45c1{top:-3.063em;margin-right:.05em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-dc6bbd0{height:.68333em;vertical-align:0em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-31509fc{margin-right:.02778em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-3385071{height:.76666em;vertical-align:-.08333em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-dba2b8a{height:.88888em;vertical-align:-.19444em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-8d3b43e{height:.969438em;vertical-align:-.286108em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-59a0de2{height:.286108em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-c126812{height:.336108em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-d23bff4{margin-right:.01968em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-b546573{height:.83333em;vertical-align:-.15em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-5b4b0a7{height:.151392em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-5c903a1{margin-right:.10764em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-222c607{margin-right:.277778em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-3bf6069{margin-right:.222222em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-a66edb6{height:.301108em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-22f0afe{top:-2.55em;margin-left:0em;margin-right:.05em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-a03f50d{height:2.7em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-df21763{height:.15em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-9e655c4{top:0em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-6d57c00{margin-right:.10903em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-de9022a{margin-right:.05764em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-3625c0d{margin-right:.07153em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-9b4bde0{height:1em;vertical-align:-.25em}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-14352ba{margin-right:.166667em}	</style>
</head>

<body class="">

<header id="top" class="amp-wp-header">
	<div>
		<a href="https://uzzz.org/">
										<amp-img src="https://uzzz.org/wp-content/uploads/2019/10/cropped-icon-32x32.png" width="32" height="32" class="amp-wp-site-icon"></amp-img>
						<span class="amp-site-title">
				有组织在!			</span>
		</a>

					</div>
</header>

<article class="amp-wp-article">
	<header class="amp-wp-article-header">
		<h1 class="amp-wp-title">BERT and Knowledge Distillation</h1>
			<div class="amp-wp-meta amp-wp-byline">
					<amp-img src="https://secure.gravatar.com/avatar/e786821a74ef0467825a7d60183307bc?s=24&d=mm&r=g" alt="fandyvon" width="24" height="24" layout="fixed"></amp-img>
				<span class="amp-wp-author author vcard">fandyvon</span>
	</div>
<div class="amp-wp-meta amp-wp-posted-on">
	<time datetime="2020-02-23T14:55:36+00:00">
		2 months ago	</time>
</div>
	</header>

	
	<div class="amp-wp-article-content">
		<p><br>
<br>
<br>
 </p>
<div id="article_content" class="article_content clearfix">
 
<div id="content_views" class="markdown_views prism-github-gist">
  <br>
  <svg xmlns="http://www.w3.org/2000/svg" class="amp-wp-224b51a">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" class="amp-wp-7874ad7"></path>
  </svg> 
<h5><a id="center_0"></a>知识蒸馏<br>
   <center></center></h5>
<p><strong>知识蒸馏</strong>（Knowledge Distillation,KD）是想将复杂模型（teacher network）中的<strong>暗知识</strong>（dark knowledge）迁移到简单模型（student network）中。一般来说，<strong>老师网络</strong>具有强大的能力和表现，而<strong>学生网络</strong>则更为紧凑。通过知识蒸馏，希望学生网络能尽可能逼近亦或是超过老师网络，从而用复杂度更小的模型来获得类似的预测效果。Hinton在<a href="https://arxiv.org/abs/1503.02531" rel="nofollow">Distilling the Knowledge in a Neural Network</a>一文中首次提出了知识蒸馏的概念，通过引入老师网络的软目标（soft targets）以诱导学生网络的训练。</p>
<blockquote>
<p>在具体了解知识蒸馏的具体流程前，我们首先回顾一下四个常见的损失函数：Softmax、log_softmax、NLLLoss和CrossEntropy。</p>
<ul>
<li><strong>Softmax</strong>：Softmax广泛的应用于分类问题中，它输入一个实数向量并返回一个表示类别可能性的概率分布，其中每个元素都是非负的，且所有元素总和为1。<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><br>

          <br>
           <br>
            <br>
             Softmax<br>
            <br>
            <br>
             (<br>
            <br>
            <br>
             x<br>
            <br>
            <br>
             )<br>
            <br>
            <br>
             =<br>
            <br>
            <br>
             <br>
              <br>
               exp<br>
              <br>
              <br>
               ⁡<br>
              <br>
              <br>
               (<br>
              <br>
              <br>
               <br>
                x<br>
               <br>
               <br>
                i<br>
               <br>
              <br>
              <br>
               )<br>
              <br>
             <br>
             <br>
              <br>
               <br>
                ∑<br>
               <br>
               <br>
                j<br>
               <br>
              <br>
              <br>
               exp<br>
              <br>
              <br>
               ⁡<br>
              <br>
              <br>
               (<br>
              <br>
              <br>
               <br>
                x<br>
               <br>
               <br>
                j<br>
               <br>
              <br>
              <br>
               )<br>
              <br>
             <br>
            <br>
           <br>
           <br>
            \text{Softmax}(x) = \frac{\exp(x_{i})}{\sum_{j}\exp(x_{j})}<br>
           <br>
          <br>
         
<p></p></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-9b4bde0"></span><span class="mord text"><span class="mord">Softmax</span></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace amp-wp-222c607"></span><span class="mrel">=</span><span class="mspace amp-wp-222c607"></span></span><span class="base"><span class="strut amp-wp-99b4fad"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-e47ee98"><span class=" amp-wp-840e3b7"><span class="pstrut amp-wp-438bf38"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op amp-wp-a8b8d8b">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-0b475de"><span class=" amp-wp-53157f6"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight amp-wp-4bfbdb2">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-80486ac"><span class=""></span></span></span></span></span></span><span class="mspace amp-wp-14352ba"></span><span class="mop">exp</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-eb09a52"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight amp-wp-4bfbdb2">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-59a0de2"><span class=""></span></span></span></span></span></span><span class="mclose">)</span></span></span><span class=" amp-wp-d4f3e1a"><span class="pstrut amp-wp-438bf38"></span><span class="frac-line amp-wp-5bd8f47"></span></span><span class=" amp-wp-9d4ecbd"><span class="pstrut amp-wp-438bf38"></span><span class="mord"><span class="mop">exp</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-eb09a52"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-b45b7da"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span></li>
<li><strong>log_softmax</strong>：即对softmax处理后的结果做一次对数运算</li>
<li><strong>NNLLoss（negtive log likelihood losss）</strong>：若<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>

         <br>
          <br>
           <br>
            <br>
             x<br>
            <br>
            <br>
             i<br>
            <br>
           <br>
           <br>
            =<br>
           <br>
           <br>
            [<br>
           <br>
           <br>
            <br>
             q<br>
            <br>
            <br>
             1<br>
            <br>
           <br>
           <br>
            ,<br>
           <br>
           <br>
            <br>
             q<br>
            <br>
            <br>
             2<br>
            <br>
           <br>
           <br>
            ,<br>
           <br>
           <br>
            .<br>
           <br>
           <br>
            .<br>
           <br>
           <br>
            .<br>
           <br>
           <br>
            ,<br>
           <br>
           <br>
            <br>
             q<br>
            <br>
            <br>
             N<br>
            <br>
           <br>
           <br>
            ]<br>
           <br>
          <br>
          <br>
           x_{i}=[q_{1},q_{2},…,q_{N}]<br>
          <br>
         <br>
        
<p></p></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-f9ccfcc"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-eb09a52"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mspace amp-wp-222c607"></span><span class="mrel">=</span><span class="mspace amp-wp-222c607"></span></span><span class="base"><span class="strut amp-wp-9b4bde0"></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault amp-wp-548b3d3">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-a66edb6"><span class=" amp-wp-501c471"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace amp-wp-14352ba"></span><span class="mord"><span class="mord mathdefault amp-wp-548b3d3">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-a66edb6"><span class=" amp-wp-501c471"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace amp-wp-14352ba"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace amp-wp-14352ba"></span><span class="mord"><span class="mord mathdefault amp-wp-548b3d3">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-31a8803"><span class=" amp-wp-501c471"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight amp-wp-6d57c00">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span>为网络的第<span class="katex--inline"><span class="katex"><span class="katex-mathml">

         <br>
          <br>
           <br>
            i<br>
           <br>
          <br>
          <br>
           i<br>
          <br>
         <br>
        
<p></p></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-bfc2eff"></span><span class="mord mathdefault">i</span></span></span></span></span>个输出，<span class="katex--inline"><span class="katex"><span class="katex-mathml">

         <br>
          <br>
           <br>
            <br>
             y<br>
            <br>
            <br>
             i<br>
            <br>
           <br>
          <br>
          <br>
           y_{i}<br>
          <br>
         <br>
        
<p></p></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-cfc5784"></span><span class="mord"><span class="mord mathdefault amp-wp-548b3d3">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-eb09a52"><span class=" amp-wp-501c471"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span></span></span></span></span>为真实标签，那么有：<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml">

          <br>
           <br>
            <br>
             f<br>
            <br>
            <br>
             (<br>
            <br>
            <br>
             <br>
              x<br>
             <br>
             <br>
              i<br>
             <br>
            <br>
            <br>
             ,<br>
            <br>
            <br>
             <br>
              y<br>
             <br>
             <br>
              i<br>
             <br>
            <br>
            <br>
             )<br>
            <br>
            <br>
             =<br>
            <br>
            <br>
             −<br>
            <br>
            <br>
             <br>
              q<br>
             <br>
             <br>
              <br>
               y<br>
              <br>
              <br>
               i<br>
              <br>
             <br>
            <br>
           <br>
           <br>
            f(x_{i},y_{i})= -q_{y_{i}}<br>
           <br>
          <br>
         
<p></p></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-9b4bde0"></span><span class="mord mathdefault amp-wp-5c903a1">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-eb09a52"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace amp-wp-14352ba"></span><span class="mord"><span class="mord mathdefault amp-wp-548b3d3">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-eb09a52"><span class=" amp-wp-501c471"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace amp-wp-222c607"></span><span class="mrel">=</span><span class="mspace amp-wp-222c607"></span></span><span class="base"><span class="strut amp-wp-7d9a023"></span><span class="mord">−</span><span class="mord"><span class="mord mathdefault amp-wp-548b3d3">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-5b4b0a7"><span class=" amp-wp-501c471"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight amp-wp-548b3d3">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-a8002f4"><span class=" amp-wp-c597ff3"><span class="pstrut amp-wp-ebc2a4c"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-7a9ca6f"><span class=""></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-59a0de2"><span class=""></span></span></span></span></span></span></span></span></span></span></span></li>
<li><strong>CrossEntropy</strong>：对于<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>

         <br>
          <br>
           <br>
            N<br>
           <br>
          <br>
          <br>
           N<br>
          <br>
         <br>
        
<p></p></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-dc6bbd0"></span><span class="mord mathdefault amp-wp-6d57c00">N</span></span></span></span></span>分类问题一个特定的样本，已知其真实标签，CrossEntropy的计算公式为：<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml">

          <br>
           <br>
            <br>
             c<br>
            <br>
            <br>
             r<br>
            <br>
            <br>
             o<br>
            <br>
            <br>
             s<br>
            <br>
            <br>
             s<br>
            <br>
            <br>
             _<br>
            <br>
            <br>
             e<br>
            <br>
            <br>
             n<br>
            <br>
            <br>
             t<br>
            <br>
            <br>
             r<br>
            <br>
            <br>
             o<br>
            <br>
            <br>
             p<br>
            <br>
            <br>
             y<br>
            <br>
            <br>
             =<br>
            <br>
            <br>
             −<br>
            <br>
            <br>
             <br>
              ∑<br>
             <br>
             <br>
              <br>
               k<br>
              <br>
              <br>
               =<br>
              <br>
              <br>
               1<br>
              <br>
             <br>
             <br>
              N<br>
             <br>
            <br>
            <br>
             <br>
              (<br>
             <br>
             <br>
              <br>
               p<br>
              <br>
              <br>
               k<br>
              <br>
             <br>
             <br>
              log<br>
             <br>
             <br>
              ⁡<br>
             <br>
             <br>
              <br>
               q<br>
              <br>
              <br>
               k<br>
              <br>
             <br>
             <br>
              )<br>
             <br>
            <br>
           <br>
           <br>
            cross\_entropy=-\sum_{k=1}^{N}\left(p_{k} \log q_{k}\right)<br>
           <br>
          <br>
         
<p></p></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-e1c3ddb"></span><span class="mord mathdefault">c</span><span class="mord mathdefault amp-wp-31509fc">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span><span class="mord amp-wp-31509fc">_</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault amp-wp-31509fc">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">p</span><span class="mord mathdefault amp-wp-548b3d3">y</span><span class="mspace amp-wp-222c607"></span><span class="mrel">=</span><span class="mspace amp-wp-222c607"></span></span><span class="base"><span class="strut amp-wp-9525c61"></span><span class="mord">−</span><span class="mspace amp-wp-14352ba"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-91bb5c4"><span class=" amp-wp-880628a"><span class="pstrut amp-wp-ce7d13b"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight amp-wp-71dec23">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span class=" amp-wp-8d70d23"><span class="pstrut amp-wp-ce7d13b"></span><span class=""><span class="mop op-symbol large-op">∑</span></span></span><span class=" amp-wp-36c8f7d"><span class="pstrut amp-wp-ce7d13b"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight amp-wp-6d57c00">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-9c96f58"><span class=""></span></span></span></span></span><span class="mspace amp-wp-14352ba"></span><span class="minner"><span class="mopen delimcenter amp-wp-9e655c4">(</span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-c126812"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight amp-wp-71dec23">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mspace amp-wp-14352ba"></span><span class="mop">lo<span class="amp-wp-81bd9c6">g</span></span><span class="mspace amp-wp-14352ba"></span><span class="mord"><span class="mord mathdefault amp-wp-548b3d3">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-c126812"><span class=" amp-wp-501c471"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight amp-wp-71dec23">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mclose delimcenter amp-wp-9e655c4">)</span></span></span></span></span></span></span></li>
</ul>
<p>其中<span class="katex--inline"><span class="katex"><span class="katex-mathml"></span></span></span></p>

        <br>
         <br>
          <br>
           p<br>
          <br>
         <br>
         <br>
          p<br>
         <br>
        <br>
       
<p><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-cfc5784"></span><span class="mord mathdefault">p</span></span></span>表示真实值，在这个公式中是one-hot形式；<strong>q是经过softmax计算后的结果，<span class="katex--inline"><span class="katex"><span class="katex-mathml"></span></span></span></strong></p>

         <br>
          <br>
           <br>
            <br>
             q<br>
            <br>
            <br>
             k<br>
            <br>
           <br>
          <br>
          <br>
           q_k<br>
          <br>
         <br>
        
<p><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-cfc5784"></span><span class="mord"><span class="mord mathdefault amp-wp-548b3d3">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-c126812"><span class=" amp-wp-501c471"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight amp-wp-71dec23">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span></span></span>为神经网络认为该样本为第<span class="katex--inline"><span class="katex"><span class="katex-mathml"></span></span></span></p>

         <br>
          <br>
           <br>
            k<br>
           <br>
          <br>
          <br>
           k<br>
          <br>
         <br>
        
<p><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-3c1f101"></span><span class="mord mathdefault amp-wp-71dec23">k</span></span></span>类的概率。<br> 若该样本的真实标签为<span class="katex--inline"><span class="katex"><span class="katex-mathml"></span></span></span></p>

        <br>
         <br>
          <br>
           y<br>
          <br>
         <br>
         <br>
          y<br>
         <br>
        <br>
       
<p><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-cfc5784"></span><span class="mord mathdefault amp-wp-548b3d3">y</span></span></span>,则交叉熵的公式可变形为：<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"></span></span></span></span></p>

         <br>
          <br>
           <br>
            c<br>
           <br>
           <br>
            r<br>
           <br>
           <br>
            o<br>
           <br>
           <br>
            s<br>
           <br>
           <br>
            s<br>
           <br>
           <br>
            _<br>
           <br>
           <br>
            e<br>
           <br>
           <br>
            n<br>
           <br>
           <br>
            t<br>
           <br>
           <br>
            r<br>
           <br>
           <br>
            o<br>
           <br>
           <br>
            p<br>
           <br>
           <br>
            y<br>
           <br>
           <br>
            =<br>
           <br>
           <br>
            −<br>
           <br>
           <br>
            <br>
             ∑<br>
            <br>
            <br>
             <br>
              k<br>
             <br>
             <br>
              =<br>
             <br>
             <br>
              1<br>
             <br>
            <br>
            <br>
             N<br>
            <br>
           <br>
           <br>
            <br>
             (<br>
            <br>
            <br>
             <br>
              p<br>
             <br>
             <br>
              k<br>
             <br>
            <br>
            <br>
             log<br>
            <br>
            <br>
             ⁡<br>
            <br>
            <br>
             <br>
              q<br>
             <br>
             <br>
              k<br>
             <br>
            <br>
            <br>
             )<br>
            <br>
           <br>
           <br>
            =<br>
           <br>
           <br>
            −<br>
           <br>
           <br>
            l<br>
           <br>
           <br>
            o<br>
           <br>
           <br>
            g<br>
            <br>
           <br>
            <br>
             q<br>
            <br>
            <br>
             y<br>
            <br>
           <br>
          <br>
          <br>
           cross\_entropy=-\sum_{k=1}^{N}\left(p_{k} \log q_{k}\right)=-log \, q_{y}<br>
          <br>
         <br>
        
<p><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-e1c3ddb"></span><span class="mord mathdefault">c</span><span class="mord mathdefault amp-wp-31509fc">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span><span class="mord amp-wp-31509fc">_</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault amp-wp-31509fc">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">p</span><span class="mord mathdefault amp-wp-548b3d3">y</span><span class="mspace amp-wp-222c607"></span><span class="mrel">=</span><span class="mspace amp-wp-222c607"></span></span><span class="base"><span class="strut amp-wp-9525c61"></span><span class="mord">−</span><span class="mspace amp-wp-14352ba"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-91bb5c4"><span class=" amp-wp-880628a"><span class="pstrut amp-wp-ce7d13b"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight amp-wp-71dec23">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span class=" amp-wp-8d70d23"><span class="pstrut amp-wp-ce7d13b"></span><span class=""><span class="mop op-symbol large-op">∑</span></span></span><span class=" amp-wp-36c8f7d"><span class="pstrut amp-wp-ce7d13b"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight amp-wp-6d57c00">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-9c96f58"><span class=""></span></span></span></span></span><span class="mspace amp-wp-14352ba"></span><span class="minner"><span class="mopen delimcenter amp-wp-9e655c4">(</span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-c126812"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight amp-wp-71dec23">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mspace amp-wp-14352ba"></span><span class="mop">lo<span class="amp-wp-81bd9c6">g</span></span><span class="mspace amp-wp-14352ba"></span><span class="mord"><span class="mord mathdefault amp-wp-548b3d3">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-c126812"><span class=" amp-wp-501c471"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight amp-wp-71dec23">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mclose delimcenter amp-wp-9e655c4">)</span></span><span class="mspace amp-wp-222c607"></span><span class="mrel">=</span><span class="mspace amp-wp-222c607"></span></span><span class="base"><span class="strut amp-wp-54eb175"></span><span class="mord">−</span><span class="mord mathdefault amp-wp-d23bff4">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault amp-wp-548b3d3">g</span><span class="mspace amp-wp-14352ba"></span><span class="mord"><span class="mord mathdefault amp-wp-548b3d3">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-5b4b0a7"><span class=" amp-wp-501c471"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight amp-wp-548b3d3">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-59a0de2"><span class=""></span></span></span></span></span></span></span></span></p>
</blockquote>
<p>Softmax函数在多分类问题中预测样本的类别时通常会有分布尖锐的问题，即输出的概率分布只在某一类别上分配很大的概率值，这就可能导致模型把注意力集中于较大的概率上，而忽略了值较小的概率，从而使得模型的泛化性能下降。而为了使softmax输出的概率分布更加的平缓，改造后的softmax函数中加入了<strong>温度参数T</strong>，即<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"></span></span></span></span></p>

        <br>
         <br>
          <br>
           <br>
            q<br>
           <br>
           <br>
            i<br>
           <br>
          <br>
          <br>
           =<br>
          <br>
          <br>
           <br>
            <br>
             exp<br>
            <br>
            <br>
             ⁡<br>
            <br>
            <br>
             (<br>
            <br>
            <br>
             <br>
              z<br>
             <br>
             <br>
              i<br>
             <br>
            <br>
            <br>
             /<br>
            <br>
            <br>
             T<br>
            <br>
            <br>
             )<br>
            <br>
           <br>
           <br>
            <br>
             <br>
              ∑<br>
             <br>
             <br>
              j<br>
             <br>
            <br>
            <br>
             exp<br>
            <br>
            <br>
             ⁡<br>
            <br>
            <br>
             (<br>
            <br>
            <br>
             <br>
              z<br>
             <br>
             <br>
              j<br>
             <br>
            <br>
            <br>
             /<br>
            <br>
            <br>
             T<br>
            <br>
            <br>
             )<br>
            <br>
           <br>
          <br>
         <br>
         <br>
          q_{i}=\frac{\exp(z_{i}/T)}{\sum_{j} \exp(z_{j} /T)}<br>
         <br>
        <br>
       
<p><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-cfc5784"></span><span class="mord"><span class="mord mathdefault amp-wp-548b3d3">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-eb09a52"><span class=" amp-wp-501c471"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mspace amp-wp-222c607"></span><span class="mrel">=</span><span class="mspace amp-wp-222c607"></span></span><span class="base"><span class="strut amp-wp-99b4fad"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-e47ee98"><span class=" amp-wp-840e3b7"><span class="pstrut amp-wp-438bf38"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op amp-wp-a8b8d8b">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-0b475de"><span class=" amp-wp-53157f6"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight amp-wp-4bfbdb2">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-80486ac"><span class=""></span></span></span></span></span></span><span class="mspace amp-wp-14352ba"></span><span class="mop">exp</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault amp-wp-1692540">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-eb09a52"><span class=" amp-wp-4c27ad4"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight amp-wp-4bfbdb2">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-59a0de2"><span class=""></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathdefault amp-wp-410a189">T</span><span class="mclose">)</span></span></span><span class=" amp-wp-d4f3e1a"><span class="pstrut amp-wp-438bf38"></span><span class="frac-line amp-wp-5bd8f47"></span></span><span class=" amp-wp-9d4ecbd"><span class="pstrut amp-wp-438bf38"></span><span class="mord"><span class="mop">exp</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault amp-wp-1692540">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-eb09a52"><span class=" amp-wp-4c27ad4"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathdefault amp-wp-410a189">T</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-b45b7da"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><br> 其中<span class="katex--inline"><span class="katex"><span class="katex-mathml"></span></span></span></p>

       <br>
        <br>
         <br>
          T<br>
         <br>
        <br>
        <br>
         T<br>
        <br>
       <br>
      
<p><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-dc6bbd0"></span><span class="mord mathdefault amp-wp-410a189">T</span></span></span>的值越大，softmax输出的概率分布就越平缓，它所包含的分类信息就越多。</p>
<p>下面通过一个简单的例子来说一下知识蒸馏是如何进行的。如下图所示，此时我们需要对图片进行分类，即判断它是Dog、Cat和Car中的哪一类，对应的类标签采用one-got向量表示。模型此时存在老师网络和学习网络两个模型，其中学生网络更为简单，因此如果直接使用学生网络进行分类时，它会给出判断图片具体属于哪一类，是狗是猫还是汽车。学生网络若只是单纯的进行训练，模型希望预测的类标签尽可能和真实标签一致，通常称为<strong>硬目标</strong>（hard target），对应的损失函数记为<span class="katex--inline"><span class="katex"><span class="katex-mathml"></span></span></span></p>

       <br>
        <br>
         <br>
          L<br>
         <br>
         <br>
          o<br>
         <br>
         <br>
          s<br>
         <br>
         <br>
          <br>
           s<br>
          <br>
          <br>
           <br>
            h<br>
           <br>
           <br>
            a<br>
           <br>
           <br>
            r<br>
           <br>
           <br>
            d<br>
           <br>
          <br>
         <br>
         <br>
          =<br>
         <br>
         <br>
          (<br>
         <br>
         <br>
          p<br>
         <br>
         <br>
          ,<br>
         <br>
         <br>
          q<br>
         <br>
         <br>
          )<br>
         <br>
        <br>
        <br>
         Loss_{hard} = (p,q)<br>
        <br>
       <br>
      
<p><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-b546573"></span><span class="mord mathdefault">L</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-c126812"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight amp-wp-31509fc">r</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mspace amp-wp-222c607"></span><span class="mrel">=</span><span class="mspace amp-wp-222c607"></span></span><span class="base"><span class="strut amp-wp-9b4bde0"></span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mpunct">,</span><span class="mspace amp-wp-14352ba"></span><span class="mord mathdefault amp-wp-548b3d3">q</span><span class="mclose">)</span></span></span>。但由于学生网络本身较为简单，因此分类的效果通常来说并不好。因此，此时就需要老师网络的输出信息来提供指导。</p>
<p>老师网络同样采用相同的数据进行训练，但它的softmax输出记为<span class="katex--inline"><span class="katex"><span class="katex-mathml"></span></span></span></p>

       <br>
        <br>
         <br>
          <br>
           q<br>
          <br>
          <br>
           ′<br>
          <br>
         <br>
        <br>
        <br>
         q’<br>
        <br>
       <br>
      
<p><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-3484491"></span><span class="mord"><span class="mord mathdefault amp-wp-548b3d3">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist amp-wp-4d3047e"><span class=" amp-wp-0da45c1"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"></span></span></span></p>

       <br>
        <br>
         <br>
          <br>
           q<br>
          <br>
          <br>
           ′<br>
          <br>
         <br>
        <br>
        <br>
         q’<br>
        <br>
       <br>
      
<p><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-3484491"></span><span class="mord"><span class="mord mathdefault amp-wp-548b3d3">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist amp-wp-4d3047e"><span class=" amp-wp-0da45c1"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span>的概率分布并不平缓。因此，<span class="katex--inline"><span class="katex"><span class="katex-mathml"></span></span></span></p>

       <br>
        <br>
         <br>
          <br>
           q<br>
          <br>
          <br>
           ′<br>
          <br>
         <br>
        <br>
        <br>
         q’<br>
        <br>
       <br>
      
<p><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-3484491"></span><span class="mord"><span class="mord mathdefault amp-wp-548b3d3">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist amp-wp-4d3047e"><span class=" amp-wp-0da45c1"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span>需要经过一个“蒸馏”的过程使得它的分布更加的平缓，这样的方式得到的结果称为<strong>软目标</strong>（soft target）。因此，如果有老师网络的帮助，学生网络的输出分布也应和<span class="katex--inline"><span class="katex"><span class="katex-mathml"></span></span></span></p>

       <br>
        <br>
         <br>
          <br>
           q<br>
          <br>
          <br>
           <br>
            ′<br>
           <br>
           <br>
            ′<br>
           <br>
          <br>
         <br>
        <br>
        <br>
         q”<br>
        <br>
       <br>
      
<p><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-3484491"></span><span class="mord"><span class="mord mathdefault amp-wp-548b3d3">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist amp-wp-4d3047e"><span class=" amp-wp-0da45c1"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span>接近，即希望它也可以学习到老师的知识，那么对应的损失函数记为<span class="katex--inline"><span class="katex"><span class="katex-mathml"></span></span></span></p>

       <br>
        <br>
         <br>
          L<br>
         <br>
         <br>
          o<br>
         <br>
         <br>
          s<br>
         <br>
         <br>
          <br>
           s<br>
          <br>
          <br>
           <br>
            s<br>
           <br>
           <br>
            o<br>
           <br>
           <br>
            f<br>
           <br>
           <br>
            t<br>
           <br>
          <br>
         <br>
         <br>
          =<br>
         <br>
         <br>
          (<br>
         <br>
         <br>
          <br>
           q<br>
          <br>
          <br>
           ′<br>
          <br>
         <br>
         <br>
          ,<br>
         <br>
         <br>
          <br>
           q<br>
          <br>
          <br>
           <br>
            ′<br>
           <br>
           <br>
            ′<br>
           <br>
          <br>
         <br>
         <br>
          )<br>
         <br>
        <br>
        <br>
         Loss_{soft} = (q’,q”)<br>
        <br>
       <br>
      
<p><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-8d3b43e"></span><span class="mord mathdefault">L</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-c126812"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight amp-wp-5c903a1">f</span><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-59a0de2"><span class=""></span></span></span></span></span></span><span class="mspace amp-wp-222c607"></span><span class="mrel">=</span><span class="mspace amp-wp-222c607"></span></span><span class="base"><span class="strut amp-wp-81603b2"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault amp-wp-548b3d3">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist amp-wp-4d3047e"><span class=" amp-wp-0da45c1"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace amp-wp-14352ba"></span><span class="mord"><span class="mord mathdefault amp-wp-548b3d3">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist amp-wp-4d3047e"><span class=" amp-wp-0da45c1"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span>。</p>
<p>所以实际上学生网络对应的损失包含两部分：<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"></span></span></span></span></p>

        <br>
         <br>
          <br>
           L<br>
          <br>
          <br>
           O<br>
          <br>
          <br>
           S<br>
          <br>
          <br>
           S<br>
          <br>
          <br>
           =<br>
          <br>
          <br>
           L<br>
          <br>
          <br>
           o<br>
          <br>
          <br>
           s<br>
          <br>
          <br>
           <br>
            s<br>
           <br>
           <br>
            <br>
             h<br>
            <br>
            <br>
             a<br>
            <br>
            <br>
             r<br>
            <br>
            <br>
             d<br>
            <br>
           <br>
          <br>
          <br>
           +<br>
          <br>
          <br>
           L<br>
          <br>
          <br>
           o<br>
          <br>
          <br>
           s<br>
          <br>
          <br>
           s<br>
          <br>
          <br>
           +<br>
          <br>
          <br>
           <br>
            s<br>
           <br>
           <br>
            o<br>
           <br>
           <br>
            f<br>
           <br>
           <br>
            t<br>
           <br>
          <br>
         <br>
         <br>
          LOSS = Loss_{hard} + Loss+{soft}<br>
         <br>
        <br>
       
<p><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-dc6bbd0"></span><span class="mord mathdefault">L</span><span class="mord mathdefault amp-wp-31509fc">O</span><span class="mord mathdefault amp-wp-de9022a">S</span><span class="mord mathdefault amp-wp-de9022a">S</span><span class="mspace amp-wp-222c607"></span><span class="mrel">=</span><span class="mspace amp-wp-222c607"></span></span><span class="base"><span class="strut amp-wp-b546573"></span><span class="mord mathdefault">L</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-c126812"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight amp-wp-31509fc">r</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mspace amp-wp-3bf6069"></span><span class="mbin">+</span><span class="mspace amp-wp-3bf6069"></span></span><span class="base"><span class="strut amp-wp-3385071"></span><span class="mord mathdefault">L</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span><span class="mspace amp-wp-3bf6069"></span><span class="mbin">+</span><span class="mspace amp-wp-3bf6069"></span></span><span class="base"><span class="strut amp-wp-dba2b8a"></span><span class="mord"><span class="mord mathdefault">s</span><span class="mord mathdefault">o</span><span class="mord mathdefault amp-wp-5c903a1">f</span><span class="mord mathdefault">t</span></span></span></span><br> <amp-img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20200223135753491.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZvcmxvZ2Vu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" width="1395" height="493" class="amp-wp-enforced-sizes" layout="intrinsic"><noscript><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20200223135753491.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZvcmxvZ2Vu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" width="1395" height="493" class=""></noscript></amp-img></p>
<blockquote>
<p>以上内容学习自B站不相识不打同学的<a href="https://www.bilibili.com/video/av87124082?from=search&seid=10281719239339261263" rel="nofollow">《神经网络知识蒸馏》</a>，本人做的只是总结和转述，十分感谢，有兴趣的可以自行观看~</p>
</blockquote>
<p>知识蒸馏广泛的应用了深度学习的各个领域，这里只是做简单的介绍，有兴趣的可以阅读更多相关的文章。</p>
<blockquote>
<p><a href="https://arxiv.org/pdf/1707.01219.pdf" rel="nofollow">Like What You Like: Knowledge Distill via Neuron Selectivity Transfer</a><br> <a href="https://arxiv.org/pdf/1709.00513.pdf" rel="nofollow">Training Shallow and Thin Networks for Acceleration via Knowledge Distillation with Conditional Adversarial Networks</a><br> <a href="https://arxiv.org/pdf/1706.00384.pdf" rel="nofollow">Deep Mutual Learning</a><br> <a href="https://arxiv.org/pdf/1805.04770.pdf" rel="nofollow">Born Again Neural Networks</a><br> <a href="https://zhuanlan.zhihu.com/p/90049906" rel="nofollow">知识蒸馏是什么？一份入门随笔</a></p>
</blockquote>
<hr>
<p>BERT等预训练模型两个重要的发展方向便是两个极端：不断地加数据量、算力和模型的容量 </p>
<p>  </p><center><br>
   <br> <br>
   <amp-img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20200223204122169.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZvcmxvZ2Vu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" width="735" height="430" class="amp-wp-enforced-sizes" layout="intrinsic"><noscript><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20200223204122169.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZvcmxvZ2Vu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" width="735" height="430" class=""></noscript></amp-img><br>
  </center>
<p>但是这样的方式只能是大公司的游戏，而且就算有预训练的模型放出来，fine-tune后推断所需的时间的也是很长的。另一个方向便是在不损失模型性能的同时尽可能的减少模型训练所需的参数量，这时模型压缩就发挥了很大的作用，例如<strong>量化</strong>、<strong>权重剪枝</strong>和<strong>知识蒸馏</strong>等。而知识蒸馏作为模型压缩中一种重要的手段，研究人员便尝试将BERT和知识蒸馏进行结合，最后得到的模型容量大大的减少了，同时模型在下游任务的效果又不受太多的影响。</p>
<hr>
<p><a href="https://arxiv.org/abs/1910.01108" rel="nofollow"><strong>DistilBERT, a distilled version of BERT: smaller, faster, cheaper and lighter</strong></a></p>
<p><strong>DistilBERT</strong>是huggingface公司发表于NIPS 2019 上的成果，它就是使用知识蒸馏技术来训练一个小型化的BERT，模型的大小减少了40%，虽然性能降低了约3%，但是推断的速度提升了60%。</p>
<p>  </p><center><br>
   <br> <br>
   <amp-img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20200223211043591.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZvcmxvZ2Vu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" width="625" height="371" class="amp-wp-enforced-sizes" layout="intrinsic"><noscript><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20200223211043591.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZvcmxvZ2Vu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" width="625" height="371" class=""></noscript></amp-img><br>
  </center>
<p>它具体的做法如下：</p>
<ul>
<li>利用Google原始的BERT作为老师网络</li>
<li>学生网络是在BERT-base的基础上只使用一半的层数</li>
<li>同时利用老师网络的输出做软目标和老师网络本身 hidden layer 的参数来同时提供指导信息训练学生网络</li>
</ul>
<p>另外蒸馏过程涉及的损失项这里是三个，如下所示：</p>
<ul>
<li><span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>

        <br>
         <br>
          <br>
           <br>
            L<br>
           <br>
           <br>
            <br>
             c<br>
            <br>
            <br>
             f<br>
            <br>
           <br>
          <br>
         <br>
         <br>
          L_{cf}<br>
         <br>
        <br>
       
<p></p></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-8d3b43e"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-c126812"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight amp-wp-5c903a1">f</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-59a0de2"><span class=""></span></span></span></span></span></span></span></span></span></span>：传统知识蒸馏中老师网络和学生网络的输出经过softmax后分布的交叉熵</li>
<li><span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>

        <br>
         <br>
          <br>
           <br>
            L<br>
           <br>
           <br>
            <br>
             m<br>
            <br>
            <br>
             l<br>
            <br>
            <br>
             m<br>
            <br>
           <br>
          <br>
         <br>
         <br>
          L_{mlm}<br>
         <br>
        <br>
       
<p></p></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-b546573"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-c126812"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight amp-wp-d23bff4">l</span><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span></span></span></span></span>：学生网络本身的softmax输出和真实标签的交叉熵</li>
<li><span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>

        <br>
         <br>
          <br>
           <br>
            L<br>
           <br>
           <br>
            <br>
             c<br>
            <br>
            <br>
             o<br>
            <br>
            <br>
             s<br>
            <br>
           <br>
          <br>
         <br>
         <br>
          L_{cos}<br>
         <br>
        <br>
       
<p></p></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-b546573"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-5b4b0a7"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span></span></span></span></span>：这个是新加的，计算的是老师网络和学生网络每个 hidden layer 输出之间的余弦相似度</li>
</ul>
<hr>
<p><strong><a href="https://arxiv.org/abs/1903.12136" rel="nofollow">Distilling Task-Specific Knowledge from BERT into Simple Neural Networks</a></strong></p>
<p>  </p><center><br>
   <br> <br>
   <amp-img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20200223214627459.png" alt="在这里插入图片描述" width="500" height="147" class="amp-wp-enforced-sizes" layout="intrinsic"><noscript><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20200223214627459.png" alt="在这里插入图片描述" width="500" height="147" class=""></noscript></amp-img><br>
  </center>
<p>DistilBERT是将小型的多层Transformer来做学生网络，这样蒸馏过程所需的算力仍然是不晓得，因此，本文学生网络选择了更为简单的BiLSTM。其中BiLSTM针对于单句分类和句子对分类分别使用了两种类别的模型。</p>
<p>针对于单句分类问题，作者是将句子所有的词作为BiLSTM的输入，然后将前向和后向的状态进行拼接后通过全连接层进行分类。</p>
<p>  </p><center><br>
   <br> <br>
   <amp-img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20200223221107946.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZvcmxvZ2Vu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" width="355" height="344" class="amp-wp-enforced-sizes" layout="intrinsic"><noscript><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20200223221107946.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZvcmxvZ2Vu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" width="355" height="344" class=""></noscript></amp-img><br>
  </center>
<p>针对于句子对的分类，首先分别得到两个句子的表示向量，然后做拼接后再进行分类，拼接的公式为：<span class="katex--inline"><span class="katex"><span class="katex-mathml"></span></span></span></p>

       <br>
        <br>
         <br>
          f<br>
         <br>
         <br>
          <br>
           (<br>
          <br>
          <br>
           <br>
            h<br>
           <br>
           <br>
            1<br>
           <br>
          <br>
          <br>
           ,<br>
          <br>
          <br>
           <br>
            h<br>
           <br>
           <br>
            2<br>
           <br>
          <br>
          <br>
           )<br>
          <br>
         <br>
         <br>
          =<br>
         <br>
         <br>
          <br>
           [<br>
          <br>
          <br>
           <br>
            h<br>
           <br>
           <br>
            1<br>
           <br>
          <br>
          <br>
           ,<br>
          <br>
          <br>
           <br>
            h<br>
           <br>
           <br>
            2<br>
           <br>
          <br>
          <br>
           ,<br>
          <br>
          <br>
           <br>
            h<br>
           <br>
           <br>
            1<br>
           <br>
          <br>
          <br>
           ⊙<br>
          <br>
          <br>
           <br>
            h<br>
           <br>
           <br>
            2<br>
           <br>
          <br>
          <br>
           ,<br>
          <br>
          <br>
           <br>
            ∣<br>
           <br>
           <br>
            <br>
             h<br>
            <br>
            <br>
             1<br>
            <br>
           <br>
           <br>
            −<br>
           <br>
           <br>
            <br>
             h<br>
            <br>
            <br>
             2<br>
            <br>
           <br>
           <br>
            ∣<br>
           <br>
          <br>
          <br>
           ]<br>
          <br>
         <br>
        <br>
        <br>
         f\left(h_{1}, h_{2}\right)=\left[h_{1}, h_{2}, h_{1} \odot h_{2},\left|h_{1}-h_{2}\right|\right]<br>
        <br>
       <br>
      
<p><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-9b4bde0"></span><span class="mord mathdefault amp-wp-5c903a1">f</span><span class="mspace amp-wp-14352ba"></span><span class="minner"><span class="mopen delimcenter amp-wp-9e655c4">(</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-a66edb6"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace amp-wp-14352ba"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-a66edb6"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mclose delimcenter amp-wp-9e655c4">)</span></span><span class="mspace amp-wp-222c607"></span><span class="mrel">=</span><span class="mspace amp-wp-222c607"></span></span><span class="base"><span class="strut amp-wp-9b4bde0"></span><span class="minner"><span class="mopen delimcenter amp-wp-9e655c4">[</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-a66edb6"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace amp-wp-14352ba"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-a66edb6"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace amp-wp-14352ba"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-a66edb6"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mspace amp-wp-3bf6069"></span><span class="mbin">⊙</span><span class="mspace amp-wp-3bf6069"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-a66edb6"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace amp-wp-14352ba"></span><span class="minner"><span class="mopen delimcenter amp-wp-9e655c4">∣</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-a66edb6"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mspace amp-wp-3bf6069"></span><span class="mbin">−</span><span class="mspace amp-wp-3bf6069"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist amp-wp-a66edb6"><span class=" amp-wp-22f0afe"><span class="pstrut amp-wp-a03f50d"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist amp-wp-df21763"><span class=""></span></span></span></span></span></span><span class="mclose delimcenter amp-wp-9e655c4">∣</span></span><span class="mclose delimcenter amp-wp-9e655c4">]</span></span></span></span>。</p>
<p>  </p><center><br>
   <br> <br>
   <amp-img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20200223221734880.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZvcmxvZ2Vu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" width="349" height="399" class="amp-wp-enforced-sizes" layout="intrinsic"><noscript><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20200223221734880.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZvcmxvZ2Vu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" width="349" height="399" class=""></noscript></amp-img><br>
  </center>
<p>除了两种类型的学生网络外，文中还提出了三种数据增广的方法：</p>
<ul>
<li><strong>MASK</strong>：使用<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>

        <br>
         <br>
          <br>
           [<br>
          <br>
          <br>
           M<br>
          <br>
          <br>
           A<br>
          <br>
          <br>
           S<br>
          <br>
          <br>
           K<br>
          <br>
          <br>
           ]<br>
          <br>
         <br>
         <br>
          [MASK]<br>
         <br>
        <br>
       
<p></p></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-9b4bde0"></span><span class="mopen">[</span><span class="mord mathdefault amp-wp-6d57c00">M</span><span class="mord mathdefault">A</span><span class="mord mathdefault amp-wp-de9022a">S</span><span class="mord mathdefault amp-wp-3625c0d">K</span><span class="mclose">]</span></span></span></span></span>随机替换某个词</li>
<li><strong>POS-guided word replacement</strong>：使用命名实体标签一样的词进行替换</li>
<li><strong>n-gram</strong>：从<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>

        <br>
         <br>
          <br>
           {<br>
          <br>
          <br>
           1<br>
          <br>
          <br>
           ,<br>
          <br>
          <br>
           2<br>
          <br>
          <br>
           ,<br>
          <br>
          <br>
           .<br>
          <br>
          <br>
           .<br>
          <br>
          <br>
           .<br>
          <br>
          <br>
           ,<br>
          <br>
          <br>
           5<br>
          <br>
          <br>
           }<br>
          <br>
         <br>
         <br>
          \{1,2,…,5\}<br>
         <br>
        <br>
       
<p></p></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut amp-wp-9b4bde0"></span><span class="mopen">{</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace amp-wp-14352ba"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace amp-wp-14352ba"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace amp-wp-14352ba"></span><span class="mord">5</span><span class="mclose">}</span></span></span></span></span>随机选择数做为 n 进行替换 n-gram 的替换</li>
</ul>
<p>实验效果如下所示：</p>
<p>  </p><center><br>
   <br> <br>
   <amp-img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20200223222321481.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZvcmxvZ2Vu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" width="668" height="274" class="amp-wp-enforced-sizes" layout="intrinsic"><noscript><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20200223222321481.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ZvcmxvZ2Vu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" width="668" height="274" class=""></noscript></amp-img><br>
  </center>
<p>还有比较有代表性的就是Google的AlBERT和华为的TinyBERT，有兴趣的可以浏览以下的博文。</p>
<blockquote>
<p><a href="https://www.cnblogs.com/jiangxinyang/p/11715678.html" rel="nofollow">NLP中的预训练语言模型（四）—— 小型化bert（DistillBert, ALBERT, TINYBERT）</a><br> <a href="https://www.leiphone.com/news/201910/DlHt7B6lzAKXK9Kz.html" rel="nofollow">加速BERT模型有多少种方法？从架构优化、模型压缩到模型蒸馏，最新进展详解！</a><br> <a href="https://zhuanlan.zhihu.com/p/86900556" rel="nofollow">BERT 瘦身之路：Distillation，Quantization，Pruning</a></p>
</blockquote></div>

<div class="more-toolbox">
<div class="left-toolbox">
<ul class="toolbox-list">
<li class="tool-item tool-active is-like "><a><br>
      <svg class="icon" aria-hidden="true"><br>
       <use xlink:href="#csdnc-thumbsup"></use><br>
      </svg><span class="name">点赞</span> <span class="count"></span> </a></li>
<li class="tool-item tool-active is-collection "><a data-report-click='{"mod":"popu_824"}'><br>
      <svg class="icon" aria-hidden="true"><br>
       <use xlink:href="#icon-csdnc-Collection-G"></use><br>
      </svg><span class="name">收藏</span></a></li>
<li class="tool-item tool-active is-share"><a data-report-click='{"mod":"1582594662_002"}'><br>
      <svg class="icon" aria-hidden="true"><br>
       <use xlink:href="#icon-csdnc-fenxiang"></use><br>
      </svg>分享</a></li>
<p>    <br>
     </p>
<li class="tool-item tool-more"> <a><br>
      <svg class="icon" viewbox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><br>
       <defs>

<p>       </p></defs>
       <path d="M179.176 499.222m-113.245 0a113.245 113.245 0 1 0 226.49 0 113.245 113.245 0 1 0-226.49 0Z"></path>
       <path d="M509.684 499.222m-113.245 0a113.245 113.245 0 1 0 226.49 0 113.245 113.245 0 1 0-226.49 0Z"></path>
       <path d="M846.175 499.222m-113.245 0a113.245 113.245 0 1 0 226.49 0 113.245 113.245 0 1 0-226.49 0Z"></path>
      </svg> </a> 
<ul class="more-box">
<li class="item"><a class="article-report">文章举报</a></li>
</ul>
</li>
</ul></div>
</div>
<div class="person-messagebox">
<div class="left-message">
   <a href="https://blog.csdn.net/Forlogen"> <amp-img src="https://profile.csdnimg.cn/9/9/A/3_forlogen" class="avatar_pic amp-wp-enforced-sizes" width="75" height="75" layout="intrinsic"><noscript><img src="https://profile.csdnimg.cn/9/9/A/3_forlogen" class="avatar_pic" width="75" height="75"></noscript></amp-img> <amp-img src="https://g.csdnimg.cn/static/user-reg-year/1x/6.png" class="user-years amp-wp-enforced-sizes" width="22" height="23" layout="intrinsic"><noscript><img src="https://g.csdnimg.cn/static/user-reg-year/1x/6.png" class="user-years" width="22" height="23"></noscript></amp-img> </a>
  </div>
<div class="middle-message">
<div class="title">
    <span class="tit"><a href="https://blog.csdn.net/Forlogen" data-report-click='{"mod":"popu_379"}' target="_blank" rel="noopener noreferrer">Forlogen</a></span>
   </div>
<div class="text">
    <span>发布了420 篇原创文章</span> ·<br>
    <span>获赞 119</span> ·<br>
    <span>访问量 22万+</span>
   </div>
</div>
<div class="right-message">
   <a href="https://im.csdn.net/im/main.html?userName=Forlogen" target="_blank" class="btn btn-sm btn-red-hollow bt-button personal-letter" rel="noopener noreferrer">私信 </a><br>
   <a class="btn btn-sm  bt-button personal-watch" data-report-click='{"mod":"popu_379"}'>关注</a>
  </div>
</div>
</div>
	</div>

	<footer class="amp-wp-article-footer">
			<div class="amp-wp-meta amp-wp-tax-category">
		Categories: Uncategorized	</div>

	<div class="amp-wp-meta amp-wp-tax-tag">
		Tags: <a href="https://uzzz.org/tag/nlp/" rel="tag">NLP</a>	</div>
	</footer>
</article>

<footer class="amp-wp-footer">
	<div>
		<h2>有组织在!</h2>
		<a href="#top" class="back-to-top">Back to top</a>
	</div>
</footer>



</body>
</html>
